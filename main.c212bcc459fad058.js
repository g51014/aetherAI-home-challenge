"use strict";(self.webpackChunkaetherAI_home_challenge=self.webpackChunkaetherAI_home_challenge||[]).push([[179],{440:(mt,Oe,x)=>{x.d(Oe,{nm:()=>xi});var E=x(5813);x(4650),x(5867);var Ge=x(5861),ke=x(9681),Ue=x(4859),tt=x(2090),rt=x(1877);const ee=new Map,$e={activated:!1,tokenObservers:[]},de={initialized:!1,enabled:!1};function ye(ge){return ee.get(ge)||$e}function be(ge,ve){ee.set(ge,ve)}function Be(){return de}class Ot{constructor(ve,xe,qe,dt,Tt){if(this.operation=ve,this.retryPolicy=xe,this.getWaitDuration=qe,this.lowerBound=dt,this.upperBound=Tt,this.pending=null,this.nextErrorWaitInterval=dt,dt>Tt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ve){var xe=this;return(0,Ge.Z)(function*(){xe.stop();try{xe.pending=new tt.BH,yield function Zt(ge){return new Promise(ve=>{setTimeout(ve,ge)})}(xe.getNextRun(ve)),xe.pending.resolve(),yield xe.pending.promise,xe.pending=new tt.BH,yield xe.operation(),xe.pending.resolve(),yield xe.pending.promise,xe.process(!0).catch(()=>{})}catch(qe){xe.retryPolicy(qe)?xe.process(!1).catch(()=>{}):xe.stop()}})()}getNextRun(ve){if(ve)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const xe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),xe}}}const Rt=new tt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pt(ge){if(!ye(ge).activated)throw Rt.create("use-before-activation",{appName:ge.name})}function Zn(ge,ve){return li.apply(this,arguments)}function li(){return(li=(0,Ge.Z)(function*({url:ge,body:ve},xe){var qe,dt;const Tt={"Content-Type":"application/json"},jt=xe.getImmediate({optional:!0});if(jt){const Yr=yield jt.getHeartbeatsHeader();Yr&&(Tt["X-Firebase-Client"]=Yr)}const yi={method:"POST",body:JSON.stringify(ve),headers:Tt};let bn,ar;try{bn=yield fetch(ge,yi)}catch(Yr){throw Rt.create("fetch-network-error",{originalErrorMessage:null===(qe=Yr)||void 0===qe?void 0:qe.message})}if(200!==bn.status)throw Rt.create("fetch-status-error",{httpStatus:bn.status});try{ar=yield bn.json()}catch(Yr){throw Rt.create("fetch-parse-error",{originalErrorMessage:null===(dt=Yr)||void 0===dt?void 0:dt.message})}const ns=ar.ttl.match(/^([\d.]+)(s)$/);if(!ns||!ns[2]||isNaN(Number(ns[1])))throw Rt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ar.ttl}`});const Dr=1e3*Number(ns[1]),lr=Date.now();return{token:ar.token,expireTimeMillis:lr+Dr,issuedAtTimeMillis:lr}})).apply(this,arguments)}function pi(ge,ve){const{projectId:xe,appId:qe,apiKey:dt}=ge.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${xe}/apps/${qe}:exchangeDebugToken?key=${dt}`,body:{debug_token:ve}}}const ft="firebase-app-check-store";let nn=null;function gn(){return nn||(nn=new Promise((ge,ve)=>{var xe;try{const qe=indexedDB.open("firebase-app-check-database",1);qe.onsuccess=dt=>{ge(dt.target.result)},qe.onerror=dt=>{var Tt;ve(Rt.create("storage-open",{originalErrorMessage:null===(Tt=dt.target.error)||void 0===Tt?void 0:Tt.message}))},qe.onupgradeneeded=dt=>{0===dt.oldVersion&&dt.target.result.createObjectStore(ft,{keyPath:"compositeKey"})}}catch(qe){ve(Rt.create("storage-open",{originalErrorMessage:null===(xe=qe)||void 0===xe?void 0:xe.message}))}}),nn)}function Dn(){return(Dn=(0,Ge.Z)(function*(ge,ve){const qe=(yield gn()).transaction(ft,"readwrite"),Tt=qe.objectStore(ft).put({compositeKey:ge,value:ve});return new Promise((jt,yi)=>{Tt.onsuccess=bn=>{jt()},qe.onerror=bn=>{var ar;yi(Rt.create("storage-set",{originalErrorMessage:null===(ar=bn.target.error)||void 0===ar?void 0:ar.message}))}})})).apply(this,arguments)}const Nn=new rt.Yd("@firebase/app-check");function Ai(ge,ve){return(0,tt.hl)()?function Oi(ge,ve){return function ci(ge,ve){return Dn.apply(this,arguments)}(function Ct(ge){return`${ge.options.appId}-${ge.name}`}(ge),ve)}(ge,ve).catch(xe=>{Nn.warn(`Failed to write token to IndexedDB. Error: ${xe}`)}):Promise.resolve()}function pn(){return Be().enabled}function Ni(){return te.apply(this,arguments)}function te(){return(te=(0,Ge.Z)(function*(){const ge=Be();if(ge.enabled&&ge.token)return ge.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Q={error:"UNKNOWN_ERROR"};function ce(ge){return tt.US.encodeString(JSON.stringify(ge),!1)}function oe(ge){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,Ge.Z)(function*(ge,ve=!1){const xe=ge.app;pt(xe);const qe=ye(xe);let Tt,dt=qe.token;if(!dt){const bn=yield qe.cachedTokenPromise;bn&&qt(bn)&&(dt=bn)}if(!ve&&dt&&qt(dt))return{token:dt.token};let yi,jt=!1;if(pn()){qe.exchangeTokenPromise||(qe.exchangeTokenPromise=Zn(pi(xe,yield Ni()),ge.heartbeatServiceProvider).then(ar=>(qe.exchangeTokenPromise=void 0,ar)),jt=!0);const bn=yield qe.exchangeTokenPromise;return yield Ai(xe,bn),be(xe,Object.assign(Object.assign({},qe),{token:bn})),{token:bn.token}}try{qe.exchangeTokenPromise||(qe.exchangeTokenPromise=qe.provider.getToken().then(bn=>(qe.exchangeTokenPromise=void 0,bn)),jt=!0),dt=yield qe.exchangeTokenPromise}catch(bn){"appCheck/throttled"===bn.code?Nn.warn(bn.message):Nn.error(bn),Tt=bn}return dt?(yi={token:dt.token},be(xe,Object.assign(Object.assign({},qe),{token:dt})),yield Ai(xe,dt)):yi=Xt(Tt),jt&&ui(xe,yi),yi})).apply(this,arguments)}function wt(ge,ve){const xe=ye(ge),qe=xe.tokenObservers.filter(dt=>dt.next!==ve);0===qe.length&&xe.tokenRefresher&&xe.tokenRefresher.isRunning()&&xe.tokenRefresher.stop(),be(ge,Object.assign(Object.assign({},xe),{tokenObservers:qe}))}function hn(ge){const{app:ve}=ge,xe=ye(ve);let qe=xe.tokenRefresher;qe||(qe=function zt(ge){const{app:ve}=ge;return new Ot((0,Ge.Z)(function*(){let qe;if(qe=ye(ve).token?yield oe(ge,!0):yield oe(ge),qe.error)throw qe.error}),()=>!0,()=>{const xe=ye(ve);if(xe.token){let qe=xe.token.issuedAtTimeMillis+.5*(xe.token.expireTimeMillis-xe.token.issuedAtTimeMillis)+3e5;return qe=Math.min(qe,xe.token.expireTimeMillis-3e5),Math.max(0,qe-Date.now())}return 0},3e4,96e4)}(ge),be(ve,Object.assign(Object.assign({},xe),{tokenRefresher:qe}))),!qe.isRunning()&&xe.isTokenAutoRefreshEnabled&&qe.start()}function ui(ge,ve){const xe=ye(ge).tokenObservers;for(const qe of xe)try{"EXTERNAL"===qe.type&&null!=ve.error?qe.error(ve.error):qe.next(ve)}catch{}}function qt(ge){return ge.expireTimeMillis-Date.now()>0}function Xt(ge){return{token:ce(Q),error:ge}}class Mn{constructor(ve,xe){this.app=ve,this.heartbeatServiceProvider=xe}_delete(){const{tokenObservers:ve}=ye(this.app);for(const xe of ve)wt(this.app,xe.next);return Promise.resolve()}}const vr="app-check-internal";!function yr(){(0,ke._registerComponent)(new Ue.wA("app-check",ge=>function si(ge,ve){return new Mn(ge,ve)}(ge.getProvider("app").getImmediate(),ge.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ge,ve,xe)=>{ge.getProvider(vr).initialize()})),(0,ke._registerComponent)(new Ue.wA(vr,ge=>function di(ge){return{getToken:ve=>oe(ge,ve),addTokenListener:ve=>function ct(ge,ve,xe,qe){const{app:dt}=ge,Tt=ye(dt),jt={next:xe,error:qe,type:ve};if(be(dt,Object.assign(Object.assign({},Tt),{tokenObservers:[...Tt.tokenObservers,jt]})),Tt.token&&qt(Tt.token)){const yi=Tt.token;Promise.resolve().then(()=>{xe({token:yi.token}),hn(ge)}).catch(()=>{})}Tt.cachedTokenPromise.then(()=>hn(ge))}(ge,"INTERNAL",ve),removeTokenListener:ve=>wt(ge.app,ve)}}(ge.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ke.registerVersion)("@firebase/app-check","0.5.12")}();class xi{constructor(){return(0,E.vb)("app-check")}}typeof window<"u"&&window},1205:(mt,Oe,x)=>{x.d(Oe,{zQ:()=>De,rT:()=>de,f7:()=>be,L6:()=>ee,_Q:()=>$e,lh:()=>ye,Qv:()=>rt,nw:()=>Be});var E=x(4650),d=x(7579),j=x(9646),he=x(9751),le=x(8996),me=x(6451),Te=x(6063);class re extends d.x{constructor(It=1/0,Dt=1/0,ze=Te.l){super(),this._bufferSize=It,this._windowTime=Dt,this._timestampProvider=ze,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Dt===1/0,this._bufferSize=Math.max(1,It),this._windowTime=Math.max(1,Dt)}next(It){const{isStopped:Dt,_buffer:ze,_infiniteTimeWindow:Ot,_timestampProvider:Zt,_windowTime:Ft}=this;Dt||(ze.push(It),!Ot&&ze.push(Zt.now()+Ft)),this._trimBuffer(),super.next(It)}_subscribe(It){this._throwIfClosed(),this._trimBuffer();const Dt=this._innerSubscribe(It),{_infiniteTimeWindow:ze,_buffer:Ot}=this,Zt=Ot.slice();for(let Ft=0;Ft<Zt.length&&!It.closed;Ft+=ze?1:2)It.next(Zt[Ft]);return this._checkFinalizedStatuses(It),Dt}_trimBuffer(){const{_bufferSize:It,_timestampProvider:Dt,_buffer:ze,_infiniteTimeWindow:Ot}=this,Zt=(Ot?1:2)*It;if(It<1/0&&Zt<ze.length&&ze.splice(0,ze.length-Zt),!Ot){const Ft=Dt.now();let Rt=0;for(let fn=1;fn<ze.length&&ze[fn]<=Ft;fn+=2)Rt=fn;Rt&&ze.splice(0,Rt+1)}}}var Se=x(3099);function J(lt,It,Dt){let ze,Ot=!1;return lt&&"object"==typeof lt?({bufferSize:ze=1/0,windowTime:It=1/0,refCount:Ot=!1,scheduler:Dt}=lt):ze=lt??1/0,(0,Se.B)({connector:()=>new re(ze,It,Dt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ot})}var Y=x(3900),ie=x(576);function Ne(lt,It){return(0,ie.m)(It)?(0,Y.w)(()=>lt,It):(0,Y.w)(()=>lt)}var Ce=x(5363),Fe=x(4004),Ze=x(590),Re=x(9468),Pe=x(9300),st=x(5813),ht=x(2011),Ge=x(6895),ke=x(440);x(127);const rt=new E.OlP("angularfire2.auth.use-emulator"),ee=new E.OlP("angularfire2.auth.settings"),$e=new E.OlP("angularfire2.auth.tenant-id"),de=new E.OlP("angularfire2.auth.langugage-code"),ye=new E.OlP("angularfire2.auth.use-device-language"),be=new E.OlP("angularfire.auth.persistence"),Be=(lt,It,Dt,ze,Ot,Zt,Ft,Rt)=>(0,ht.cc)(`${lt.name}.auth`,"AngularFireAuth",lt.name,()=>{const fn=It.runOutsideAngular(()=>lt.auth());if(Dt&&fn.useEmulator(...Dt),ze&&(fn.tenantId=ze),fn.languageCode=Ot,Zt&&fn.useDeviceLanguage(),Ft)for(const[pt,$t]of Object.entries(Ft))fn.settings[pt]=$t;return Rt&&fn.setPersistence(Rt),fn},[Dt,ze,Ot,Zt,Ft,Rt]);let De=(()=>{class lt{constructor(Dt,ze,Ot,Zt,Ft,Rt,fn,pt,$t,Yn,Zn,li){const An=new d.x,xn=(0,j.of)(void 0).pipe((0,Ce.Q)(Ft.outsideAngular),(0,Y.w)(()=>Zt.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,1451)))),(0,Fe.U)(()=>(0,ht.on)(Dt,Zt,ze)),(0,Fe.U)(pi=>Be(pi,Zt,Rt,pt,$t,Yn,fn,Zn)),J({bufferSize:1,refCount:!1}));if((0,Ge.PM)(Ot))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,j.of)(null);else{xn.pipe((0,Ze.P)()).subscribe();const ti=xn.pipe((0,Y.w)(Ut=>Ut.getRedirectResult().then(nn=>nn,()=>null)),st.iC,J({bufferSize:1,refCount:!1})),Gn=xn.pipe((0,Y.w)(Ut=>new he.y(nn=>({unsubscribe:Zt.runOutsideAngular(()=>Ut.onAuthStateChanged(gn=>nn.next(gn),gn=>nn.error(gn),()=>nn.complete()))})))),ft=xn.pipe((0,Y.w)(Ut=>new he.y(nn=>({unsubscribe:Zt.runOutsideAngular(()=>Ut.onIdTokenChanged(gn=>nn.next(gn),gn=>nn.error(gn),()=>nn.complete()))}))));this.authState=ti.pipe(Ne(Gn),(0,Re.R)(Ft.outsideAngular),(0,Ce.Q)(Ft.insideAngular)),this.user=ti.pipe(Ne(ft),(0,Re.R)(Ft.outsideAngular),(0,Ce.Q)(Ft.insideAngular)),this.idToken=this.user.pipe((0,Y.w)(Ut=>Ut?(0,le.D)(Ut.getIdToken()):(0,j.of)(null))),this.idTokenResult=this.user.pipe((0,Y.w)(Ut=>Ut?(0,le.D)(Ut.getIdTokenResult()):(0,j.of)(null))),this.credential=(0,me.T)(ti,An,this.authState.pipe((0,Pe.h)(Ut=>!Ut))).pipe((0,Fe.U)(Ut=>Ut?.user?Ut:null),(0,Re.R)(Ft.outsideAngular),(0,Ce.Q)(Ft.insideAngular))}return(0,ht.pX)(this,xn,Zt,{spy:{apply:(pi,ti,Gn)=>{(pi.startsWith("signIn")||pi.startsWith("createUser"))&&Gn.then(ft=>An.next(ft))}}})}}return lt.\u0275fac=function(Dt){return new(Dt||lt)(E.LFG(ht.Dh),E.LFG(ht.xv,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(st.HU),E.LFG(rt,8),E.LFG(ee,8),E.LFG($e,8),E.LFG(de,8),E.LFG(ye,8),E.LFG(be,8),E.LFG(ke.nm,8))},lt.\u0275prov=E.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"any"}),lt})()},2011:(mt,Oe,x)=>{x.d(Oe,{Dh:()=>re,GT:()=>me,cc:()=>Ce,hO:()=>Ne,on:()=>J,pX:()=>le,xv:()=>Se});var E=x(4650),d=x(127),j=x(5813);mt=x.hmd(mt);const he=["ngOnDestroy"],le=(Pe,st,ht,Ge={})=>new Proxy(Pe,{get:(ke,Ue)=>ht.runOutsideAngular(()=>{var tt;if(Pe[Ue])return!(null===(tt=Ge?.spy)||void 0===tt)&&tt.get&&Ge.spy.get(Ue,Pe[Ue]),Pe[Ue];if(he.indexOf(Ue)>-1)return()=>{};const rt=st.toPromise().then(ee=>{const $e=ee&&ee[Ue];return"function"==typeof $e?$e.bind(ee):$e&&$e.then?$e.then(de=>ht.run(()=>de)):ht.run(()=>$e)});return new Proxy(()=>{},{get:(ee,$e)=>rt[$e],apply:(ee,$e,de)=>rt.then(ye=>{var be;const Be=ye&&ye(...de);return!(null===(be=Ge?.spy)||void 0===be)&&be.apply&&Ge.spy.apply(Ue,de,Be),Be})})})}),me=(Pe,st)=>{st.forEach(ht=>{Object.getOwnPropertyNames(ht.prototype||ht).forEach(Ge=>{Object.defineProperty(Pe.prototype,Ge,Object.getOwnPropertyDescriptor(ht.prototype||ht,Ge))})})};class Te{constructor(st){return st}}const re=new E.OlP("angularfire2.app.options"),Se=new E.OlP("angularfire2.app.name");function J(Pe,st,ht){const ke="object"==typeof ht&&ht||{};ke.name=ke.name||"string"==typeof ht&&ht||"[DEFAULT]";const tt=d.Z.apps.filter(rt=>rt&&rt.name===ke.name)[0]||st.runOutsideAngular(()=>d.Z.initializeApp(Pe,ke));try{JSON.stringify(Pe)!==JSON.stringify(tt.options)&&Y("error",`${tt.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Te(tt)}const Y=(Pe,...st)=>{(0,E.X6Q)()&&typeof console<"u"&&console[Pe](...st)},ie={provide:Te,useFactory:J,deps:[re,E.R0b,[new E.FiY,Se]]};let Ne=(()=>{class Pe{constructor(ht){d.Z.registerVersion("angularfire",j.q4.full,"core"),d.Z.registerVersion("angularfire",j.q4.full,"app-compat"),d.Z.registerVersion("angular",E.q4F.full,ht.toString())}static initializeApp(ht,Ge){return{ngModule:Pe,providers:[{provide:re,useValue:ht},{provide:Se,useValue:Ge}]}}}return Pe.\u0275fac=function(ht){return new(ht||Pe)(E.LFG(E.Lbi))},Pe.\u0275mod=E.oAB({type:Pe}),Pe.\u0275inj=E.cJS({providers:[ie]}),Pe})();function Ce(Pe,st,ht,Ge,ke){const[,Ue,tt]=globalThis.\u0275AngularfireInstanceCache.find(rt=>rt[0]===Pe)||[];if(Ue)return function Fe(Pe,st){try{return Pe.toString()===st.toString()}catch{return Pe===st}}(ke,tt)||(Re("error",`${st} was already initialized on the ${ht} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),Re("warn",{is:ke,was:tt})),Ue;{const rt=Ge();return globalThis.\u0275AngularfireInstanceCache.push([Pe,rt,ke]),rt}}const Ze=!!mt.hot,Re=(Pe,...st)=>{(0,E.X6Q)()&&typeof console<"u"&&console[Pe](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(mt,Oe,x)=>{x.d(Oe,{q4:()=>ir,iC:()=>Dc,HU:()=>td,vb:()=>ou,JM:()=>Aa});var E=x(4650),d=x(5867),j=x(5861),he=x(9681),le=x(2090),me=x(4859),Te=x(1877),re=x(8766);const Se="@firebase/installations",J="0.5.12",ie=`w:${J}`,Ne="FIS_v2",st=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ht(I){return I instanceof le.ZR&&I.code.includes("request-failed")}function Ge({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function ke(I){return{token:I.token,requestStatus:2,expiresIn:ye(I.expiresIn),creationTime:Date.now()}}function Ue(I,O){return tt.apply(this,arguments)}function tt(){return(tt=(0,j.Z)(function*(I,O){const Z=(yield O.json()).error;return st.create("request-failed",{requestName:I,serverCode:Z.code,serverMessage:Z.message,serverStatus:Z.status})})).apply(this,arguments)}function rt({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function ee(I,{refreshToken:O}){const B=rt(I);return B.append("Authorization",function be(I){return`${Ne} ${I}`}(O)),B}function $e(I){return de.apply(this,arguments)}function de(){return(de=(0,j.Z)(function*(I){const O=yield I();return O.status>=500&&O.status<600?I():O})).apply(this,arguments)}function ye(I){return Number(I.replace("s","000"))}function Be(I,O){return De.apply(this,arguments)}function De(){return(De=(0,j.Z)(function*({appConfig:I,heartbeatServiceProvider:O},{fid:B}){const Z=Ge(I),Ee=rt(I),Le=O.getImmediate({optional:!0});if(Le){const cn=yield Le.getHeartbeatsHeader();cn&&Ee.append("x-firebase-client",cn)}const yt={method:"POST",headers:Ee,body:JSON.stringify({fid:B,authVersion:Ne,appId:I.appId,sdkVersion:ie})},Lt=yield $e(()=>fetch(Z,yt));if(Lt.ok){const cn=yield Lt.json();return{fid:cn.fid||B,registrationStatus:2,refreshToken:cn.refreshToken,authToken:ke(cn.authToken)}}throw yield Ue("Create Installation",Lt)})).apply(this,arguments)}function Qe(I){return new Promise(O=>{setTimeout(O,I)})}const It=/^[cdef][\w-]{21}$/;function ze(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const B=function Ot(I){return function lt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return It.test(B)?B:""}catch{return""}}function Zt(I){return`${I.appName}!${I.appId}`}const Ft=new Map;function Rt(I,O){const B=Zt(I);$t(B,O),function Yn(I,O){const B=function li(){return!Zn&&"BroadcastChannel"in self&&(Zn=new BroadcastChannel("[Firebase] FID Change"),Zn.onmessage=I=>{$t(I.data.key,I.data.fid)}),Zn}();B&&B.postMessage({key:I,fid:O}),function An(){0===Ft.size&&Zn&&(Zn.close(),Zn=null)}()}(B,O)}function $t(I,O){const B=Ft.get(I);if(B)for(const Z of B)Z(O)}let Zn=null;const ti="firebase-installations-store";let Gn=null;function ft(){return Gn||(Gn=(0,re.X3)("firebase-installations-database",1,{upgrade:(I,O)=>{0===O&&I.createObjectStore(ti)}})),Gn}function Ut(I,O){return nn.apply(this,arguments)}function nn(){return(nn=(0,j.Z)(function*(I,O){const B=Zt(I),Ee=(yield ft()).transaction(ti,"readwrite"),Le=Ee.objectStore(ti),et=yield Le.get(B);return yield Le.put(O,B),yield Ee.done,(!et||et.fid!==O.fid)&&Rt(I,O.fid),O})).apply(this,arguments)}function gn(I){return ji.apply(this,arguments)}function ji(){return(ji=(0,j.Z)(function*(I){const O=Zt(I),Z=(yield ft()).transaction(ti,"readwrite");yield Z.objectStore(ti).delete(O),yield Z.done})).apply(this,arguments)}function Oi(I,O){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,j.Z)(function*(I,O){const B=Zt(I),Ee=(yield ft()).transaction(ti,"readwrite"),Le=Ee.objectStore(ti),et=yield Le.get(B),yt=O(et);return void 0===yt?yield Le.delete(B):yield Le.put(yt,B),yield Ee.done,yt&&(!et||et.fid!==yt.fid)&&Rt(I,yt.fid),yt})).apply(this,arguments)}function ri(I){return ci.apply(this,arguments)}function ci(){return(ci=(0,j.Z)(function*(I){let O;const B=yield Oi(I.appConfig,Z=>{const Ee=Dn(Z),Le=Wt(I,Ee);return O=Le.registrationPromise,Le.installationEntry});return""===B.fid?{installationEntry:yield O}:{installationEntry:B,registrationPromise:O}})).apply(this,arguments)}function Dn(I){return Ai(I||{fid:ze(),registrationStatus:0})}function Wt(I,O){if(0===O.registrationStatus){if(!navigator.onLine)return{installationEntry:O,registrationPromise:Promise.reject(st.create("app-offline"))};const B={fid:O.fid,registrationStatus:1,registrationTime:Date.now()},Z=function nt(I,O){return Ct.apply(this,arguments)}(I,B);return{installationEntry:B,registrationPromise:Z}}return 1===O.registrationStatus?{installationEntry:O,registrationPromise:Nn(I)}:{installationEntry:O}}function Ct(){return(Ct=(0,j.Z)(function*(I,O){try{const B=yield Be(I,O);return Ut(I.appConfig,B)}catch(B){throw ht(B)&&409===B.customData.serverCode?yield gn(I.appConfig):yield Ut(I.appConfig,{fid:O.fid,registrationStatus:0}),B}})).apply(this,arguments)}function Nn(I){return St.apply(this,arguments)}function St(){return(St=(0,j.Z)(function*(I){let O=yield At(I.appConfig);for(;1===O.registrationStatus;)yield Qe(100),O=yield At(I.appConfig);if(0===O.registrationStatus){const{installationEntry:B,registrationPromise:Z}=yield ri(I);return Z||B}return O})).apply(this,arguments)}function At(I){return Oi(I,O=>{if(!O)throw st.create("installation-not-found");return Ai(O)})}function Ai(I){return function kn(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function oi(I,O){return pn.apply(this,arguments)}function pn(){return(pn=(0,j.Z)(function*({appConfig:I,heartbeatServiceProvider:O},B){const Z=Ni(I,B),Ee=ee(I,B),Le=O.getImmediate({optional:!0});if(Le){const cn=yield Le.getHeartbeatsHeader();cn&&Ee.append("x-firebase-client",cn)}const yt={method:"POST",headers:Ee,body:JSON.stringify({installation:{sdkVersion:ie,appId:I.appId}})},Lt=yield $e(()=>fetch(Z,yt));if(Lt.ok)return ke(yield Lt.json());throw yield Ue("Generate Auth Token",Lt)})).apply(this,arguments)}function Ni(I,{fid:O}){return`${Ge(I)}/${O}/authTokens:generate`}function te(I){return ae.apply(this,arguments)}function ae(){return(ae=(0,j.Z)(function*(I,O=!1){let B;const Z=yield Oi(I.appConfig,Le=>{if(!wt(Le))throw st.create("not-registered");const et=Le.authToken;if(!O&&hn(et))return Le;if(1===et.requestStatus)return B=Q(I,O),Le;{if(!navigator.onLine)throw st.create("app-offline");const yt=ui(Le);return B=Xe(I,yt),yt}});return B?yield B:Z.authToken})).apply(this,arguments)}function Q(I,O){return ce.apply(this,arguments)}function ce(){return(ce=(0,j.Z)(function*(I,O){let B=yield oe(I.appConfig);for(;1===B.authToken.requestStatus;)yield Qe(100),B=yield oe(I.appConfig);const Z=B.authToken;return 0===Z.requestStatus?te(I,O):Z})).apply(this,arguments)}function oe(I){return Oi(I,O=>{if(!wt(O))throw st.create("not-registered");return function qt(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(O.authToken)?Object.assign(Object.assign({},O),{authToken:{requestStatus:0}}):O})}function Xe(I,O){return ct.apply(this,arguments)}function ct(){return(ct=(0,j.Z)(function*(I,O){try{const B=yield oi(I,O),Z=Object.assign(Object.assign({},O),{authToken:B});return yield Ut(I.appConfig,Z),B}catch(B){if(!ht(B)||401!==B.customData.serverCode&&404!==B.customData.serverCode){const Z=Object.assign(Object.assign({},O),{authToken:{requestStatus:0}});yield Ut(I.appConfig,Z)}else yield gn(I.appConfig);throw B}})).apply(this,arguments)}function wt(I){return void 0!==I&&2===I.registrationStatus}function hn(I){return 2===I.requestStatus&&!function zt(I){const O=Date.now();return O<I.creationTime||I.creationTime+I.expiresIn<O+36e5}(I)}function ui(I){const O={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:O})}function Mn(){return(Mn=(0,j.Z)(function*(I){const O=I,{installationEntry:B,registrationPromise:Z}=yield ri(O);return Z?Z.catch(console.error):te(O).catch(console.error),B.fid})).apply(this,arguments)}function di(){return(di=(0,j.Z)(function*(I,O=!1){const B=I;return yield Ri(B),(yield te(B,O)).token})).apply(this,arguments)}function Ri(I){return ot.apply(this,arguments)}function ot(){return(ot=(0,j.Z)(function*(I){const{registrationPromise:O}=yield ri(I);O&&(yield O)})).apply(this,arguments)}function Fn(I){return st.create("missing-app-config-values",{valueName:I})}const kt="installations",wn=I=>{const O=I.getProvider("app").getImmediate(),B=function en(I){if(!I||!I.options)throw Fn("App Configuration");if(!I.name)throw Fn("App Name");const O=["projectId","apiKey","appId"];for(const B of O)if(!I.options[B])throw Fn(B);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(O);return{app:O,appConfig:B,heartbeatServiceProvider:(0,he._getProvider)(O,"heartbeat"),_delete:()=>Promise.resolve()}},Yi=I=>{const O=I.getProvider("app").getImmediate(),B=(0,he._getProvider)(O,kt).getImmediate();return{getId:()=>function Xt(I){return Mn.apply(this,arguments)}(B),getToken:Ee=>function si(I){return di.apply(this,arguments)}(B,Ee)}};(function er(){(0,he._registerComponent)(new me.wA(kt,wn,"PUBLIC")),(0,he._registerComponent)(new me.wA("installations-internal",Yi,"PRIVATE"))})(),(0,he.registerVersion)(Se,J),(0,he.registerVersion)(Se,J,"esm2017");const qn="@firebase/remote-config",_i=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Cs{constructor(O,B,Z,Ee){this.client=O,this.storage=B,this.storageCache=Z,this.logger=Ee}isCachedDataFresh(O,B){if(!B)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Z=Date.now()-B,Ee=Z<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Z}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${Ee}.`),Ee}fetch(O){var B=this;return(0,j.Z)(function*(){const[Z,Ee]=yield Promise.all([B.storage.getLastSuccessfulFetchTimestampMillis(),B.storage.getLastSuccessfulFetchResponse()]);if(Ee&&B.isCachedDataFresh(O.cacheMaxAgeMillis,Z))return Ee;O.eTag=Ee&&Ee.eTag;const Le=yield B.client.fetch(O),et=[B.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Le.status&&et.push(B.storage.setLastSuccessfulFetchResponse(Le)),yield Promise.all(et),Le})()}}function Ro(I=navigator){return I.languages&&I.languages[0]||I.language}class Po{constructor(O,B,Z,Ee,Le,et){this.firebaseInstallations=O,this.sdkVersion=B,this.namespace=Z,this.projectId=Ee,this.apiKey=Le,this.appId=et}fetch(O){var B=this;return(0,j.Z)(function*(){var Z,Ee,Le;const[et,yt]=yield Promise.all([B.firebaseInstallations.getId(),B.firebaseInstallations.getToken()]),cn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${B.projectId}/namespaces/${B.namespace}:fetch?key=${B.apiKey}`,sn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},Bt={sdk_version:B.sdkVersion,app_instance_id:et,app_instance_id_token:yt,app_id:B.appId,language_code:Ro()},Fi={method:"POST",headers:sn,body:JSON.stringify(Bt)},xr=fetch(cn,Fi),cl=new Promise((Bs,Pa)=>{O.signal.addEventListener(()=>{const Ih=new Error("The operation was aborted.");Ih.name="AbortError",Pa(Ih)})});let Ma;try{yield Promise.race([xr,cl]),Ma=yield xr}catch(Bs){let Pa="fetch-client-network";throw"AbortError"===(null===(Z=Bs)||void 0===Z?void 0:Z.name)&&(Pa="fetch-timeout"),_i.create(Pa,{originalErrorMessage:null===(Ee=Bs)||void 0===Ee?void 0:Ee.message})}let uo=Ma.status;const Oa=Ma.headers.get("ETag")||void 0;let Hl,Ra;if(200===Ma.status){let Bs;try{Bs=yield Ma.json()}catch(Pa){throw _i.create("fetch-client-parse",{originalErrorMessage:null===(Le=Pa)||void 0===Le?void 0:Le.message})}Hl=Bs.entries,Ra=Bs.state}if("INSTANCE_STATE_UNSPECIFIED"===Ra?uo=500:"NO_CHANGE"===Ra?uo=304:("NO_TEMPLATE"===Ra||"EMPTY_CONFIG"===Ra)&&(Hl={}),304!==uo&&200!==uo)throw _i.create("fetch-status",{httpStatus:uo});return{status:uo,eTag:Oa,config:Hl}})()}}class ve{constructor(O,B){this.client=O,this.storage=B}fetch(O){var B=this;return(0,j.Z)(function*(){const Z=(yield B.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return B.attemptFetch(O,Z)})()}attemptFetch(O,{throttleEndTimeMillis:B,backoffCount:Z}){var Ee=this;return(0,j.Z)(function*(){yield function Nr(I,O){return new Promise((B,Z)=>{const Ee=Math.max(O-Date.now(),0),Le=setTimeout(B,Ee);I.addEventListener(()=>{clearTimeout(Le),Z(_i.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,B);try{const Le=yield Ee.client.fetch(O);return yield Ee.storage.deleteThrottleMetadata(),Le}catch(Le){if(!function ge(I){if(!(I instanceof le.ZR&&I.customData))return!1;const O=Number(I.customData.httpStatus);return 429===O||500===O||503===O||504===O}(Le))throw Le;const et={throttleEndTimeMillis:Date.now()+(0,le.$s)(Z),backoffCount:Z+1};return yield Ee.storage.setThrottleMetadata(et),Ee.attemptFetch(O,et)}})()}}class dt{constructor(O,B,Z,Ee,Le){this.app=O,this._client=B,this._storageCache=Z,this._storage=Ee,this._logger=Le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tt(I,O){var B;const Z=I.target.error||void 0;return _i.create(O,{originalErrorMessage:Z&&(null===(B=Z)||void 0===B?void 0:B.message)})}const jt="app_namespace_store";class ns{constructor(O,B,Z,Ee=function ar(){return new Promise((I,O)=>{var B;try{const Z=indexedDB.open("firebase_remote_config",1);Z.onerror=Ee=>{O(Tt(Ee,"storage-open"))},Z.onsuccess=Ee=>{I(Ee.target.result)},Z.onupgradeneeded=Ee=>{0===Ee.oldVersion&&Ee.target.result.createObjectStore(jt,{keyPath:"compositeKey"})}}catch(Z){O(_i.create("storage-open",{originalErrorMessage:null===(B=Z)||void 0===B?void 0:B.message}))}})}()){this.appId=O,this.appName=B,this.namespace=Z,this.openDbPromise=Ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var B=this;return(0,j.Z)(function*(){const Z=yield B.openDbPromise;return new Promise((Ee,Le)=>{var et;const Lt=Z.transaction([jt],"readonly").objectStore(jt),cn=B.createCompositeKey(O);try{const sn=Lt.get(cn);sn.onerror=Bt=>{Le(Tt(Bt,"storage-get"))},sn.onsuccess=Bt=>{const Fi=Bt.target.result;Ee(Fi?Fi.value:void 0)}}catch(sn){Le(_i.create("storage-get",{originalErrorMessage:null===(et=sn)||void 0===et?void 0:et.message}))}})})()}set(O,B){var Z=this;return(0,j.Z)(function*(){const Ee=yield Z.openDbPromise;return new Promise((Le,et)=>{var yt;const cn=Ee.transaction([jt],"readwrite").objectStore(jt),sn=Z.createCompositeKey(O);try{const Bt=cn.put({compositeKey:sn,value:B});Bt.onerror=Fi=>{et(Tt(Fi,"storage-set"))},Bt.onsuccess=()=>{Le()}}catch(Bt){et(_i.create("storage-set",{originalErrorMessage:null===(yt=Bt)||void 0===yt?void 0:yt.message}))}})})()}delete(O){var B=this;return(0,j.Z)(function*(){const Z=yield B.openDbPromise;return new Promise((Ee,Le)=>{var et;const Lt=Z.transaction([jt],"readwrite").objectStore(jt),cn=B.createCompositeKey(O);try{const sn=Lt.delete(cn);sn.onerror=Bt=>{Le(Tt(Bt,"storage-delete"))},sn.onsuccess=()=>{Ee()}}catch(sn){Le(_i.create("storage-delete",{originalErrorMessage:null===(et=sn)||void 0===et?void 0:et.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class Dr{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,j.Z)(function*(){const B=O.storage.getLastFetchStatus(),Z=O.storage.getLastSuccessfulFetchTimestampMillis(),Ee=O.storage.getActiveConfig(),Le=yield B;Le&&(O.lastFetchStatus=Le);const et=yield Z;et&&(O.lastSuccessfulFetchTimestampMillis=et);const yt=yield Ee;yt&&(O.activeConfig=yt)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function Zr(){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,j.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}!function lr(){(0,he._registerComponent)(new me.wA("remote-config",function I(O,{instanceIdentifier:B}){const Z=O.getProvider("app").getImmediate(),Ee=O.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw _i.create("registration-window");if(!(0,le.hl)())throw _i.create("indexed-db-unavailable");const{projectId:Le,apiKey:et,appId:yt}=Z.options;if(!Le)throw _i.create("registration-project-id");if(!et)throw _i.create("registration-api-key");if(!yt)throw _i.create("registration-app-id");const Lt=new ns(yt,Z.name,B=B||"firebase"),cn=new Dr(Lt),sn=new Te.Yd(qn);sn.logLevel=Te.in.ERROR;const Bt=new Po(Ee,he.SDK_VERSION,B,Le,et,yt),Fi=new ve(Bt,Lt),xr=new Cs(Fi,Lt,cn,sn),cl=new dt(Z,xr,cn,Lt,sn);return function Kr(I){const O=(0,le.m9)(I);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(cl),cl},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(qn,"0.3.11"),(0,he.registerVersion)(qn,"0.3.11","esm2017")}();const Lr="/firebase-messaging-sw.js",$i="/firebase-cloud-messaging-push-scope",Er="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Qr="google.c.a.c_id",Jr="google.c.a.c_l",xo="google.c.a.ts",ws="google.c.a.e";var Br=(()=>{return(I=Br||(Br={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Br;var I})();function Qn(I){const O=new Uint8Array(I);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ts(I){const B=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Z=atob(B),Ee=new Uint8Array(Z.length);for(let Le=0;Le<Z.length;++Le)Ee[Le]=Z.charCodeAt(Le);return Ee}const Is="fcm_token_details_db",bi="fcm_token_object_Store";function _o(I){return Jn.apply(this,arguments)}function Jn(){return Jn=(0,j.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Le=>Le.name).includes(Is))return null;let O=null;return(yield(0,re.X3)(Is,5,{upgrade:(Z=(0,j.Z)(function*(Ee,Le,et,yt){var Lt;if(Le<2||!Ee.objectStoreNames.contains(bi))return;const cn=yt.objectStore(bi),sn=yield cn.index("fcmSenderId").get(I);if(yield cn.clear(),sn)if(2===Le){const Bt=sn;if(!Bt.auth||!Bt.p256dh||!Bt.endpoint)return;O={token:Bt.fcmToken,createTime:null!==(Lt=Bt.createTime)&&void 0!==Lt?Lt:Date.now(),subscriptionOptions:{auth:Bt.auth,p256dh:Bt.p256dh,endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:"string"==typeof Bt.vapidKey?Bt.vapidKey:Qn(Bt.vapidKey)}}}else if(3===Le){const Bt=sn;O={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:Qn(Bt.auth),p256dh:Qn(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:Qn(Bt.vapidKey)}}}else if(4===Le){const Bt=sn;O={token:Bt.fcmToken,createTime:Bt.createTime,subscriptionOptions:{auth:Qn(Bt.auth),p256dh:Qn(Bt.p256dh),endpoint:Bt.endpoint,swScope:Bt.swScope,vapidKey:Qn(Bt.vapidKey)}}}}),function(Le,et,yt,Lt){return Z.apply(this,arguments)})})).close(),yield(0,re.Lj)(Is),yield(0,re.Lj)("fcm_vapid_details_db"),yield(0,re.Lj)("undefined"),is(O)?O:null;var Z}),Jn.apply(this,arguments)}function is(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:O}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}const fi="firebase-messaging-store";let Ks=null;function ko(){return Ks||(Ks=(0,re.X3)("firebase-messaging-database",1,{upgrade:(I,O)=>{0===O&&I.createObjectStore(fi)}})),Ks}function no(I){return Di.apply(this,arguments)}function Di(){return(Di=(0,j.Z)(function*(I){const O=se(I),Z=yield(yield ko()).transaction(fi).objectStore(fi).get(O);if(Z)return Z;{const Ee=yield _o(I.appConfig.senderId);if(Ee)return yield N(I,Ee),Ee}})).apply(this,arguments)}function N(I,O){return H.apply(this,arguments)}function H(){return(H=(0,j.Z)(function*(I,O){const B=se(I),Ee=(yield ko()).transaction(fi,"readwrite");return yield Ee.objectStore(fi).put(O,B),yield Ee.done,O})).apply(this,arguments)}function M(I){return G.apply(this,arguments)}function G(){return(G=(0,j.Z)(function*(I){const O=se(I),Z=(yield ko()).transaction(fi,"readwrite");yield Z.objectStore(fi).delete(O),yield Z.done})).apply(this,arguments)}function se({appConfig:I}){return I.appId}const Ae=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pt(I,O){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,j.Z)(function*(I,O){var B;const Z=yield ni(I),Ee=Kt(O),Le={method:"POST",headers:Z,body:JSON.stringify(Ee)};let et;try{et=yield(yield fetch(vn(I.appConfig),Le)).json()}catch(yt){throw Ae.create("token-subscribe-failed",{errorInfo:null===(B=yt)||void 0===B?void 0:B.toString()})}if(et.error)throw Ae.create("token-subscribe-failed",{errorInfo:et.error.message});if(!et.token)throw Ae.create("token-subscribe-no-token");return et.token})).apply(this,arguments)}function On(I,O){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,j.Z)(function*(I,O){var B;const Z=yield ni(I),Ee=Kt(O.subscriptionOptions),Le={method:"PATCH",headers:Z,body:JSON.stringify(Ee)};let et;try{et=yield(yield fetch(`${vn(I.appConfig)}/${O.token}`,Le)).json()}catch(yt){throw Ae.create("token-update-failed",{errorInfo:null===(B=yt)||void 0===B?void 0:B.toString()})}if(et.error)throw Ae.create("token-update-failed",{errorInfo:et.error.message});if(!et.token)throw Ae.create("token-update-no-token");return et.token})).apply(this,arguments)}function _n(I,O){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,j.Z)(function*(I,O){var B;const Ee={method:"DELETE",headers:yield ni(I)};try{const et=yield(yield fetch(`${vn(I.appConfig)}/${O}`,Ee)).json();if(et.error)throw Ae.create("token-unsubscribe-failed",{errorInfo:et.error.message})}catch(Le){throw Ae.create("token-unsubscribe-failed",{errorInfo:null===(B=Le)||void 0===B?void 0:B.toString()})}})).apply(this,arguments)}function vn({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function ni(I){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,j.Z)(function*({appConfig:I,installations:O}){const B=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${B}`})})).apply(this,arguments)}function Kt({p256dh:I,auth:O,endpoint:B,vapidKey:Z}){const Ee={web:{endpoint:B,auth:O,p256dh:I}};return Z!==Er&&(Ee.web.applicationPubKey=Z),Ee}const fr=6048e5;function cr(I){return ai.apply(this,arguments)}function ai(){return(ai=(0,j.Z)(function*(I){const O=yield _a(I.swRegistration,I.vapidKey),B={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:O.endpoint,auth:Qn(O.getKey("auth")),p256dh:Qn(O.getKey("p256dh"))},Z=yield no(I.firebaseDependencies);if(Z){if(Mr(Z.subscriptionOptions,B))return Date.now()>=Z.createTime+fr?Vr(I,{token:Z.token,createTime:Date.now(),subscriptionOptions:B}):Z.token;try{yield _n(I.firebaseDependencies,Z.token)}catch(Ee){console.warn(Ee)}return Ys(I.firebaseDependencies,B)}return Ys(I.firebaseDependencies,B)})).apply(this,arguments)}function io(I){return vo.apply(this,arguments)}function vo(){return(vo=(0,j.Z)(function*(I){const O=yield no(I.firebaseDependencies);O&&(yield _n(I.firebaseDependencies,O.token),yield M(I.firebaseDependencies));const B=yield I.swRegistration.pushManager.getSubscription();return!B||B.unsubscribe()})).apply(this,arguments)}function Vr(I,O){return ma.apply(this,arguments)}function ma(){return(ma=(0,j.Z)(function*(I,O){try{const B=yield On(I.firebaseDependencies,O),Z=Object.assign(Object.assign({},O),{token:B,createTime:Date.now()});return yield N(I.firebaseDependencies,Z),B}catch(B){throw yield io(I),B}})).apply(this,arguments)}function Ys(I,O){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,j.Z)(function*(I,O){const Z={token:yield Pt(I,O),createTime:Date.now(),subscriptionOptions:O};return yield N(I,Z),Z.token})).apply(this,arguments)}function _a(I,O){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,j.Z)(function*(I,O){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ts(O)})})).apply(this,arguments)}function Mr(I,O){return O.vapidKey===I.vapidKey&&O.endpoint===I.endpoint&&O.auth===I.auth&&O.p256dh===I.p256dh}function qi(I){const O={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Hr(I,O){if(!O.notification)return;I.notification={};const B=O.notification.title;B&&(I.notification.title=B);const Z=O.notification.body;Z&&(I.notification.body=Z);const Ee=O.notification.image;Ee&&(I.notification.image=Ee)}(O,I),function wl(I,O){!O.data||(I.data=O.data)}(O,I),function rs(I,O){var B,Z,Ee,Le,et;if(!(O.fcmOptions||null!==(B=O.notification)&&void 0!==B&&B.click_action))return;I.fcmOptions={};const yt=null!==(Ee=null===(Z=O.fcmOptions)||void 0===Z?void 0:Z.link)&&void 0!==Ee?Ee:null===(Le=O.notification)||void 0===Le?void 0:Le.click_action;yt&&(I.fcmOptions.link=yt);const Lt=null===(et=O.fcmOptions)||void 0===et?void 0:et.analytics_label;Lt&&(I.fcmOptions.analyticsLabel=Lt)}(O,I),O}function Ur(I){return"object"==typeof I&&!!I&&Qr in I}function mc(I,O){const B=[];for(let Z=0;Z<I.length;Z++)B.push(I.charAt(Z)),Z<O.length&&B.push(O.charAt(Z));return B.join("")}function qs(I){return Ae.create("missing-app-config-values",{valueName:I})}mc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Tl{constructor(O,B,Z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ee=function Xa(I){if(!I||!I.options)throw qs("App Configuration Object");if(!I.name)throw qs("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:B}=I;for(const Z of O)if(!B[Z])throw qs(Z);return{appName:I.name,projectId:B.projectId,apiKey:B.apiKey,appId:B.appId,senderId:B.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:Ee,installations:B,analyticsProvider:Z}}_delete(){return Promise.resolve()}}function os(I){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,j.Z)(function*(I){var O;try{I.swRegistration=yield navigator.serviceWorker.register(Lr,{scope:$i}),I.swRegistration.update().catch(()=>{})}catch(B){throw Ae.create("failed-service-worker-registration",{browserErrorMessage:null===(O=B)||void 0===O?void 0:O.message})}})).apply(this,arguments)}function ss(I,O){return As.apply(this,arguments)}function As(){return(As=(0,j.Z)(function*(I,O){if(!O&&!I.swRegistration&&(yield os(I)),O||!I.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw Ae.create("invalid-sw-registration");I.swRegistration=O}})).apply(this,arguments)}function Ns(I,O){return as.apply(this,arguments)}function as(){return(as=(0,j.Z)(function*(I,O){O?I.vapidKey=O:I.vapidKey||(I.vapidKey=Er)})).apply(this,arguments)}function va(){return(va=(0,j.Z)(function*(I,O){if(!navigator)throw Ae.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ae.create("permission-blocked");return yield Ns(I,O?.vapidKey),yield ss(I,O?.serviceWorkerRegistration),cr(I)})).apply(this,arguments)}function Ms(I,O,B){return ya.apply(this,arguments)}function ya(){return(ya=(0,j.Z)(function*(I,O,B){const Z=yo(O);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(Z,{message_id:B[Qr],message_name:B[Jr],message_time:B[xo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function yo(I){switch(I){case Br.NOTIFICATION_CLICKED:return"notification_open";case Br.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ba(){return(ba=(0,j.Z)(function*(I,O){const B=O.data;if(!B.isFirebaseMessaging)return;I.onMessageHandler&&B.messageType===Br.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(qi(B)):I.onMessageHandler.next(qi(B)));const Z=B.data;Ur(Z)&&"1"===Z[ws]&&(yield Ms(I,B.messageType,Z))})).apply(this,arguments)}const ls="@firebase/messaging",ro=I=>{const O=new Tl(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",B=>function Qs(I,O){return ba.apply(this,arguments)}(O,B)),O},Rn=I=>{const O=I.getProvider("messaging").getImmediate();return{getToken:Z=>function Fo(I,O){return va.apply(this,arguments)}(O,Z)}};function Il(){return el.apply(this,arguments)}function el(){return(el=(0,j.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Os(){(0,he._registerComponent)(new me.wA("messaging",ro,"PUBLIC")),(0,he._registerComponent)(new me.wA("messaging-internal",Rn,"PRIVATE")),(0,he.registerVersion)(ls,"0.9.16"),(0,he.registerVersion)(ls,"0.9.16","esm2017")}();const nl="analytics",Lo="firebase_id",us="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bo="https://www.googletagmanager.com/gtag/js",gi=new Te.Yd("@firebase/analytics");function Ea(I){return Promise.all(I.map(O=>O.catch(B=>B)))}function Ml(I,O){const B=document.createElement("script");B.src=`${bo}?l=${I}&id=${O}`,B.async=!0,document.head.appendChild(B)}function Rl(I,O,B,Z,Ee,Le){return jr.apply(this,arguments)}function jr(){return(jr=(0,j.Z)(function*(I,O,B,Z,Ee,Le){const et=Z[Ee];try{if(et)yield O[et];else{const Lt=(yield Ea(B)).find(cn=>cn.measurementId===Ee);Lt&&(yield O[Lt.appId])}}catch(yt){gi.error(yt)}I("config",Ee,Le)})).apply(this,arguments)}function Pl(I,O,B,Z,Ee){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,j.Z)(function*(I,O,B,Z,Ee){try{let Le=[];if(Ee&&Ee.send_to){let et=Ee.send_to;Array.isArray(et)||(et=[et]);const yt=yield Ea(B);for(const Lt of et){const cn=yt.find(Bt=>Bt.measurementId===Lt),sn=cn&&O[cn.appId];if(!sn){Le=[];break}Le.push(sn)}}0===Le.length&&(Le=Object.values(O)),yield Promise.all(Le),I("event",Z,Ee||{})}catch(Le){gi.error(Le)}})).apply(this,arguments)}function _c(){const I=window.document.getElementsByTagName("script");for(const O of Object.values(I))if(O.src&&O.src.includes(bo))return O;return null}const Cr=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),kl=new class oo{constructor(O={},B=1e3){this.throttleMetadata=O,this.intervalMillis=B}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,B){this.throttleMetadata[O]=B}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function rl(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function ds(I){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,j.Z)(function*(I){var O;const{appId:B,apiKey:Z}=I,Ee={method:"GET",headers:rl(Z)},Le=us.replace("{app-id}",B),et=yield fetch(Le,Ee);if(200!==et.status&&304!==et.status){let yt="";try{const Lt=yield et.json();null!==(O=Lt.error)&&void 0!==O&&O.message&&(yt=Lt.error.message)}catch{}throw Cr.create("config-fetch-failed",{httpStatus:et.status,responseMessage:yt})}return et.json()})).apply(this,arguments)}function Wn(I){return ea.apply(this,arguments)}function ea(){return(ea=(0,j.Z)(function*(I,O=kl,B){const{appId:Z,apiKey:Ee,measurementId:Le}=I.options;if(!Z)throw Cr.create("no-app-id");if(!Ee){if(Le)return{measurementId:Le,appId:Z};throw Cr.create("no-api-key")}const et=O.getThrottleMetadata(Z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},yt=new Hn;return setTimeout((0,j.Z)(function*(){yt.abort()}),void 0!==B?B:6e4),hs({appId:Z,apiKey:Ee,measurementId:Le},et,yt,O)})).apply(this,arguments)}function hs(I,O,B){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,j.Z)(function*(I,{throttleEndTimeMillis:O,backoffCount:B},Z,Ee=kl){var Le,et;const{appId:yt,measurementId:Lt}=I;try{yield ta(Z,O)}catch(cn){if(Lt)return gi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Lt} provided in the "measurementId" field in the local Firebase config. [${null===(Le=cn)||void 0===Le?void 0:Le.message}]`),{appId:yt,measurementId:Lt};throw cn}try{const cn=yield ds(I);return Ee.deleteThrottleMetadata(yt),cn}catch(cn){const sn=cn;if(!fs(sn)){if(Ee.deleteThrottleMetadata(yt),Lt)return gi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Lt} provided in the "measurementId" field in the local Firebase config. [${sn?.message}]`),{appId:yt,measurementId:Lt};throw cn}const Bt=503===Number(null===(et=sn?.customData)||void 0===et?void 0:et.httpStatus)?(0,le.$s)(B,Ee.intervalMillis,30):(0,le.$s)(B,Ee.intervalMillis),Fi={throttleEndTimeMillis:Date.now()+Bt,backoffCount:B+1};return Ee.setThrottleMetadata(yt,Fi),gi.debug(`Calling attemptFetch again in ${Bt} millis`),hs(I,Fi,Z,Ee)}})).apply(this,arguments)}function ta(I,O){return new Promise((B,Z)=>{const Ee=Math.max(O-Date.now(),0),Le=setTimeout(B,Ee);I.addEventListener(()=>{clearTimeout(Le),Z(Cr.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}function fs(I){if(!(I instanceof le.ZR&&I.customData))return!1;const O=Number(I.customData.httpStatus);return 429===O||500===O||503===O||504===O}class Hn{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}let wa,Or;function wi(){return(wi=(0,j.Z)(function*(I,O,B,Z,Ee){if(Ee&&Ee.global)I("event",B,Z);else{const Le=yield O;I("event",B,Object.assign(Object.assign({},Z),{send_to:Le}))}})).apply(this,arguments)}function Vo(I){Or=I}function sl(I){wa=I}function Rr(){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,j.Z)(function*(){var I;if(!(0,le.hl)())return gi.warn(Cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(O){return gi.warn(Cr.create("indexeddb-unavailable",{errorInfo:null===(I=O)||void 0===I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function ks(){return(ks=(0,j.Z)(function*(I,O,B,Z,Ee,Le,et){var yt;const Lt=Wn(I);Lt.then(xr=>{B[xr.measurementId]=xr.appId,I.options.measurementId&&xr.measurementId!==I.options.measurementId&&gi.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${xr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(xr=>gi.error(xr)),O.push(Lt);const cn=Rr().then(xr=>{if(xr)return Z.getId()}),[sn,Bt]=yield Promise.all([Lt,cn]);_c()||Ml(Le,sn.measurementId),Or&&(Ee("consent","default",Or),Vo(void 0)),Ee("js",new Date);const Fi=null!==(yt=et?.config)&&void 0!==yt?yt:{};return Fi.origin="firebase",Fi.update=!0,null!=Bt&&(Fi[Lo]=Bt),Ee("config",sn.measurementId,Fi),wa&&(Ee("set",wa),sl(void 0)),sn.measurementId})).apply(this,arguments)}class gs{constructor(O){this.app=O}_delete(){return delete pr[this.app.options.appId],Promise.resolve()}}let pr={},wo=[];const al={};let vc,To,ms="dataLayer",rn=!1;function Bl(I,O,B){!function $r(){const I=[];if((0,le.ru)()&&I.push("This is a browser extension environment."),(0,le.zI)()||I.push("Cookies are not available."),I.length>0){const O=I.map((Z,Ee)=>`(${Ee+1}) ${Z}`).join(" "),B=Cr.create("invalid-analytics-context",{errorInfo:O});gi.warn(B.message)}}();const Z=I.options.appId;if(!Z)throw Cr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Cr.create("no-api-key");gi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pr[Z])throw Cr.create("already-exists",{id:Z});if(!rn){!function Ol(I){let O=[];Array.isArray(window[I])?O=window[I]:window[I]=O}(ms);const{wrappedGtag:Le,gtagCore:et}=function il(I,O,B,Z,Ee){let Le=function(...et){window[Z].push(arguments)};return window[Ee]&&"function"==typeof window[Ee]&&(Le=window[Ee]),window[Ee]=function Xs(I,O,B,Z){function Le(){return(Le=(0,j.Z)(function*(et,yt,Lt){try{"event"===et?yield Pl(I,O,B,yt,Lt):"config"===et?yield Rl(I,O,B,Z,yt,Lt):"consent"===et?I("consent","update",Lt):I("set",yt)}catch(cn){gi.error(cn)}})).apply(this,arguments)}return function Ee(et,yt,Lt){return Le.apply(this,arguments)}}(Le,I,O,B),{gtagCore:Le,wrappedGtag:window[Ee]}}(pr,wo,al,ms,"gtag");To=Le,vc=et,rn=!0}return pr[Z]=function Co(I,O,B,Z,Ee,Le,et){return ks.apply(this,arguments)}(I,wo,al,O,vc,ms,B),new gs(I)}function ll(){return vs.apply(this,arguments)}function vs(){return(vs=(0,j.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const D="@firebase/analytics",y="0.8.0";!function _(){(0,he._registerComponent)(new me.wA(nl,(O,{options:B})=>Bl(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),B),"PUBLIC")),(0,he._registerComponent)(new me.wA("analytics-internal",function I(O){try{const B=O.getProvider(nl).getImmediate();return{logEvent:(Z,Ee,Le)=>function ia(I,O,B,Z){I=(0,le.m9)(I),function Ta(I,O,B,Z,Ee){return wi.apply(this,arguments)}(To,pr[I.app.options.appId],O,B,Z).catch(Ee=>gi.error(Ee))}(B,Z,Ee,Le)}}catch(B){throw Cr.create("interop-component-reg-failed",{reason:B})}},"PRIVATE")),(0,he.registerVersion)(D,y),(0,he.registerVersion)(D,y,"esm2017")}();var T=x(4408),L=x(7565);const ne=new class W extends L.v{}(class A extends T.o{constructor(O,B){super(O,B),this.scheduler=O,this.work=B}schedule(O,B=0){return B>0?super.schedule(O,B):(this.delay=B,this.state=O,this.scheduler.flush(this),this)}execute(O,B){return B>0||this.closed?super.execute(O,B):this._execute(O,B)}requestAsyncId(O,B,Z=0){return null!=Z&&Z>0||null==Z&&this.delay>0?super.requestAsyncId(O,B,Z):O.flush(this)}});var _t=x(4986),ln=x(8505),Nt=x(9468),on=x(5363);const ir=new E.GfV("7.4.1"),Ti="__angularfire_symbol__analyticsIsSupportedValue",co="__angularfire_symbol__analyticsIsSupported",Qi="__angularfire_symbol__remoteConfigIsSupportedValue",Fs="__angularfire_symbol__remoteConfigIsSupported",jo="__angularfire_symbol__messagingIsSupportedValue",Sa="__angularfire_symbol__messagingIsSupported";function Aa(I,O,B){if(O){if(1===O.length)return O[0];const Le=O.filter(et=>et.app===B);if(1===Le.length)return Le[0]}return B.container.getProvider(I).getImmediate({optional:!0})}globalThis[co]||(globalThis[co]=ll().then(I=>globalThis[Ti]=I).catch(()=>globalThis[Ti]=!1)),globalThis[Sa]||(globalThis[Sa]=Il().then(I=>globalThis[jo]=I).catch(()=>globalThis[jo]=!1)),globalThis[Fs]||(globalThis[Fs]=Zr().then(I=>globalThis[Qi]=I).catch(()=>globalThis[Qi]=!1));const ou=(I,O)=>{const B=O?[O]:(0,d.C6)(),Z=[];return B.forEach(Ee=>{Ee.container.getProvider(I).instances.forEach(et=>{Z.includes(et)||Z.push(et)})}),Z};function Pr(){}class Ls{constructor(O,B=ne){this.zone=O,this.delegate=B}now(){return this.delegate.now()}schedule(O,B,Z){const Ee=this.zone;return this.delegate.schedule(function(et){Ee.runGuarded(()=>{O.apply(this,[et])})},B,Z)}}class Na{constructor(O){this.zone=O,this.task=null}call(O,B){const Z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pr,{},Pr,Pr)),B.pipe((0,ln.b)({next:Z,complete:Z,error:Z})).subscribe(O).add(Z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let td=(()=>{class I{constructor(B){this.ngZone=B,this.outsideAngular=B.runOutsideAngular(()=>new Ls(Zone.current)),this.insideAngular=B.run(()=>new Ls(Zone.current,_t.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(B){return new(B||I)(E.LFG(E.R0b))},I.\u0275prov=E.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function ys(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Dc(I){return ys(),function ki(I){return function(B){return(B=B.lift(new Na(I.ngZone))).pipe((0,Nt.R)(I.outsideAngular),(0,on.Q)(I.insideAngular))}}(ys())(I)}},2090:(mt,Oe,x)=>{x.d(Oe,{$s:()=>kn,BH:()=>Ne,DV:()=>pt,Dv:()=>Oi,G6:()=>rt,GJ:()=>Rt,L:()=>re,LL:()=>De,Mn:()=>Ue,Pz:()=>Dt,Sg:()=>Ce,UG:()=>Re,UI:()=>Yn,US:()=>me,Wj:()=>ci,Yr:()=>tt,ZB:()=>Y,ZR:()=>Be,b$:()=>ht,cI:()=>It,d:()=>Ge,dS:()=>Wt,eu:()=>$e,g5:()=>j,gK:()=>Bn,gQ:()=>Gn,h$:()=>Te,hl:()=>ee,hu:()=>d,jU:()=>Pe,lb:()=>Dn,m9:()=>Ni,ne:()=>ft,p$:()=>J,pd:()=>ti,r3:()=>fn,ru:()=>st,tV:()=>Se,uI:()=>Ze,ug:()=>nt,vZ:()=>Zn,w1:()=>ke,w9:()=>Ft,xO:()=>xn,xb:()=>$t,z$:()=>Fe,zI:()=>de,zd:()=>pi});const d=function(te,ae){if(!te)throw j(ae)},j=function(te){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+te)},he=function(te){const ae=[];let Q=0;for(let ce=0;ce<te.length;ce++){let oe=te.charCodeAt(ce);oe<128?ae[Q++]=oe:oe<2048?(ae[Q++]=oe>>6|192,ae[Q++]=63&oe|128):55296==(64512&oe)&&ce+1<te.length&&56320==(64512&te.charCodeAt(ce+1))?(oe=65536+((1023&oe)<<10)+(1023&te.charCodeAt(++ce)),ae[Q++]=oe>>18|240,ae[Q++]=oe>>12&63|128,ae[Q++]=oe>>6&63|128,ae[Q++]=63&oe|128):(ae[Q++]=oe>>12|224,ae[Q++]=oe>>6&63|128,ae[Q++]=63&oe|128)}return ae},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,ae){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[];for(let oe=0;oe<te.length;oe+=3){const Xe=te[oe],ct=oe+1<te.length,wt=ct?te[oe+1]:0,hn=oe+2<te.length,zt=hn?te[oe+2]:0;let Xt=(15&wt)<<2|zt>>6,Mn=63&zt;hn||(Mn=64,ct||(Xt=64)),ce.push(Q[Xe>>2],Q[(3&Xe)<<4|wt>>4],Q[Xt],Q[Mn])}return ce.join("")},encodeString(te,ae){return this.HAS_NATIVE_SUPPORT&&!ae?btoa(te):this.encodeByteArray(he(te),ae)},decodeString(te,ae){return this.HAS_NATIVE_SUPPORT&&!ae?atob(te):function(te){const ae=[];let Q=0,ce=0;for(;Q<te.length;){const oe=te[Q++];if(oe<128)ae[ce++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const Xe=te[Q++];ae[ce++]=String.fromCharCode((31&oe)<<6|63&Xe)}else if(oe>239&&oe<365){const hn=((7&oe)<<18|(63&te[Q++])<<12|(63&te[Q++])<<6|63&te[Q++])-65536;ae[ce++]=String.fromCharCode(55296+(hn>>10)),ae[ce++]=String.fromCharCode(56320+(1023&hn))}else{const Xe=te[Q++],ct=te[Q++];ae[ce++]=String.fromCharCode((15&oe)<<12|(63&Xe)<<6|63&ct)}}return ae.join("")}(this.decodeStringToByteArray(te,ae))},decodeStringToByteArray(te,ae){this.init_();const Q=ae?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[];for(let oe=0;oe<te.length;){const Xe=Q[te.charAt(oe++)],wt=oe<te.length?Q[te.charAt(oe)]:0;++oe;const zt=oe<te.length?Q[te.charAt(oe)]:64;++oe;const qt=oe<te.length?Q[te.charAt(oe)]:64;if(++oe,null==Xe||null==wt||null==zt||null==qt)throw Error();ce.push(Xe<<2|wt>>4),64!==zt&&(ce.push(wt<<4&240|zt>>2),64!==qt&&ce.push(zt<<6&192|qt))}return ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}},Te=function(te){const ae=he(te);return me.encodeByteArray(ae,!0)},re=function(te){return Te(te).replace(/\./g,"")},Se=function(te){try{return me.decodeString(te,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null};function J(te){return Y(void 0,te)}function Y(te,ae){if(!(ae instanceof Object))return ae;switch(ae.constructor){case Date:return new Date(ae.getTime());case Object:void 0===te&&(te={});break;case Array:te=[];break;default:return ae}for(const Q in ae)!ae.hasOwnProperty(Q)||!ie(Q)||(te[Q]=Y(te[Q],ae[Q]));return te}function ie(te){return"__proto__"!==te}class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ae,Q)=>{this.resolve=ae,this.reject=Q})}wrapCallback(ae){return(Q,ce)=>{Q?this.reject(Q):this.resolve(ce),"function"==typeof ae&&(this.promise.catch(()=>{}),1===ae.length?ae(Q):ae(Q,ce))}}}function Ce(te,ae){if(te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ce=ae||"demo-project",oe=te.iat||0,Xe=te.sub||te.user_id;if(!Xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ct=Object.assign({iss:`https://securetoken.google.com/${ce}`,aud:ce,iat:oe,exp:oe+3600,auth_time:oe,sub:Xe,user_id:Xe,firebase:{sign_in_provider:"custom",identities:{}}},te);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(ct)),""].join(".")}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function Re(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Pe(){return"object"==typeof self&&self.self===self}function st(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ge(){return Fe().indexOf("Electron/")>=0}function ke(){const te=Fe();return te.indexOf("MSIE ")>=0||te.indexOf("Trident/")>=0}function Ue(){return Fe().indexOf("MSAppHost/")>=0}function tt(){return!1}function rt(){return!Re()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ee(){return"object"==typeof indexedDB}function $e(){return new Promise((te,ae)=>{try{let Q=!0;const ce="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(ce);oe.onsuccess=()=>{oe.result.close(),Q||self.indexedDB.deleteDatabase(ce),te(!0)},oe.onupgradeneeded=()=>{Q=!1},oe.onerror=()=>{var Xe;ae((null===(Xe=oe.error)||void 0===Xe?void 0:Xe.message)||"")}}catch(Q){ae(Q)}})}function de(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Be extends Error{constructor(ae,Q,ce){super(Q),this.code=ae,this.customData=ce,this.name="FirebaseError",Object.setPrototypeOf(this,Be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}}class De{constructor(ae,Q,ce){this.service=ae,this.serviceName=Q,this.errors=ce}create(ae,...Q){const ce=Q[0]||{},oe=`${this.service}/${ae}`,Xe=this.errors[ae],ct=Xe?function Qe(te,ae){return te.replace(lt,(Q,ce)=>{const oe=ae[ce];return null!=oe?String(oe):`<${ce}?>`})}(Xe,ce):"Error";return new Be(oe,`${this.serviceName}: ${ct} (${oe}).`,ce)}}const lt=/\{\$([^}]+)}/g;function It(te){return JSON.parse(te)}function Dt(te){return JSON.stringify(te)}const ze=function(te){let ae={},Q={},ce={},oe="";try{const Xe=te.split(".");ae=It(Se(Xe[0])||""),Q=It(Se(Xe[1])||""),oe=Xe[2],ce=Q.d||{},delete Q.d}catch{}return{header:ae,claims:Q,data:ce,signature:oe}},Ft=function(te){const Q=ze(te).claims;return!!Q&&"object"==typeof Q&&Q.hasOwnProperty("iat")},Rt=function(te){const ae=ze(te).claims;return"object"==typeof ae&&!0===ae.admin};function fn(te,ae){return Object.prototype.hasOwnProperty.call(te,ae)}function pt(te,ae){if(Object.prototype.hasOwnProperty.call(te,ae))return te[ae]}function $t(te){for(const ae in te)if(Object.prototype.hasOwnProperty.call(te,ae))return!1;return!0}function Yn(te,ae,Q){const ce={};for(const oe in te)Object.prototype.hasOwnProperty.call(te,oe)&&(ce[oe]=ae.call(Q,te[oe],oe,te));return ce}function Zn(te,ae){if(te===ae)return!0;const Q=Object.keys(te),ce=Object.keys(ae);for(const oe of Q){if(!ce.includes(oe))return!1;const Xe=te[oe],ct=ae[oe];if(li(Xe)&&li(ct)){if(!Zn(Xe,ct))return!1}else if(Xe!==ct)return!1}for(const oe of ce)if(!Q.includes(oe))return!1;return!0}function li(te){return null!==te&&"object"==typeof te}function xn(te){const ae=[];for(const[Q,ce]of Object.entries(te))Array.isArray(ce)?ce.forEach(oe=>{ae.push(encodeURIComponent(Q)+"="+encodeURIComponent(oe))}):ae.push(encodeURIComponent(Q)+"="+encodeURIComponent(ce));return ae.length?"&"+ae.join("&"):""}function pi(te){const ae={};return te.replace(/^\?/,"").split("&").forEach(ce=>{if(ce){const[oe,Xe]=ce.split("=");ae[decodeURIComponent(oe)]=decodeURIComponent(Xe)}}),ae}function ti(te){const ae=te.indexOf("?");if(!ae)return"";const Q=te.indexOf("#",ae);return te.substring(ae,Q>0?Q:void 0)}class Gn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ae=1;ae<this.blockSize;++ae)this.pad_[ae]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ae,Q){Q||(Q=0);const ce=this.W_;if("string"==typeof ae)for(let qt=0;qt<16;qt++)ce[qt]=ae.charCodeAt(Q)<<24|ae.charCodeAt(Q+1)<<16|ae.charCodeAt(Q+2)<<8|ae.charCodeAt(Q+3),Q+=4;else for(let qt=0;qt<16;qt++)ce[qt]=ae[Q]<<24|ae[Q+1]<<16|ae[Q+2]<<8|ae[Q+3],Q+=4;for(let qt=16;qt<80;qt++){const Xt=ce[qt-3]^ce[qt-8]^ce[qt-14]^ce[qt-16];ce[qt]=4294967295&(Xt<<1|Xt>>>31)}let zt,ui,oe=this.chain_[0],Xe=this.chain_[1],ct=this.chain_[2],wt=this.chain_[3],hn=this.chain_[4];for(let qt=0;qt<80;qt++){qt<40?qt<20?(zt=wt^Xe&(ct^wt),ui=1518500249):(zt=Xe^ct^wt,ui=1859775393):qt<60?(zt=Xe&ct|wt&(Xe|ct),ui=2400959708):(zt=Xe^ct^wt,ui=3395469782);const Xt=(oe<<5|oe>>>27)+zt+hn+ui+ce[qt]&4294967295;hn=wt,wt=ct,ct=4294967295&(Xe<<30|Xe>>>2),Xe=oe,oe=Xt}this.chain_[0]=this.chain_[0]+oe&4294967295,this.chain_[1]=this.chain_[1]+Xe&4294967295,this.chain_[2]=this.chain_[2]+ct&4294967295,this.chain_[3]=this.chain_[3]+wt&4294967295,this.chain_[4]=this.chain_[4]+hn&4294967295}update(ae,Q){if(null==ae)return;void 0===Q&&(Q=ae.length);const ce=Q-this.blockSize;let oe=0;const Xe=this.buf_;let ct=this.inbuf_;for(;oe<Q;){if(0===ct)for(;oe<=ce;)this.compress_(ae,oe),oe+=this.blockSize;if("string"==typeof ae){for(;oe<Q;)if(Xe[ct]=ae.charCodeAt(oe),++ct,++oe,ct===this.blockSize){this.compress_(Xe),ct=0;break}}else for(;oe<Q;)if(Xe[ct]=ae[oe],++ct,++oe,ct===this.blockSize){this.compress_(Xe),ct=0;break}}this.inbuf_=ct,this.total_+=Q}digest(){const ae=[];let Q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let oe=this.blockSize-1;oe>=56;oe--)this.buf_[oe]=255&Q,Q/=256;this.compress_(this.buf_);let ce=0;for(let oe=0;oe<5;oe++)for(let Xe=24;Xe>=0;Xe-=8)ae[ce]=this.chain_[oe]>>Xe&255,++ce;return ae}}function ft(te,ae){const Q=new Ut(te,ae);return Q.subscribe.bind(Q)}class Ut{constructor(ae,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{ae(this)}).catch(ce=>{this.error(ce)})}next(ae){this.forEachObserver(Q=>{Q.next(ae)})}error(ae){this.forEachObserver(Q=>{Q.error(ae)}),this.close(ae)}complete(){this.forEachObserver(ae=>{ae.complete()}),this.close()}subscribe(ae,Q,ce){let oe;if(void 0===ae&&void 0===Q&&void 0===ce)throw new Error("Missing Observer.");oe=function gn(te,ae){if("object"!=typeof te||null===te)return!1;for(const Q of ae)if(Q in te&&"function"==typeof te[Q])return!0;return!1}(ae,["next","error","complete"])?ae:{next:ae,error:Q,complete:ce},void 0===oe.next&&(oe.next=ji),void 0===oe.error&&(oe.error=ji),void 0===oe.complete&&(oe.complete=ji);const Xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),Xe}unsubscribeOne(ae){void 0===this.observers||void 0===this.observers[ae]||(delete this.observers[ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ae){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,ae)}sendOne(ae,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ae])try{Q(this.observers[ae])}catch(ce){typeof console<"u"&&console.error&&console.error(ce)}})}close(ae){this.finalized||(this.finalized=!0,void 0!==ae&&(this.finalError=ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ji(){}const Oi=function(te,ae,Q,ce){let oe;if(ce<ae?oe="at least "+ae:ce>Q&&(oe=0===Q?"none":"no more than "+Q),oe)throw new Error(te+" failed: Was called with "+ce+(1===ce?" argument.":" arguments.")+" Expects "+oe+".")};function Bn(te,ae){return`${te} failed: ${ae} argument `}function ci(te,ae,Q,ce){if((!ce||Q)&&"function"!=typeof Q)throw new Error(Bn(te,ae)+"must be a valid function.")}function Dn(te,ae,Q,ce){if((!ce||Q)&&("object"!=typeof Q||null===Q))throw new Error(Bn(te,ae)+"must be a valid context object.")}const Wt=function(te){const ae=[];let Q=0;for(let ce=0;ce<te.length;ce++){let oe=te.charCodeAt(ce);if(oe>=55296&&oe<=56319){const Xe=oe-55296;ce++,d(ce<te.length,"Surrogate pair missing trail surrogate."),oe=65536+(Xe<<10)+(te.charCodeAt(ce)-56320)}oe<128?ae[Q++]=oe:oe<2048?(ae[Q++]=oe>>6|192,ae[Q++]=63&oe|128):oe<65536?(ae[Q++]=oe>>12|224,ae[Q++]=oe>>6&63|128,ae[Q++]=63&oe|128):(ae[Q++]=oe>>18|240,ae[Q++]=oe>>12&63|128,ae[Q++]=oe>>6&63|128,ae[Q++]=63&oe|128)}return ae},nt=function(te){let ae=0;for(let Q=0;Q<te.length;Q++){const ce=te.charCodeAt(Q);ce<128?ae++:ce<2048?ae+=2:ce>=55296&&ce<=56319?(ae+=4,Q++):ae+=3}return ae};function kn(te,ae=1e3,Q=2){const ce=ae*Math.pow(Q,te),oe=Math.round(.5*ce*(Math.random()-.5)*2);return Math.min(144e5,ce+oe)}function Ni(te){return te&&te._delegate?te._delegate:te}},3511:(mt,Oe,x)=>{x.d(Oe,{F:()=>Ne});var E=x(7579),d=x(1135),j=x(5026),he=x(9300),le=(()=>{return(Ce=le||(le={})).XXS="xxs",Ce.XS="xs",Ce.Small="sm",Ce.Middle="md",Ce.Large="lg",Ce.XL="xl",Ce.XXL="xxl",le;var Ce})(),Y=(()=>{return(Ce=Y||(Y={}))[Ce.Add=1]="Add",Ce[Ce.Modify=2]="Modify",Ce[Ce.Delete=3]="Delete",Ce[Ce.Cancel=4]="Cancel",Ce[Ce.Save=5]="Save",Ce[Ce.Clear=6]="Clear",Ce[Ce.Apply=7]="Apply",Ce[Ce.Preview=8]="Preview",Ce[Ce.Submit=9]="Submit",Y;var Ce})(),ie=x(4650);let Ne=(()=>{class Ce{constructor(){this.loadingQueue=new E.x,this.loadingQueue$=this.loadingQueue.asObservable().pipe((0,j.R)((Ze,Re)=>this.resolveLoadingAction(Ze,Re),new Set)),this.dialogEvent=new d.X(null),this.dialogQueue$=this.dialogEvent.asObservable().pipe((0,he.h)(Ze=>!!Ze),(0,j.R)((Ze,Re)=>this.resolveDialogAction(Ze,Re),new Set)),this.loadingQueue$.subscribe()}toggleDialog(Ze,{config:Re,callbacks:Pe={confirm:()=>{},cancel:()=>{},backdrop:()=>{}},size:st=le.Middle,options:ht}){ht={backdrop:!0,backdropClose:!1,isAside:!1,...ht},this.dialogEvent.next({action:Y.Add,dialog:{component:Ze,id:(new Date).toISOString(),params:{config:Re,callbacks:Pe,size:st,options:ht}}})}closeDialog(Ze){this.dialogEvent.next({action:Y.Delete,dialog:Ze})}startLoading(){const Ze={id:(new Date).toISOString(),action:Y.Add};return this.loadingQueue.next(Ze),Ze.id}endLoading(Ze,Re){this.loadingQueue.next({id:Ze,action:Y.Delete}),Re?.focus()}forceEndLoading(){this.loadingQueue.next({id:"",action:Y.Clear})}resolveLoadingAction(Ze,{id:Re,action:Pe}){switch(Pe){case Y.Add:Ze.has(Re)||Ze.add(Re);break;case Y.Delete:Ze.has(Re)&&Ze.delete(Re);break;case Y.Clear:Ze.clear()}return Ze}resolveDialogAction(Ze,{action:Re,dialog:Pe}){const st=Pe;switch(Re){case Y.Add:Ze.has(st)||Ze.add(st);break;case Y.Delete:Ze.has(st)&&Ze.delete(st);break;case Y.Clear:Ze.clear()}return Ze}}return Ce.\u0275fac=function(Ze){return new(Ze||Ce)},Ce.\u0275prov=ie.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},2128:(mt,Oe,x)=>{var E=x(1481),d=x(4650),j=x(2038);const he=[{path:"",children:[{path:"user",loadChildren:()=>x.e(848).then(x.bind(x,9848)).then(n=>n.UserModule)}]}];let le=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[j.Bz.forRoot(he),j.Bz]}),n})();var me=(()=>((me||(me={})).TodoList="todo-list",me))();const Te=new Map([[me.TodoList,{path:`user/${me.TodoList}`,icon:"list",i18n:"\u4ee3\u8fa6\u4e8b\u9805"}]]);var re=x(6895);function Se(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"li")(1,"input",3),d.NdJ("change",function(){const f=d.CHM(e).$implicit,v=d.oxw();return d.KtG(v.navigate(f.value.path))}),d.qZA(),d.TgZ(2,"label",4),d._UZ(3,"em"),d._uU(4),d.qZA()()}if(2&n){const e=t.$implicit,s=d.oxw();d.xp6(1),d.Q6J("checked",s.isActivated(e.value.path))("id",e.key),d.xp6(1),d.Q6J("for",e.key),d.xp6(1),d.Gre("icon-",e.value.icon,""),d.xp6(1),d.hij(" ",e.value.i18n," ")}}let J=(()=>{class n{constructor(e){this.router=e,this.userPages=Te}ngOnInit(){}navigate(e){this.router.navigateByUrl(e)}isActivated(e){return new RegExp(`${e}$`).test(this.router.url)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(j.F0))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-menu"]],decls:5,vars:3,consts:[["pointer","",1,"bg-white"],["src","assets/images/logo.png","alt",""],[4,"ngFor","ngForOf"],["type","radio",1,"d-none",3,"checked","id","change"],["pointer","",3,"for"]],template:function(e,s){1&e&&(d.TgZ(0,"ul")(1,"li",0),d._UZ(2,"img",1),d.qZA(),d.YNc(3,Se,5,7,"li",2),d.ALo(4,"keyvalue"),d.qZA()),2&e&&(d.xp6(3),d.Q6J("ngForOf",d.lcZ(4,1,s.userPages)))},dependencies:[re.sg,re.Nd],styles:["[_nghost-%COMP%]{display:block;height:100vh;min-width:220px;width:220px;overflow:auto;background-color:#00a3b4}[_nghost-%COMP%]::-webkit-scrollbar{width:.375rem;height:.375rem;margin-left:6px}[_nghost-%COMP%]::-webkit-scrollbar-thumb{background:#dfe3e8;border-radius:10px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;height:3.5rem;padding:0 1rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{box-sizing:content-box;height:3rem;display:flex;align-items:center;justify-content:center;padding:.5rem 0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type   img[_ngcontent-%COMP%]{height:100%}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#037f8c;border-radius:3px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:before{color:#fff}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{height:2.5rem;display:flex;background-color:transparent;align-items:center;-webkit-user-select:none;user-select:none;color:#fff;font-size:.875rem;padding:0 10px;width:100%;cursor:pointer}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:1;-webkit-box-orient:vertical;white-space:nowrap;cursor:pointer}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{margin-left:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]:before{color:#9fe5e3;margin-right:.5rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#037f8c;border-radius:3px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover   em[_ngcontent-%COMP%]:before{color:#fff}"]}),n})();const Y=["*"];let ie=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-layout"]],ngContentSelectors:Y,decls:9,vars:4,consts:[["tMenu",""],[1,"bg-white"],["tHeader",""],[1,"scroll-bar"]],template:function(e,s){if(1&e&&(d.F$t(),d.TgZ(0,"section",null,0),d._UZ(2,"app-menu"),d.qZA(),d.TgZ(3,"main"),d._UZ(4,"header",1,2),d.TgZ(6,"div",3),d.Hsn(7),d.qZA(),d._UZ(8,"footer"),d.qZA()),2&e){const l=d.MAs(1),f=d.MAs(5);d.xp6(3),d.Udp("width","calc(100% - "+l.clientWidth+"px)"),d.xp6(3),d.Udp("height","calc(100% - "+f.clientHeight+"px)")}},dependencies:[J],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;align-items:stretch;width:100%;margin:0 auto}header[_ngcontent-%COMP%]{height:4rem}@media screen and (min-width: 1919px){[_nghost-%COMP%]{width:1920px}}@media screen and (min-width: 1279px){[_nghost-%COMP%]{width:1280px}}@media screen and (max-width: 767px){app-menu[_ngcontent-%COMP%]{display:none}}"]}),n})();const Ne=[[["","title",""]],"*",[["","footer",""]]],Ce=["[title]","*","[footer]"];let Fe=(()=>{class n{constructor(){this.close=new d.vpe}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-dialog"]],outputs:{close:"close"},ngContentSelectors:Ce,decls:7,vars:0,consts:[[1,"material-icons",3,"click"]],template:function(e,s){1&e&&(d.F$t(Ne),d.TgZ(0,"header"),d.Hsn(1),d.TgZ(2,"em",0),d.NdJ("click",function(){return s.close.emit()}),d._uU(3," clear "),d.qZA()(),d.TgZ(4,"section"),d.Hsn(5,1),d.qZA(),d.Hsn(6,2))},styles:["[_nghost-%COMP%]{display:block;box-shadow:0 2px 5px #63738133,0 6px 14px #6373811a,0 24px 24px #6373810a;border:1px solid rgba(99,115,129,.1);background-color:#fff;width:100%;border-radius:3px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;padding:1.5rem;display:flex;justify-content:space-between;align-items:center;font-size:1.125rem}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:1.25rem}[_nghost-%COMP%]   section[_ngcontent-%COMP%]{border-top:1px solid #dfe3e8;padding:1.5rem}[hideHeader][_nghost-%COMP%]   header[_ngcontent-%COMP%]{display:none}[hideClose][_nghost-%COMP%]   header[_ngcontent-%COMP%] > em[_ngcontent-%COMP%]{display:none}"]}),n})();class Ze{constructor(t,e){this.dialog=t,this.id=t.id,this.component=t.component,this.params=t.params,this.injector=d.zs3.create({providers:[{provide:Fe,useValue:t}],parent:e})}}var Re=x(3511);let Pe=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-loading"]],decls:3,vars:0,consts:[[1,"Loading"],["viewBox","25 25 50 50"],["cx","50","cy","50","r","20","fill","none","stroke","#70c542","stroke-width","3"]],template:function(e,s){1&e&&(d.TgZ(0,"div",0),d.O4$(),d.TgZ(1,"svg",1),d._UZ(2,"circle",2),d.qZA()())},styles:["[_nghost-%COMP%]{position:fixed;z-index:2000;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background-color:#fffc}.Loading[_ngcontent-%COMP%]{display:inline-block;position:relative;width:4.5rem;height:4.5rem;padding:.25rem;border-radius:100%}.Loading[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{animation:rotate 2s linear infinite;transform-origin:center center}.Loading[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke-dasharray:150,200;stroke-dashoffset:-10;animation:dash 1.5s ease-in-out infinite,color 6s ease-in-out infinite;stroke-linecap:round}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes color{0%{stroke:#70a2db}40%{stroke:#2744c5}66%{stroke:#42abc5}80%,90%{stroke:#4261c5}}"]}),n})();function st(n,t){}function ht(n,t){1&n&&d.YNc(0,st,0,0,"ng-template")}function Ge(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"section",2),d.NdJ("click",function(l){const v=d.CHM(e).$implicit,S=d.MAs(2),R=d.oxw();return d.KtG(R.onDialogBackdropClick(v,l,S))}),d.TgZ(1,"div",null,3),d.YNc(3,ht,1,0,null,4),d.qZA()()}if(2&n){const e=t.$implicit;d.ekj("dialog--r",null==e.params.options?null:e.params.options.isAside)("dialog__backdrop",null==e.params.options?null:e.params.options.backdrop),d.xp6(1),d.Gre("dialog__container dialog--",e.params.size,""),d.xp6(2),d.Q6J("ngComponentOutlet",e.component)("ngComponentOutletInjector",e.injector)}}function ke(n,t){1&n&&d._UZ(0,"app-loading")}function Ue(n,t){if(1&n&&(d.ynx(0),d.YNc(1,ke,1,0,"app-loading",1),d.BQk()),2&n){const e=t.ngIf;d.xp6(1),d.Q6J("ngIf",e.size>0)}}let tt=(()=>{class n{constructor(e,s){this.$overlay=e,this.injector=s,this.dialogs=[]}ngOnInit(){this.$overlay.dialogQueue$.subscribe(e=>this.afterDialogsChanged(e))}onDialogBackdropClick({dialog:e,params:s},l,f){f.contains(l.target)||(s.callbacks?.backdrop&&s.callbacks.backdrop(e),s.options?.backdropClose&&this.$overlay.closeDialog(e))}afterDialogsChanged(e){this.dialogs=this.dialogs.map(s=>Array.from(e.values()).some(({id:l})=>s.id===l)?s:null).filter(s=>!!s),e.forEach(s=>{this.dialogs.some(({id:l})=>s.id===l)||this.dialogs.push(new Ze(s,this.injector))})}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Re.F),d.Y36(d.zs3))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-overlay"]],decls:3,vars:4,consts:[["class","dialog",3,"dialog--r","dialog__backdrop","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"dialog",3,"click"],["tDialogContainer",""],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(e,s){1&e&&(d.YNc(0,Ge,4,9,"section",0),d.YNc(1,Ue,2,1,"ng-container",1),d.ALo(2,"async")),2&e&&(d.Q6J("ngForOf",s.dialogs),d.xp6(1),d.Q6J("ngIf",d.lcZ(2,2,s.$overlay.loadingQueue$)))},dependencies:[re.$G,re.sg,re.O5,Pe,re.Ov],styles:["[_nghost-%COMP%]{position:relative}.dialog[_ngcontent-%COMP%]{z-index:99;height:100vh;width:100vw;position:fixed;top:0;left:0}.dialog--sm[_ngcontent-%COMP%]{width:343px;max-width:343px}.dialog--md[_ngcontent-%COMP%]{width:500px;max-width:500px}.dialog--lg[_ngcontent-%COMP%]{width:762px;max-width:762px}.dialog--xl[_ngcontent-%COMP%]{width:1140px;max-width:1140px}.dialog--t[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start}.dialog--t[_ngcontent-%COMP%] > .dialog__container[_ngcontent-%COMP%]{margin:0;padding:0}.dialog--r[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-end}.dialog--r[_ngcontent-%COMP%] > .dialog__container[_ngcontent-%COMP%]{margin:0;padding:0}.dialog--b[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-end;justify-content:flex-start}.dialog--b[_ngcontent-%COMP%] > .dialog__container[_ngcontent-%COMP%]{margin:0;padding:0}.dialog--l[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start}.dialog--l[_ngcontent-%COMP%] > .dialog__container[_ngcontent-%COMP%]{margin:0;padding:0}.dialog__container[_ngcontent-%COMP%]{margin:0 auto;padding:1.75rem 0}.dialog__backdrop[_ngcontent-%COMP%]{background-color:#000000b3}@media screen and (max-width: 767px){.dialog--sm[_ngcontent-%COMP%], .dialog--md[_ngcontent-%COMP%], .dialog--lg[_ngcontent-%COMP%], .dialog--xl[_ngcontent-%COMP%]{width:80%;max-width:80%}}"]}),n})(),rt=(()=>{class n{constructor(){this.title="aetherAI-home-challenge"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,s){1&e&&(d.TgZ(0,"app-layout"),d._UZ(1,"router-outlet"),d.qZA(),d._UZ(2,"app-overlay"))},dependencies:[j.lC,ie,tt]}),n})();var ee=x(9751),$e=x(515),de=x(9646),ye=x(7579),be=x(8421),Be=x(5577),De=x(1144),Qe=x(576),lt=x(3268);const It=["addListener","removeListener"],Dt=["addEventListener","removeEventListener"],ze=["on","off"];function Ot(n,t,e,s){if((0,Qe.m)(e)&&(s=e,e=void 0),s)return Ot(n,t,e).pipe((0,lt.Z)(s));const[l,f]=function fn(n){return(0,Qe.m)(n.addEventListener)&&(0,Qe.m)(n.removeEventListener)}(n)?Dt.map(v=>S=>n[v](t,S,e)):function Ft(n){return(0,Qe.m)(n.addListener)&&(0,Qe.m)(n.removeListener)}(n)?It.map(Zt(n,t)):function Rt(n){return(0,Qe.m)(n.on)&&(0,Qe.m)(n.off)}(n)?ze.map(Zt(n,t)):[];if(!l&&(0,De.z)(n))return(0,Be.z)(v=>Ot(v,t,e))((0,be.Xf)(n));if(!l)throw new TypeError("Invalid event target");return new ee.y(v=>{const S=(...R)=>v.next(1<R.length?R:R[0]);return l(S),()=>f(S)})}function Zt(n,t){return e=>s=>n[e](t,s)}var pt=x(4986),$t=x(3532);const{isArray:li}=Array;function An(n){return 1===n.length&&li(n[0])?n[0]:n}var xn=x(5403);x(1135),x(9841);var Ut=x(5032);new ee.y(Ut.Z);var ji=x(3269);function Oi(...n){const t=(0,ji.jO)(n),e=An(n);return e.length?new ee.y(s=>{let l=e.map(()=>[]),f=e.map(()=>!1);s.add(()=>{l=f=null});for(let v=0;!s.closed&&v<e.length;v++)(0,be.Xf)(e[v]).subscribe((0,xn.x)(s,S=>{if(l[v].push(S),l.every(R=>R.length)){const R=l.map(F=>F.shift());s.next(t?t(...R):R),l.some((F,z)=>!F.length&&f[z])&&s.complete()}},()=>{f[v]=!0,!l[v].length&&s.complete()}));return()=>{l=f=null}}):$e.E}var Bn=x(7272),ci=x(4482);function Dn(n){return(0,ci.e)((t,e)=>{(0,be.Xf)(n).subscribe((0,xn.x)(e,()=>e.complete(),Ut.Z)),!e.closed&&t.subscribe(e)})}var Wt=x(9300),nt=x(5698),Ct=x(4004),St=(x(8675),x(1884)),At=x(3900),Ai=x(8505),kn=x(4671);function oi(...n){const t=(0,ji.jO)(n);return(0,ci.e)((e,s)=>{const l=n.length,f=new Array(l);let v=n.map(()=>!1),S=!1;for(let R=0;R<l;R++)(0,be.Xf)(n[R]).subscribe((0,xn.x)(s,F=>{f[R]=F,!S&&!v[R]&&(v[R]=!0,(S=v.every(kn.y))&&(v=null))},Ut.Z));e.subscribe((0,xn.x)(s,R=>{if(S){const F=[R,...f];s.next(t?t(...F):F)}}))})}x(9718),x(8996),x(4742),x(1810);let Xa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),Do=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Xa]}),n})(),xl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Do]}),n})();Math,Math,Math;const lu=["*"],$o=["dialog"];function bd(n){return"string"==typeof n}function fl(n){return null!=n}function U(n){return(n||document.body).getBoundingClientRect()}const Mt={animation:!0,transitionTimerDelayMs:5},Qt=()=>{},{transitionTimerDelayMs:Ht}=Mt,Li=new Map,Ii=(n,t,e,s)=>{let l=s.context||{};const f=Li.get(t);if(f)switch(s.runningTransition){case"continue":return $e.E;case"stop":n.run(()=>f.transition$.complete()),l=Object.assign(f.context,l),Li.delete(t)}const v=e(t,s.animation,l)||Qt;if(!s.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>v()),(0,de.of)(void 0).pipe(function _e(n){return t=>new ee.y(e=>t.subscribe({next:v=>n.run(()=>e.next(v)),error:v=>n.run(()=>e.error(v)),complete:()=>n.run(()=>e.complete())}))}(n));const S=new ye.x,R=new ye.x,F=S.pipe(function ri(...n){return t=>(0,Bn.z)(t,(0,de.of)(...n))}(!0));Li.set(t,{transition$:S,complete:()=>{R.next(),R.complete()},context:l});const z=function ut(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const ue=Ot(t,"transitionend").pipe(Dn(F),(0,Wt.h)(({target:We})=>We===t));(function pi(...n){return 1===(n=An(n)).length?(0,be.Xf)(n[0]):new ee.y(function ti(n){return t=>{let e=[];for(let s=0;e&&!t.closed&&s<n.length;s++)e.push((0,be.Xf)(n[s]).subscribe((0,xn.x)(t,l=>{if(e){for(let f=0;f<e.length;f++)f!==s&&e[f].unsubscribe();e=null}t.next(l)})))}}(n))})(function Zn(n=0,t,e=pt.P){let s=-1;return null!=t&&((0,$t.K)(t)?e=t:s=t),new ee.y(l=>{let f=function Yn(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;f<0&&(f=0);let v=0;return e.schedule(function(){l.closed||(l.next(v++),0<=s?this.schedule(void 0,s):l.complete())},f)})}(z+Ht).pipe(Dn(F)),ue,R).pipe(Dn(F)).subscribe(()=>{Li.delete(t),n.run(()=>{v(),S.next(),S.complete()})})}),S.asObservable()};let pl=(()=>{class n{constructor(){this.animation=Mt.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[re.ez]}),n})(),dg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[re.ez]}),n})(),L_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[re.ez]}),n})(),V_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();var gr=(()=>{return(n=gr||(gr={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",gr;var n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const gg=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function qh(n){const t=Array.from(n.querySelectorAll(gg)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let sv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[re.ez,xl]}),n})(),lv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();class ql{constructor(t,e,s){this.nodes=t,this.viewRef=e,this.componentRef=s}}let Qb=(()=>{class n{constructor(e,s){this._el=e,this._zone=s}ngOnInit(){this._zone.onStable.asObservable().pipe((0,nt.q)(1)).subscribe(()=>{Ii(this._zone,this._el.nativeElement,(e,s)=>{s&&U(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ii(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,s){2&e&&(d.Tol("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),d.ekj("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,s){},encapsulation:2}),n})();class Ag{close(t){}dismiss(t){}}class Jb{constructor(t,e,s,l){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=s,this._beforeDismiss=l,this._closed=new ye.x,this._dismissed=new ye.x,this._hidden=new ye.x,t.instance.dismissEvent.subscribe(f=>{this.dismiss(f)}),this.result=new Promise((f,v)=>{this._resolve=f,this._reject=v}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Dn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Dn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function g(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(s=>{!1!==s&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,de.of)(void 0);t.subscribe(()=>{const{nativeElement:s}=this._windowCmptRef.location;s.parentNode.removeChild(s),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:s}=this._backdropCmptRef.location;s.parentNode.removeChild(s),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Oi(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Pd=(()=>{return(n=Pd||(Pd={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Pd;var n})();let Xb=(()=>{class n{constructor(e,s,l){this._document=e,this._elRef=s,this._zone=l,this._closed$=new ye.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new d.vpe,this.shown=new ye.x,this.hidden=new ye.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":bd(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,nt.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,s={animation:this.animation,runningTransition:"stop"},v=Oi(Ii(this._zone,e,()=>e.classList.remove("show"),s),Ii(this._zone,this._dialogEl.nativeElement,()=>{},s));return v.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),v}_show(){const e={animation:this.animation,runningTransition:"continue"};Oi(Ii(this._zone,this._elRef.nativeElement,(f,v)=>{v&&U(f),f.classList.add("show")},e),Ii(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Ot(e,"keydown").pipe(Dn(this._closed$),(0,Wt.h)(l=>l.which===gr.Escape)).subscribe(l=>{this.keyboard?requestAnimationFrame(()=>{l.defaultPrevented||this._zone.run(()=>this.dismiss(Pd.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let s=!1;Ot(this._dialogEl.nativeElement,"mousedown").pipe(Dn(this._closed$),(0,Ai.b)(()=>s=!1),(0,At.w)(()=>Ot(e,"mouseup").pipe(Dn(this._closed$),(0,nt.q)(1))),(0,Wt.h)(({target:l})=>e===l)).subscribe(()=>{s=!0}),Ot(e,"click").pipe(Dn(this._closed$)).subscribe(({target:l})=>{e===l&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!s&&this._zone.run(()=>this.dismiss(Pd.BACKDROP_CLICK))),s=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const s=e.querySelector("[ngbAutofocus]"),l=qh(e)[0];(s||l||e).focus()}}_restoreFocus(){const e=this._document.body,s=this._elWithFocus;let l;l=s&&s.focus&&e.contains(s)?s:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>l.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ii(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(re.K0),d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,s){if(1&e&&d.Gf($o,7),2&e){let l;d.iGM(l=d.CRH())&&(s._dialogEl=l.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,s){2&e&&(d.uIk("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),d.Tol("modal d-block"+(s.windowClass?" "+s.windowClass:"")),d.ekj("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:lu,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,s){1&e&&(d.F$t(),d.TgZ(0,"div",0,1)(2,"div",2),d.Hsn(3),d.qZA()()),2&e&&d.Tol("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),eD=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),s=this._document.body,l=s.style,{overflow:f,paddingRight:v}=l;if(e>0){const S=parseFloat(window.getComputedStyle(s).paddingRight);l.paddingRight=`${S+e}px`}return l.overflow="hidden",()=>{e>0&&(l.paddingRight=v),l.overflow=f}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(re.K0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tD=(()=>{class n{constructor(e,s,l,f,v,S){this._applicationRef=e,this._injector=s,this._document=l,this._scrollBar=f,this._rendererFactory=v,this._ngZone=S,this._activeWindowCmptHasChanged=new ye.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new d.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const R=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,s=!1)=>{this._ngZone.runOutsideAngular(()=>{const l=Ot(t,"focusin").pipe(Dn(e),(0,Ct.U)(f=>f.target));Ot(t,"keydown").pipe(Dn(e),(0,Wt.h)(f=>f.which===gr.Tab),oi(l)).subscribe(([f,v])=>{const[S,R]=qh(t);(v===S||v===t)&&f.shiftKey&&(R.focus(),f.preventDefault()),v===R&&!f.shiftKey&&(S.focus(),f.preventDefault())}),s&&Ot(t,"click").pipe(Dn(e),oi(l),(0,Ct.U)(f=>f[1])).subscribe(f=>f.focus())})})(0,R.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(R.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,s,l){const f=l.container instanceof HTMLElement?l.container:fl(l.container)?this._document.querySelector(l.container):this._document.body,v=this._rendererFactory.createRenderer(null,null);if(!f)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const S=new Ag,R=this._getContentRef(l.injector||e,s,S,l);let F=!1!==l.backdrop?this._attachBackdrop(f):void 0,z=this._attachWindowComponent(f,R.nodes),ue=new Jb(z,R,F,l.beforeDismiss);return this._registerModalRef(ue),this._registerWindowCmpt(z),ue.hidden.pipe((0,nt.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(v.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),S.close=we=>{ue.close(we)},S.dismiss=we=>{ue.dismiss(we)},this._applyWindowOptions(z.instance,l),1===this._modalRefs.length&&v.addClass(this._document.body,"modal-open"),F&&F.instance&&(this._applyBackdropOptions(F.instance,l),F.changeDetectorRef.detectChanges()),z.changeDetectorRef.detectChanges(),ue}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(s=>s.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let s=(0,d.LMc)(Qb,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(s.hostView),e.appendChild(s.location.nativeElement),s}_attachWindowComponent(e,s){let l=(0,d.LMc)(Xb,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:s});return this._applicationRef.attachView(l.hostView),e.appendChild(l.location.nativeElement),l}_applyWindowOptions(e,s){this._windowAttributes.forEach(l=>{fl(s[l])&&(e[l]=s[l])})}_applyBackdropOptions(e,s){this._backdropAttributes.forEach(l=>{fl(s[l])&&(e[l]=s[l])})}_getContentRef(e,s,l,f){return s?s instanceof d.Rgc?this._createFromTemplateRef(s,l):bd(s)?this._createFromString(s):this._createFromComponent(e,s,l,f):new ql([])}_createFromTemplateRef(e,s){const f=e.createEmbeddedView({$implicit:s,close(v){s.close(v)},dismiss(v){s.dismiss(v)}});return this._applicationRef.attachView(f),new ql([f.rootNodes],f)}_createFromString(e){const s=this._document.createTextNode(`${e}`);return new ql([[s]])}_createFromComponent(e,s,l,f){const v=d.zs3.create({providers:[{provide:Ag,useValue:l}],parent:e}),S=(0,d.LMc)(s,{environmentInjector:this._applicationRef.injector,elementInjector:v}),R=S.location.nativeElement;return f.scrollable&&R.classList.add("component-host-scrollable"),this._applicationRef.attachView(S.hostView),new ql([[R]],S.hostView,S)}_setAriaHidden(e){const s=e.parentElement;s&&e!==this._document.body&&(Array.from(s.children).forEach(l=>{l!==e&&"SCRIPT"!==l.nodeName&&(this._ariaHiddenValues.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}),this._setAriaHidden(s))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,s)=>{e?s.setAttribute("aria-hidden",e):s.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const s=()=>{const l=this._modalRefs.indexOf(e);l>-1&&(this._modalRefs.splice(l,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(s,s)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const s=this._windowCmpts.indexOf(e);s>-1&&(this._windowCmpts.splice(s,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.z2F),d.LFG(d.zs3),d.LFG(re.K0),d.LFG(eD),d.LFG(d.FYo),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cv=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(pl))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nD=(()=>{class n{constructor(e,s,l){this._injector=e,this._modalStack=s,this._config=l}open(e,s={}){const l={...this._config,animation:this._config.animation,...s};return this._modalStack.open(this._injector,e,l)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.zs3),d.LFG(tD),d.LFG(cv))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ng=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[nD]}),n})(),pv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[re.ez]}),n})(),lf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[re.ez]}),n})(),Bg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[re.ez]}),n})(),cf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[re.ez]}),n})(),uD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[re.ez]}),n})(),Vg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[re.ez]}),n})(),Hg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[re.ez]}),n})(),bv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();new d.OlP("live announcer delay",{providedIn:"root",factory:function Cu(){return 100}});let Gg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[re.ez]}),n})(),Tv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const Iv=[cb,dg,L_,V_,sv,lv,Ng,pv,Tv,lf,Bg,cf,uD,Vg,Hg,bv,Gg];let Sv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Iv,cb,dg,L_,V_,sv,lv,Ng,pv,Tv,lf,Bg,cf,uD,Vg,Hg,bv,Gg]}),n})(),Av=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[re.ez]}),n})(),Yo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[re.ez]}),n})(),Nv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[re.ez,Av,Yo,Av,Yo]}),n})();var kd=x(2011),mD=x(6451),_D=x(3099),df=x(5026),Jl=x(5813),vD=(x(1451),x(3942)),wu=x(4859),yD=x(5861),Fd=x(9681),K=x(2090),$g=x(1877);const Wg="@firebase/database";let Kg="";function ua(n){Kg=n}class Yg{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,K.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,K.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class bD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,K.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Ov=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Yg(t)}}catch{}return new bD},Tu=Ov("localStorage"),hf=Ov("sessionStorage"),Iu=new $g.Yd("@firebase/database"),Rv=function(){let n=1;return function(){return n++}}(),Pv=function(n){const t=(0,K.dS)(n),e=new K.gQ;e.update(t);const s=e.digest();return K.US.encodeByteArray(s)},xc=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?t+=xc.apply(null,s):t+="object"==typeof s?(0,K.Pz)(s):s,t+=" "}return t};let kc=null,xv=!0;const Ld=function(n,t){(0,K.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Iu.logLevel=$g.in.VERBOSE,kc=Iu.log.bind(Iu),t&&hf.set("logging_enabled",!0)):"function"==typeof n?kc=n:(kc=null,hf.remove("logging_enabled"))},mr=function(...n){if(!0===xv&&(xv=!1,null===kc&&!0===hf.get("logging_enabled")&&Ld(!0)),kc){const t=xc.apply(null,n);kc(t)}},Bd=function(n){return function(...t){mr(n,...t)}},ff=function(...n){const t="FIREBASE INTERNAL ERROR: "+xc(...n);Iu.error(t)},Hs=function(...n){const t=`FIREBASE FATAL ERROR: ${xc(...n)}`;throw Iu.error(t),new Error(t)},Wr=function(...n){const t="FIREBASE WARNING: "+xc(...n);Iu.warn(t)},Zg=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Xl="[MIN_NAME]",La="[MAX_NAME]",ec=function(n,t){if(n===t)return 0;if(n===Xl||t===La)return-1;if(t===Xl||n===La)return 1;{const e=_f(n),s=_f(t);return null!==e?null!==s?e-s==0?n.length-t.length:e-s:-1:null!==s?1:n<t?-1:1}},kv=function(n,t){return n===t?0:n<t?-1:1},Su=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,K.Pz)(t))},pf=function(n){if("object"!=typeof n||null===n)return(0,K.Pz)(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)0!==s&&(e+=","),e+=(0,K.Pz)(t[s]),e+=":",e+=pf(n[t[s]]);return e+="}",e},gf=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let l=0;l<e;l+=t)s.push(n.substring(l,l+t>e?e:l+t));return s};function Mi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Vd=function(n){(0,K.hu)(!Zg(n),"Invalid JSON number");const s=1023;let l,f,v,S,R;0===n?(f=0,v=0,l=1/n==-1/0?1:0):(l=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(S=Math.min(Math.floor(Math.log(n)/Math.LN2),s),f=S+s,v=Math.round(n*Math.pow(2,52-S)-Math.pow(2,52))):(f=0,v=Math.round(n/Math.pow(2,-1074))));const F=[];for(R=52;R;R-=1)F.push(v%2?1:0),v=Math.floor(v/2);for(R=11;R;R-=1)F.push(f%2?1:0),f=Math.floor(f/2);F.push(l?1:0),F.reverse();const z=F.join("");let ue="";for(R=0;R<64;R+=8){let we=parseInt(z.substr(R,8),2).toString(16);1===we.length&&(we="0"+we),ue+=we}return ue.toLowerCase()},Qg=new RegExp("^-?(0*)\\d{1,10}$"),Jg=-2147483648,Xg=2147483647,_f=function(n){if(Qg.test(n)){const t=Number(n);if(t>=Jg&&t<=Xg)return t}return null},Ba=function(n){try{n()}catch(t){setTimeout(()=>{throw Wr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},vf=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class CD{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(s=>this.appCheck=s)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){Wr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class iw{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(mr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wr(t)}}let Ud=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const bf=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Vv="websocket",Hv="long_polling";class nm{constructor(t,e,s,l,f=!1,v="",S=!1){this.secure=e,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=f,this.persistenceKey=v,this.includeNamespaceInQueryParams=S,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tu.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Tu.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Uv(n,t,e){let s;if((0,K.hu)("string"==typeof t,"typeof type must == string"),(0,K.hu)("object"==typeof e,"typeof params must == object"),t===Vv)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Hv)throw new Error("Unknown connection type: "+t);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function TD(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const l=[];return Mi(e,(f,v)=>{l.push(f+"="+v)}),s+l.join("&")}class Ef{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,K.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,K.p$)(this.counters_)}}const ml={},jv={};function Fc(n){const t=n.toString();return ml[t]||(ml[t]=new Ef),ml[t]}class SD{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&Ba(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class bs{constructor(t,e,s,l,f,v,S){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=l,this.authToken=f,this.transportSessionId=v,this.lastSessionId=S,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bd(t),this.stats_=Fc(e),this.urlFn=R=>(this.appCheckToken&&(R.ac=this.appCheckToken),Uv(e,Hv,R))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new SD(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,K.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new wf((...f)=>{const[v,S,R,F,z]=f;if(this.incrementIncomingBytes_(f),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===v)this.id=S,this.password=R;else{if("close"!==v)throw new Error("Unrecognized command received: "+v);S?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(S,()=>{this.onClosed_()})):this.onClosed_()}},(...f)=>{const[v,S]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(v,S)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&bf.test(location.hostname)&&(s.r="f");const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bs.forceAllow_=!0}static forceDisallow(){bs.forceDisallow_=!0}static isAvailable(){return!((0,K.Yr)()||!bs.forceAllow_&&(bs.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,K.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,K.h$)(e),l=gf(s,1840);for(let f=0;f<l.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[f]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,K.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=t,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,K.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class wf{constructor(t,e,s,l){if(this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,K.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Rv(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=wf.createIFrame_();let f="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(f='<script>document.domain="'+document.domain+'";<\/script>');const v="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(v),this.myIFrame.doc.close()}catch(S){mr("frame writing exception"),S.stack&&mr(S.stack),mr(S)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||mr("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const v=this.pendingSegs.shift();s=s+"&seg"+l+"="+v.seg+"&ts"+l+"="+v.ts+"&d"+l+"="+v.d,l++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(s,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(l),s()})}addTag(t,e){(0,K.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||"loaded"===l||"complete"===l)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{mr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}let $d=null;typeof MozWebSocket<"u"?$d=MozWebSocket:typeof WebSocket<"u"&&($d=WebSocket);let Vc=(()=>{class n{constructor(e,s,l,f,v,S,R){this.connId=e,this.applicationId=l,this.appCheckToken=f,this.authToken=v,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bd(this.connId),this.stats_=Fc(s),this.connURL=n.connectionURL_(s,S,R,f,l),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,l,f,v){const S={v:"5"};return!(0,K.Yr)()&&typeof location<"u"&&location.hostname&&bf.test(location.hostname)&&(S.r="f"),s&&(S.s=s),l&&(S.ls=l),f&&(S.ac=f),v&&(S.p=v),Uv(e,Vv,S)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tu.set("previous_websocket_failure",!0);try{let l;if((0,K.Yr)()){l={headers:{"User-Agent":`Firebase/5/${Kg}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(l.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(l.headers["X-Firebase-AppCheck"]=this.appCheckToken);const v=process.env,S=0===this.connURL.indexOf("wss://")?v.HTTPS_PROXY||v.https_proxy:v.HTTP_PROXY||v.http_proxy;S&&(l.proxy={origin:S})}this.mySock=new $d(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const f=l.message||l.data;return f&&this.log_(f),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const f=l.message||l.data;f&&this.log_(f),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&null!==$d&&!n.forceDisallow_}static previouslyFailed(){return Tu.isInMemoryStorage||!0===Tu.get("previous_websocket_failure")}markConnectionHealthy(){Tu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const l=(0,K.cI)(s);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,K.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const l=this.extractFrameCount_(s);null!==l&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const s=(0,K.Pz)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const l=gf(s,16384);l.length>1&&this.sendString_(String(l.length));for(let f=0;f<l.length;f++)this.sendString_(l[f])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),rm=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[bs,Vc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const s=Vc&&Vc.isAvailable();let l=s&&!Vc.previouslyFailed();if(e.webSocketOnly&&(s||Wr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[Vc];else{const f=this.transports_=[];for(const v of n.ALL_TRANSPORTS)v&&v.isAvailable()&&f.push(v);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Af{constructor(t,e,s,l,f,v,S,R,F,z){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=f,this.onMessage_=v,this.onReady_=S,this.onDisconnect_=R,this.onKill_=F,this.lastSessionId=z,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bd("c:"+this.id+":"),this.transportManager_=new rm(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=vf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Su("t",t),s=Su("d",t);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Su("t",t),s=Su("d",t);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Su("t",t);if("d"in t){const s=t.d;if("h"===e)this.onHandshake_(s);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?ff("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ff("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&Wr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),vf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Xv{put(t,e,s,l){}merge(t,e,s,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}class zd{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,K.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const l=this.getInitialEvent(t);l&&e.apply(s,l)}off(t,e,s){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let f=0;f<l.length;f++)if(l[f].callback===e&&(!s||s===l[f].context))return void l.splice(f,1)}validateEventType_(t){(0,K.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Hc extends zd{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,K.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Hc}getInitialEvent(t){return(0,K.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Xn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function zn(){return new Xn("")}function Cn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ha(n){return n.pieces_.length-n.pieceNum_}function mi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Xn(n.pieces_,t)}function lm(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function xu(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function cm(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Xn(t,0)}function Vi(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof Xn)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&e.push(s[l])}return new Xn(e,0)}function Tn(n){return n.pieceNum_>=n.pieces_.length}function fo(n,t){const e=Cn(n),s=Cn(t);if(null===e)return t;if(e===s)return fo(mi(n),mi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function ty(n,t){const e=xu(n,0),s=xu(t,0);for(let l=0;l<e.length&&l<s.length;l++){const f=ec(e[l],s[l]);if(0!==f)return f}return e.length===s.length?0:e.length<s.length?-1:1}function Kd(n,t){if(Ha(n)!==Ha(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function Ao(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(Ha(n)>Ha(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class ny{constructor(t,e){this.errorPrefix_=e,this.parts_=xu(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,K.ug)(this.parts_[s]);um(this)}}function um(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+nc(n))}function nc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Nf extends zd{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new Nf}getInitialEvent(t){return(0,K.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const ku=1e3;let Of,Hi=(()=>{class n extends Xv{constructor(e,s,l,f,v,S,R,F){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=l,this.onConnectStatus_=f,this.onServerInfoUpdate_=v,this.authTokenProvider_=S,this.appCheckTokenProvider_=R,this.authOverride_=F,this.id=n.nextPersistentConnectionId_++,this.log_=Bd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ku,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,F&&!(0,K.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Nf.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Hc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,l){const f=++this.requestNumber_,v={r:f,a:e,b:s};this.log_((0,K.Pz)(v)),(0,K.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(v),l&&(this.requestCBHash_[f]=l)}get(e){this.initConnection_();const s=new K.BH,l={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:l,onComplete:S=>{const R=S.d;"ok"===S.s?s.resolve(R):s.reject(R)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),s.promise}listen(e,s,l,f){this.initConnection_();const v=e._queryIdentifier,S=e._path.toString();this.log_("Listen called for "+S+" "+v),this.listens.has(S)||this.listens.set(S,new Map),(0,K.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,K.hu)(!this.listens.get(S).has(v),"listen() called twice for same path/queryId.");const R={onComplete:f,hashFn:s,query:e,tag:l};this.listens.get(S).set(v,R),this.connected_&&this.sendListen_(R)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(l)})}sendListen_(e){const s=e.query,l=s._path.toString(),f=s._queryIdentifier;this.log_("Listen on "+l+" for "+f);const v={p:l};e.tag&&(v.q=s._queryObject,v.t=e.tag),v.h=e.hashFn(),this.sendRequest("q",v,R=>{const F=R.d,z=R.s;n.warnOnListenWarnings_(F,s),(this.listens.get(l)&&this.listens.get(l).get(f))===e&&(this.log_("listen response",R),"ok"!==z&&this.removeListen_(l,f),e.onComplete&&e.onComplete(z,F))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,K.r3)(e,"w")){const l=(0,K.DV)(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const f='".indexOn": "'+s._queryParams.getIndex().toString()+'"',v=s._path.toString();Wr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${f} at ${v} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,K.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,K.w9)(e)?"auth":"gauth",l={cred:e};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(s,l,f=>{const v=f.s,S=f.d||"error";this.authToken_===e&&("ok"===v?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(v,S))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,l=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,l)})}unlisten(e,s){const l=e._path.toString(),f=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+f),(0,K.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,f)&&this.connected_&&this.sendUnlisten_(l,f,e._queryObject,s)}sendUnlisten_(e,s,l,f){this.log_("Unlisten on "+e+" for "+s);const v={p:e};f&&(v.q=l,v.t=f),this.sendRequest("n",v)}onDisconnectPut(e,s,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:l})}onDisconnectMerge(e,s,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:l})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,l,f){const v={p:s,d:l};this.log_("onDisconnect "+e,v),this.sendRequest(e,v,S=>{f&&setTimeout(()=>{f(S.s,S.d)},Math.floor(0))})}put(e,s,l,f){this.putInternal("p",e,s,l,f)}merge(e,s,l,f){this.putInternal("m",e,s,l,f)}putInternal(e,s,l,f,v){this.initConnection_();const S={p:s,d:l};void 0!==v&&(S.h=v),this.outstandingPuts_.push({action:e,request:S,onComplete:f}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,f=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,l,v=>{this.log_(s+" response",v),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),f&&f(v.s,v.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,K.Pz)(e));const s=e.r,l=this.requestCBHash_[s];l&&(delete this.requestCBHash_[s],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):ff("Unrecognized action received from server: "+(0,K.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,K.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ku,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ku,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ku),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,yD.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),l=e.onReady_.bind(e),f=e.onRealtimeDisconnect_.bind(e),v=e.id+":"+n.nextConnectionId_++,S=e.lastSessionId;let R=!1,F=null;const z=function(){F?F.close():(R=!0,f())};e.realtime_={close:z,sendRequest:function(We){(0,K.hu)(F,"sendRequest call when we're not connected not allowed."),F.sendRequest(We)}};const we=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[We,gt]=yield Promise.all([e.authTokenProvider_.getToken(we),e.appCheckTokenProvider_.getToken(we)]);R?mr("getToken() completed but was canceled"):(mr("getToken() completed. Creating connection."),e.authToken_=We&&We.accessToken,e.appCheckToken_=gt&&gt.token,F=new Af(v,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,l,f,vt=>{Wr(vt+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},S))}catch(We){e.log_("Failed to get token: "+We),R||(e.repoInfo_.nodeAdmin&&Wr(We),z())}}})()}interrupt(e){mr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){mr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,K.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ku,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let l;l=s?s.map(v=>pf(v)).join("$"):"default";const f=this.removeListen_(e,l);f&&f.onComplete&&f.onComplete("permission_denied")}removeListen_(e,s){const l=new Xn(e).toString();let f;if(this.listens.has(l)){const v=this.listens.get(l);f=v.get(s),v.delete(s),0===v.size&&this.listens.delete(l)}else f=void 0;return f}onAuthRevoked_(e,s){mr("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){mr("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,K.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+Kg.replace(/\./g,"-")]=1,(0,K.uI)()?e["framework.cordova"]=1:(0,K.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Hc.getInstance().currentlyOnline();return(0,K.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class In{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new In(t,e)}}class Mf{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new In(Xl,t),l=new In(Xl,e);return 0!==this.compare(s,l)}minPost(){return In.MIN}}class dm extends Mf{static get __EMPTY_NODE(){return Of}static set __EMPTY_NODE(t){Of=t}compare(t,e){return ec(t.name,e.name)}isDefinedOn(t){throw(0,K.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return In.MIN}maxPost(){return new In(La,Of)}makePost(t,e){return(0,K.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new In(t,Of)}toString(){return".key"}}const Ua=new dm;class Yd{constructor(t,e,s,l,f=null){this.isReverse_=l,this.resultGenerator_=f,this.nodeStack_=[];let v=1;for(;!t.isEmpty();)if(v=e?s(t.key,e):1,l&&(v*=-1),v<0)t=this.isReverse_?t.left:t.right;else{if(0===v){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let hm,js=(()=>{class n{constructor(e,s,l,f,v){this.key=e,this.value=s,this.color=l??n.RED,this.left=f??Zo.EMPTY_NODE,this.right=v??Zo.EMPTY_NODE}copy(e,s,l,f,v){return new n(e??this.key,s??this.value,l??this.color,f??this.left,v??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,l){let f=this;const v=l(e,f.key);return f=v<0?f.copy(null,null,null,f.left.insert(e,s,l),null):0===v?f.copy(null,s,null,null,null):f.copy(null,null,null,null,f.right.insert(e,s,l)),f.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let l,f;if(l=this,s(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,s),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===s(e,l.key)){if(l.right.isEmpty())return Zo.EMPTY_NODE;f=l.right.min_(),l=l.copy(f.key,f.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,s))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Zo{constructor(t,e=Zo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Zo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,js.BLACK,null,null))}remove(t){return new Zo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,js.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,l=null;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(l=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Yd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Yd(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Yd(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Yd(this.root_,null,this.comparator_,!0,t)}}function PD(n,t){return ec(n.name,t.name)}function Rf(n,t){return ec(n,t)}Zo.EMPTY_NODE=new class Fu{copy(t,e,s,l,f){return this}insert(t,e,s){return new js(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const xD=function(n){return"number"==typeof n?"number:"+Vd(n):"string:"+n},Pf=function(n){if(n.isLeafNode()){const t=n.val();(0,K.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,K.r3)(t,".sv"),"Priority must be a string or number.")}else(0,K.hu)(n===hm||n.isEmpty(),"priority of unexpected type.");(0,K.hu)(n===hm||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let xf,cy,fm,No=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,K.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Pf(this.priorityNode_)}static set __childrenNodeConstructor(e){xf=e}static get __childrenNodeConstructor(){return xf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Tn(e)?this:".priority"===Cn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const l=Cn(e);return null===l?s:s.isEmpty()&&".priority"!==l?this:((0,K.hu)(".priority"!==l||1===Ha(e),".priority must be the last token in a path"),this.updateImmediateChild(l,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(mi(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+xD(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?Vd(this.value_):this.value_,this.lazyHash_=Pv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,K.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,l=typeof this.value_,f=n.VALUE_TYPE_ORDER.indexOf(s),v=n.VALUE_TYPE_ORDER.indexOf(l);return(0,K.hu)(f>=0,"Unknown leaf type: "+s),(0,K.hu)(v>=0,"Unknown leaf type: "+l),f===v?"object"===l?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:v-f}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Si=new class ha extends Mf{compare(t,e){const s=t.node.getPriority(),l=e.node.getPriority(),f=s.compareTo(l);return 0===f?ec(t.name,e.name):f}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return In.MIN}maxPost(){return new In(La,new No("[PRIORITY-POST]",fm))}makePost(t,e){const s=cy(t);return new In(e,new No("[PRIORITY-POST]",s))}toString(){return".priority"}},uy=Math.log(2);class kD{constructor(t){this.count=parseInt(Math.log(t+1)/uy,10),this.current_=this.count-1;const l=(f=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const kf=function(n,t,e,s){n.sort(t);const l=function(R,F){const z=F-R;let ue,we;if(0===z)return null;if(1===z)return ue=n[R],we=e?e(ue):ue,new js(we,ue.node,js.BLACK,null,null);{const We=parseInt(z/2,10)+R,gt=l(R,We),vt=l(We+1,F);return ue=n[We],we=e?e(ue):ue,new js(we,ue.node,js.BLACK,gt,vt)}},S=function(R){let F=null,z=null,ue=n.length;const we=function(gt,vt){const Vt=ue-gt,dn=ue;ue-=gt;const tn=l(Vt+1,dn),Ln=n[Vt],Pn=e?e(Ln):Ln;We(new js(Pn,Ln.node,vt,null,tn))},We=function(gt){F?(F.left=gt,F=gt):(z=gt,F=gt)};for(let gt=0;gt<R.count;++gt){const vt=R.nextBitIsOne(),Vt=Math.pow(2,R.count-(gt+1));vt?we(Vt,js.BLACK):(we(Vt,js.BLACK),we(Vt,js.RED))}return z}(new kD(n.length));return new Zo(s||t,S)};let pm;const Lu={};class fa{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,K.hu)(Lu&&Si,"ChildrenNode.ts has not been loaded"),pm=pm||new fa({".priority":Lu},{".priority":Si}),pm}get(t){const e=(0,K.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Zo?e:null}hasIndex(t){return(0,K.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,K.hu)(t!==Ua,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const f=e.getIterator(In.Wrap);let S,v=f.getNext();for(;v;)l=l||t.isDefinedOn(v.node),s.push(v),v=f.getNext();S=l?kf(s,t.getCompare()):Lu;const R=t.toString(),F=Object.assign({},this.indexSet_);F[R]=t;const z=Object.assign({},this.indexes_);return z[R]=S,new fa(z,F)}addToIndexes(t,e){const s=(0,K.UI)(this.indexes_,(l,f)=>{const v=(0,K.DV)(this.indexSet_,f);if((0,K.hu)(v,"Missing index implementation for "+f),l===Lu){if(v.isDefinedOn(t.node)){const S=[],R=e.getIterator(In.Wrap);let F=R.getNext();for(;F;)F.name!==t.name&&S.push(F),F=R.getNext();return S.push(t),kf(S,v.getCompare())}return Lu}{const S=e.get(t.name);let R=l;return S&&(R=R.remove(new In(t.name,S))),R.insert(t,t.node)}});return new fa(s,this.indexSet_)}removeFromIndexes(t,e){const s=(0,K.UI)(this.indexes_,l=>{if(l===Lu)return l;{const f=e.get(t.name);return f?l.remove(new In(t.name,f)):l}});return new fa(s,this.indexSet_)}}let _l,mn=(()=>{class n{constructor(e,s,l){this.children_=e,this.priorityNode_=s,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&Pf(this.priorityNode_),this.children_.isEmpty()&&(0,K.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _l||(_l=new n(new Zo(Rf),null,fa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_l}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?_l:s}}getChild(e){const s=Cn(e);return null===s?this:this.getImmediateChild(s).getChild(mi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,K.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const l=new In(e,s);let f,v;s.isEmpty()?(f=this.children_.remove(e),v=this.indexMap_.removeFromIndexes(l,this.children_)):(f=this.children_.insert(e,s),v=this.indexMap_.addToIndexes(l,this.children_));const S=f.isEmpty()?_l:this.priorityNode_;return new n(f,S,v)}}updateChild(e,s){const l=Cn(e);if(null===l)return s;{(0,K.hu)(".priority"!==Cn(e)||1===Ha(e),".priority must be the last token in a path");const f=this.getImmediateChild(l).updateChild(mi(e),s);return this.updateImmediateChild(l,f)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let l=0,f=0,v=!0;if(this.forEachChild(Si,(S,R)=>{s[S]=R.val(e),l++,v&&n.INTEGER_REGEXP_.test(S)?f=Math.max(f,Number(S)):v=!1}),!e&&v&&f<2*l){const S=[];for(const R in s)S[R]=s[R];return S}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+xD(this.getPriority().val())+":"),this.forEachChild(Si,(s,l)=>{const f=l.hash();""!==f&&(e+=":"+s+":"+f)}),this.lazyHash_=""===e?"":Pv(e)}return this.lazyHash_}getPredecessorChildName(e,s,l){const f=this.resolveIndex_(l);if(f){const v=f.getPredecessorKey(new In(e,s));return v?v.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const l=s.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new In(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const l=s.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new In(s,this.children_.get(s)):null}forEachChild(e,s){const l=this.resolveIndex_(e);return l?l.inorderTraversal(f=>s(f.name,f.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const l=this.resolveIndex_(s);if(l)return l.getIteratorFrom(e,f=>f);{const f=this.children_.getIteratorFrom(e.name,In.Wrap);let v=f.peek();for(;null!=v&&s.compare(v,e)<0;)f.getNext(),v=f.peek();return f}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const l=this.resolveIndex_(s);if(l)return l.getReverseIteratorFrom(e,f=>f);{const f=this.children_.getReverseIteratorFrom(e.name,In.Wrap);let v=f.peek();for(;null!=v&&s.compare(v,e)>0;)f.getNext(),v=f.peek();return f}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zd?-1:0}withIndex(e){if(e===Ua||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===Ua||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const l=this.getIterator(Si),f=s.getIterator(Si);let v=l.getNext(),S=f.getNext();for(;v&&S;){if(v.name!==S.name||!v.node.equals(S.node))return!1;v=l.getNext(),S=f.getNext()}return null===v&&null===S}return!1}return!1}}resolveIndex_(e){return e===Ua?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Zd=new class dy extends mn{constructor(){super(new Zo(Rf),mn.EMPTY_NODE,fa.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return mn.EMPTY_NODE}isEmpty(){return!1}};function Ki(n,t=null){if(null===n)return mn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,K.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new No(n,Ki(t));if(n instanceof Array){let e=mn.EMPTY_NODE;return Mi(n,(s,l)=>{if((0,K.r3)(n,s)&&"."!==s.substring(0,1)){const f=Ki(l);(f.isLeafNode()||!f.isEmpty())&&(e=e.updateImmediateChild(s,f))}}),e.updatePriority(Ki(t))}{const e=[];let s=!1;if(Mi(n,(v,S)=>{if("."!==v.substring(0,1)){const R=Ki(S);R.isEmpty()||(s=s||!R.getPriority().isEmpty(),e.push(new In(v,R)))}}),0===e.length)return mn.EMPTY_NODE;const f=kf(e,PD,v=>v.name,Rf);if(s){const v=kf(e,Si.getCompare());return new mn(f,Ki(t),new fa({".priority":v},{".priority":Si}))}return new mn(f,Ki(t),fa.Default)}}Object.defineProperties(In,{MIN:{value:new In(Xl,mn.EMPTY_NODE)},MAX:{value:new In(La,Zd)}}),dm.__EMPTY_NODE=mn.EMPTY_NODE,No.__childrenNodeConstructor=mn,function ly(n){hm=n}(Zd),function da(n){fm=n}(Zd),function ja(n){cy=n}(Ki);class Bu extends Mf{constructor(t){super(),this.indexPath_=t,(0,K.hu)(!Tn(t)&&".priority"!==Cn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),l=this.extractChild(e.node),f=s.compareTo(l);return 0===f?ec(t.name,e.name):f}makePost(t,e){const s=Ki(t),l=mn.EMPTY_NODE.updateChild(this.indexPath_,s);return new In(e,l)}maxPost(){const t=mn.EMPTY_NODE.updateChild(this.indexPath_,Zd);return new In(La,t)}toString(){return xu(this.indexPath_,0).join("/")}}const Ff=new class FD extends Mf{compare(t,e){const s=t.node.compareTo(e.node);return 0===s?ec(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return In.MIN}maxPost(){return In.MAX}makePost(t,e){const s=Ki(t);return new In(e,s)}toString(){return".value"}},Uc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fy=function(){let n=0;const t=[];return function(e){const s=e===n;let l;n=e;const f=new Array(8);for(l=7;l>=0;l--)f[l]=Uc.charAt(e%64),e=Math.floor(e/64);(0,K.hu)(0===e,"Cannot push at time == 0");let v=f.join("");if(s){for(l=11;l>=0&&63===t[l];l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)v+=Uc.charAt(t[l]);return(0,K.hu)(20===v.length,"nextPushId: Length should be 20."),v}}(),mm=function(n){if(n===""+Xg)return"-";const t=_f(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let v=0;v<e.length;v++)e[v]=n.charAt(v);if(e.length<786)return e.push("-"),e.join("");let s=e.length-1;for(;s>=0&&"z"===e[s];)s--;if(-1===s)return La;const f=Uc.charAt(Uc.indexOf(e[s])+1);return e[s]=f,e.slice(0,s+1).join("")},_m=function(n){if(n===""+Jg)return Xl;const t=_f(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let s=0;s<e.length;s++)e[s]=n.charAt(s);return"-"===e[e.length-1]?1===e.length?""+Xg:(delete e[e.length-1],e.join("")):(e[e.length-1]=Uc.charAt(Uc.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function vm(n){return{type:"value",snapshotNode:n}}function jc(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Vu(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Hu(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class ym{constructor(t){this.index_=t}updateChild(t,e,s,l,f,v){(0,K.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const S=t.getImmediateChild(e);return S.getChild(l).equals(s.getChild(l))&&S.isEmpty()===s.isEmpty()||(null!=v&&(s.isEmpty()?t.hasChild(e)?v.trackChildChange(Vu(e,S)):(0,K.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):S.isEmpty()?v.trackChildChange(jc(e,s)):v.trackChildChange(Hu(e,s,S))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return null!=s&&(t.isLeafNode()||t.forEachChild(Si,(l,f)=>{e.hasChild(l)||s.trackChildChange(Vu(l,f))}),e.isLeafNode()||e.forEachChild(Si,(l,f)=>{if(t.hasChild(l)){const v=t.getImmediateChild(l);v.equals(f)||s.trackChildChange(Hu(l,f,v))}else s.trackChildChange(jc(l,f))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?mn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Qd{constructor(t){this.indexedFilter_=new ym(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Qd.getStartPost_(t),this.endPost_=Qd.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,s,l,f,v){return this.matches(new In(e,s))||(s=mn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,l,f,v)}updateFullNode(t,e,s){e.isLeafNode()&&(e=mn.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(mn.EMPTY_NODE);const f=this;return e.forEachChild(Si,(v,S)=>{f.matches(new In(v,S))||(l=l.updateImmediateChild(v,mn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class LD{constructor(t){this.rangedFilter_=new Qd(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,s,l,f,v){return this.rangedFilter_.matches(new In(e,s))||(s=mn.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,l,f,v):this.fullLimitUpdateChild_(t,e,s,f,v)}updateFullNode(t,e,s){let l;if(e.isLeafNode()||e.isEmpty())l=mn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let f;l=mn.EMPTY_NODE.withIndex(this.index_),f=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let v=0;for(;f.hasNext()&&v<this.limit_;){const S=f.getNext();let R;if(R=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),S)<=0:this.index_.compare(S,this.rangedFilter_.getEndPost())<=0,!R)break;l=l.updateImmediateChild(S.name,S.node),v++}}else{let f,v,S,R;if(l=e.withIndex(this.index_),l=l.updatePriority(mn.EMPTY_NODE),this.reverse_){R=l.getReverseIterator(this.index_),f=this.rangedFilter_.getEndPost(),v=this.rangedFilter_.getStartPost();const ue=this.index_.getCompare();S=(we,We)=>ue(We,we)}else R=l.getIterator(this.index_),f=this.rangedFilter_.getStartPost(),v=this.rangedFilter_.getEndPost(),S=this.index_.getCompare();let F=0,z=!1;for(;R.hasNext();){const ue=R.getNext();!z&&S(f,ue)<=0&&(z=!0),z&&F<this.limit_&&S(ue,v)<=0?F++:l=l.updateImmediateChild(ue.name,mn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,l,f){let v;if(this.reverse_){const ue=this.index_.getCompare();v=(we,We)=>ue(We,we)}else v=this.index_.getCompare();const S=t;(0,K.hu)(S.numChildren()===this.limit_,"");const R=new In(e,s),F=this.reverse_?S.getFirstChild(this.index_):S.getLastChild(this.index_),z=this.rangedFilter_.matches(R);if(S.hasChild(e)){const ue=S.getImmediateChild(e);let we=l.getChildAfterChild(this.index_,F,this.reverse_);for(;null!=we&&(we.name===e||S.hasChild(we.name));)we=l.getChildAfterChild(this.index_,we,this.reverse_);const We=null==we?1:v(we,R);if(z&&!s.isEmpty()&&We>=0)return f?.trackChildChange(Hu(e,s,ue)),S.updateImmediateChild(e,s);{f?.trackChildChange(Vu(e,ue));const vt=S.updateImmediateChild(e,mn.EMPTY_NODE);return null!=we&&this.rangedFilter_.matches(we)?(f?.trackChildChange(jc(we.name,we.node)),vt.updateImmediateChild(we.name,we.node)):vt}}return s.isEmpty()?t:z&&v(F,R)>=0?(null!=f&&(f.trackChildChange(Vu(F.name,F.node)),f.trackChildChange(jc(e,s))),S.updateImmediateChild(e,s).updateImmediateChild(F.name,mn.EMPTY_NODE)):t}}class Bf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Si}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,K.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,K.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,K.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,K.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:La}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,K.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Si}copy(){const t=new Bf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function bm(n,t,e){const s=n.copy();return s.startSet_=!0,void 0===t&&(t=null),s.indexStartValue_=t,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function Dm(n,t,e){const s=n.copy();return s.endSet_=!0,void 0===t&&(t=null),s.indexEndValue_=t,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function Vf(n,t){const e=n.copy();return e.index_=t,e}function gy(n){const t={};if(n.isDefault())return t;let e;return n.index_===Si?e="$priority":n.index_===Ff?e="$value":n.index_===Ua?e="$key":((0,K.hu)(n.index_ instanceof Bu,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,K.Pz)(e),n.startSet_&&(t.startAt=(0,K.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,K.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,K.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,K.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function my(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Si&&(t.i=n.index_.toString()),t}class Hf extends Xv{constructor(t,e,s,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Bd("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,K.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,s,l){const f=t._path.toString();this.log_("Listen called for "+f+" "+t._queryIdentifier);const v=Hf.getListenId_(t,s),S={};this.listens_[v]=S;const R=gy(t._queryParams);this.restRequest_(f+".json",R,(F,z)=>{let ue=z;if(404===F&&(ue=null,F=null),null===F&&this.onDataUpdate_(f,ue,!1,s),(0,K.DV)(this.listens_,v)===S){let we;we=F?401===F?"permission_denied":"rest_error:"+F:"ok",l(we,null)}})}unlisten(t,e){const s=Hf.getListenId_(t,e);delete this.listens_[s]}get(t){const e=gy(t._queryParams),s=t._path.toString(),l=new K.BH;return this.restRequest_(s+".json",e,(f,v)=>{let S=v;404===f&&(S=null,f=null),null===f?(this.onDataUpdate_(s,S,!1,null),l.resolve(S)):l.reject(new Error(S))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,f])=>{l&&l.accessToken&&(e.auth=l.accessToken),f&&f.token&&(e.ac=f.token);const v=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,K.xO)(e);this.log_("Sending REST request for "+v);const S=new XMLHttpRequest;S.onreadystatechange=()=>{if(s&&4===S.readyState){this.log_("REST Response for "+v+" received. status:",S.status,"response:",S.responseText);let R=null;if(S.status>=200&&S.status<300){try{R=(0,K.cI)(S.responseText)}catch{Wr("Failed to parse JSON response for "+v+": "+S.responseText)}s(null,R)}else 401!==S.status&&404!==S.status&&Wr("Got unsuccessful REST response for "+v+" Status: "+S.status),s(S.status);s=null}},S.open("GET",v,!0),S.send()})}}class GD{constructor(){this.rootNode_=mn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Uf(){return{value:null,children:new Map}}function Gc(n,t,e){if(Tn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const s=Cn(t);n.children.has(s)||n.children.set(s,Uf()),Gc(n.children.get(s),t=mi(t),e)}}function jf(n,t){if(Tn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Si,(s,l)=>{Gc(n,new Xn(s),l)}),jf(n,t)}}if(n.children.size>0){const e=Cn(t);return t=mi(t),n.children.has(e)&&jf(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Gf(n,t,e){null!==n.value?e(t,n.value):function _y(n,t){n.children.forEach((e,s)=>{t(s,e)})}(n,(s,l)=>{Gf(l,new Xn(t.toString()+"/"+s),e)})}class vy{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Mi(this.last_,(s,l)=>{e[s]=e[s]-l}),this.last_=t,e}}class Dy{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new vy(t);const s=1e4+2e4*Math.random();vf(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;Mi(t,(l,f)=>{f>0&&(0,K.r3)(this.statsToReport_,l)&&(e[l]=f,s=!0)}),s&&this.server_.reportStats(e),vf(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var qo=(()=>{return(n=qo||(qo={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",qo;var n})();function Cm(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Wf{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=qo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Tn(this.path)){if(null!=this.affectedTree.value)return(0,K.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Xn(t));return new Wf(zn(),e,this.revert)}}return(0,K.hu)(Cn(this.path)===t,"operationForChild called for unrelated child."),new Wf(mi(this.path),this.affectedTree,this.revert)}}class Ga{constructor(t,e){this.source=t,this.path=e,this.type=qo.LISTEN_COMPLETE}operationForChild(t){return Tn(this.path)?new Ga(this.source,zn()):new Ga(this.source,mi(this.path))}}class Uu{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=qo.OVERWRITE}operationForChild(t){return Tn(this.path)?new Uu(this.source,zn(),this.snap.getImmediateChild(t)):new Uu(this.source,mi(this.path),this.snap)}}class ic{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=qo.MERGE}operationForChild(t){if(Tn(this.path)){const e=this.children.subtree(new Xn(t));return e.isEmpty()?null:e.value?new Uu(this.source,zn(),e.value):new ic(this.source,zn(),e)}return(0,K.hu)(Cn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ic(this.source,mi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class $c{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Tn(t))return this.isFullyInitialized()&&!this.filtered_;const e=Cn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Ey{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function zf(n,t,e,s,l,f){const v=s.filter(S=>S.type===e);v.sort((S,R)=>function $D(n,t,e){if(null==t.childName||null==e.childName)throw(0,K.g5)("Should only compare child_ events.");const s=new In(t.childName,t.snapshotNode),l=new In(e.childName,e.snapshotNode);return n.index_.compare(s,l)}(n,S,R)),v.forEach(S=>{const R=function Jt(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,S,f);l.forEach(F=>{F.respondsTo(S.type)&&t.push(F.createEvent(R,n.query_))})})}function Kf(n,t){return{eventCache:n,serverCache:t}}function Jd(n,t,e,s){return Kf(new $c(t,e,s),n.serverCache)}function Wc(n,t,e,s){return Kf(n.eventCache,new $c(t,e,s))}function Yf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function $a(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let ju;class Ui{constructor(t,e=(()=>(ju||(ju=new Zo(kv)),ju))()){this.value=t,this.children=e}static fromObject(t){let e=new Ui(null);return Mi(t,(s,l)=>{e=e.set(new Xn(s),l)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:zn(),value:this.value};if(Tn(t))return null;{const s=Cn(t),l=this.children.get(s);if(null!==l){const f=l.findRootMostMatchingPathAndValue(mi(t),e);return null!=f?{path:Vi(new Xn(s),f.path),value:f.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Tn(t))return this;{const e=Cn(t),s=this.children.get(e);return null!==s?s.subtree(mi(t)):new Ui(null)}}set(t,e){if(Tn(t))return new Ui(e,this.children);{const s=Cn(t),f=(this.children.get(s)||new Ui(null)).set(mi(t),e),v=this.children.insert(s,f);return new Ui(this.value,v)}}remove(t){if(Tn(t))return this.children.isEmpty()?new Ui(null):new Ui(null,this.children);{const e=Cn(t),s=this.children.get(e);if(s){const l=s.remove(mi(t));let f;return f=l.isEmpty()?this.children.remove(e):this.children.insert(e,l),null===this.value&&f.isEmpty()?new Ui(null):new Ui(this.value,f)}return this}}get(t){if(Tn(t))return this.value;{const e=Cn(t),s=this.children.get(e);return s?s.get(mi(t)):null}}setTree(t,e){if(Tn(t))return e;{const s=Cn(t),f=(this.children.get(s)||new Ui(null)).setTree(mi(t),e);let v;return v=f.isEmpty()?this.children.remove(s):this.children.insert(s,f),new Ui(this.value,v)}}fold(t){return this.fold_(zn(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((l,f)=>{s[l]=f.fold_(Vi(t,l),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,zn(),e)}findOnPath_(t,e,s){const l=!!this.value&&s(e,this.value);if(l)return l;if(Tn(t))return null;{const f=Cn(t),v=this.children.get(f);return v?v.findOnPath_(mi(t),Vi(e,f),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,zn(),e)}foreachOnPath_(t,e,s){if(Tn(t))return this;{this.value&&s(e,this.value);const l=Cn(t),f=this.children.get(l);return f?f.foreachOnPath_(mi(t),Vi(e,l),s):new Ui(null)}}foreach(t){this.foreach_(zn(),t)}foreach_(t,e){this.children.inorderTraversal((s,l)=>{l.foreach_(Vi(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}class Gs{constructor(t){this.writeTree_=t}static empty(){return new Gs(new Ui(null))}}function Gu(n,t,e){if(Tn(t))return new Gs(new Ui(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(null!=s){const l=s.path;let f=s.value;const v=fo(l,t);return f=f.updateChild(v,e),new Gs(n.writeTree_.set(l,f))}{const l=new Ui(e),f=n.writeTree_.setTree(t,l);return new Gs(f)}}}function wm(n,t,e){let s=n;return Mi(e,(l,f)=>{s=Gu(s,Vi(t,l),f)}),s}function Tm(n,t){if(Tn(t))return Gs.empty();{const e=n.writeTree_.setTree(t,new Ui(null));return new Gs(e)}}function Zf(n,t){return null!=rc(n,t)}function rc(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(fo(e.path,t)):null}function Im(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Si,(s,l)=>{t.push(new In(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{null!=l.value&&t.push(new In(s,l.value))}),t}function oc(n,t){if(Tn(t))return n;{const e=rc(n,t);return new Gs(null!=e?new Ui(e):n.writeTree_.subtree(t))}}function Sm(n){return n.writeTree_.isEmpty()}function $u(n,t){return Wu(zn(),n.writeTree_,t)}function Wu(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((l,f)=>{".priority"===l?((0,K.hu)(null!==f.value,"Priority writes must always be leaf nodes"),s=f.value):e=Wu(Vi(n,l),f,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild(Vi(n,".priority"),s)),e}}function qf(n,t){return JD(t,n)}function Ty(n,t){if(n.snap)return Ao(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ao(Vi(n.path,e),t))return!0;return!1}function KD(n){return n.visible}function zu(n,t,e){let s=Gs.empty();for(let l=0;l<n.length;++l){const f=n[l];if(t(f)){const v=f.path;let S;if(f.snap)Ao(e,v)?(S=fo(e,v),s=Gu(s,S,f.snap)):Ao(v,e)&&(S=fo(v,e),s=Gu(s,zn(),f.snap.getChild(S)));else{if(!f.children)throw(0,K.g5)("WriteRecord should have .snap or .children");if(Ao(e,v))S=fo(e,v),s=wm(s,S,f.children);else if(Ao(v,e))if(S=fo(v,e),Tn(S))s=wm(s,zn(),f.children);else{const R=(0,K.DV)(f.children,Cn(S));if(R){const F=R.getChild(mi(S));s=Gu(s,zn(),F)}}}}}return s}function Ku(n,t,e,s,l){if(s||l){const f=oc(n.visibleWrites,t);return!l&&Sm(f)?e:l||null!=e||Zf(f,zn())?$u(zu(n.allWrites,function(F){return(F.visible||l)&&(!s||!~s.indexOf(F.writeId))&&(Ao(F.path,t)||Ao(t,F.path))},t),e||mn.EMPTY_NODE):null}{const f=rc(n.visibleWrites,t);if(null!=f)return f;{const v=oc(n.visibleWrites,t);return Sm(v)?e:null!=e||Zf(v,zn())?$u(v,e||mn.EMPTY_NODE):null}}}function Jf(n,t,e,s){return Ku(n.writeTree,n.treePath,t,e,s)}function Xf(n,t){return function YD(n,t,e){let s=mn.EMPTY_NODE;const l=rc(n.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Si,(f,v)=>{s=s.updateImmediateChild(f,v)}),s;if(e){const f=oc(n.visibleWrites,t);return e.forEachChild(Si,(v,S)=>{const R=$u(oc(f,new Xn(v)),S);s=s.updateImmediateChild(v,R)}),Im(f).forEach(v=>{s=s.updateImmediateChild(v.name,v.node)}),s}return Im(oc(n.visibleWrites,t)).forEach(v=>{s=s.updateImmediateChild(v.name,v.node)}),s}(n.writeTree,n.treePath,t)}function My(n,t,e,s){return function ZD(n,t,e,s,l){(0,K.hu)(s||l,"Either existingEventSnap or existingServerSnap must exist");const f=Vi(t,e);if(Zf(n.visibleWrites,f))return null;{const v=oc(n.visibleWrites,f);return Sm(v)?l.getChild(e):$u(v,l.getChild(e))}}(n.writeTree,n.treePath,t,e,s)}function ep(n,t){return function Sy(n,t){return rc(n.visibleWrites,t)}(n.writeTree,Vi(n.treePath,t))}function Oy(n,t,e){return function qD(n,t,e,s){const l=Vi(t,e),f=rc(n.visibleWrites,l);return null!=f?f:s.isCompleteForChild(e)?$u(oc(n.visibleWrites,l),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function QD(n,t){return JD(Vi(n.treePath,t),n.writeTree)}function JD(n,t){return{treePath:n,writeTree:t}}class Ry{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;(0,K.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,K.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const f=l.type;if("child_added"===e&&"child_removed"===f)this.changeMap.set(s,Hu(s,t.snapshotNode,l.snapshotNode));else if("child_removed"===e&&"child_added"===f)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===f)this.changeMap.set(s,Vu(s,l.oldSnap));else if("child_changed"===e&&"child_added"===f)this.changeMap.set(s,jc(s,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==f)throw(0,K.g5)("Illegal combination of changes: "+t+" occurred after "+l);this.changeMap.set(s,Hu(s,t.snapshotNode,l.oldSnap))}}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}const Py=new class tp{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}};class Am{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=null!=this.optCompleteServerCache_?new $c(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Oy(this.writes_,t,s)}}getChildAfterChild(t,e,s){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:$a(this.viewCache_),f=function rw(n,t,e,s,l,f){return function Ay(n,t,e,s,l,f,v){let S;const R=oc(n.visibleWrites,t),F=rc(R,zn());if(null!=F)S=F;else{if(null==e)return[];S=$u(R,e)}if(S=S.withIndex(v),S.isEmpty()||S.isLeafNode())return[];{const z=[],ue=v.getCompare(),we=f?S.getReverseIteratorFrom(s,v):S.getIteratorFrom(s,v);let We=we.getNext();for(;We&&z.length<l;)0!==ue(We,s)&&z.push(We),We=we.getNext();return z}}(n.writeTree,n.treePath,t,e,s,l,f)}(this.writes_,l,e,1,s,t);return 0===f.length?null:f[0]}}function ky(n,t,e,s,l,f){const v=t.eventCache;if(null!=ep(s,e))return t;{let S,R;if(Tn(e))if((0,K.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const F=$a(t),ue=Xf(s,F instanceof mn?F:mn.EMPTY_NODE);S=n.filter.updateFullNode(t.eventCache.getNode(),ue,f)}else{const F=Jf(s,$a(t));S=n.filter.updateFullNode(t.eventCache.getNode(),F,f)}else{const F=Cn(e);if(".priority"===F){(0,K.hu)(1===Ha(e),"Can't have a priority with additional path components");const z=v.getNode();R=t.serverCache.getNode();const ue=My(s,e,z,R);S=null!=ue?n.filter.updatePriority(z,ue):v.getNode()}else{const z=mi(e);let ue;if(v.isCompleteForChild(F)){R=t.serverCache.getNode();const we=My(s,e,v.getNode(),R);ue=null!=we?v.getNode().getImmediateChild(F).updateChild(z,we):v.getNode().getImmediateChild(F)}else ue=Oy(s,F,t.serverCache);S=null!=ue?n.filter.updateChild(v.getNode(),F,ue,z,l,f):v.getNode()}}return Jd(t,S,v.isFullyInitialized()||Tn(e),n.filter.filtersNodes())}}function np(n,t,e,s,l,f,v,S){const R=t.serverCache;let F;const z=v?n.filter:n.filter.getIndexedFilter();if(Tn(e))F=z.updateFullNode(R.getNode(),s,null);else if(z.filtersNodes()&&!R.isFiltered()){const We=R.getNode().updateChild(e,s);F=z.updateFullNode(R.getNode(),We,null)}else{const We=Cn(e);if(!R.isCompleteForPath(e)&&Ha(e)>1)return t;const gt=mi(e),Vt=R.getNode().getImmediateChild(We).updateChild(gt,s);F=".priority"===We?z.updatePriority(R.getNode(),Vt):z.updateChild(R.getNode(),We,Vt,gt,Py,null)}const ue=Wc(t,F,R.isFullyInitialized()||Tn(e),z.filtersNodes());return ky(n,ue,e,l,new Am(l,ue,f),S)}function Nm(n,t,e,s,l,f,v){const S=t.eventCache;let R,F;const z=new Am(l,t,f);if(Tn(e))F=n.filter.updateFullNode(t.eventCache.getNode(),s,v),R=Jd(t,F,!0,n.filter.filtersNodes());else{const ue=Cn(e);if(".priority"===ue)F=n.filter.updatePriority(t.eventCache.getNode(),s),R=Jd(t,F,S.isFullyInitialized(),S.isFiltered());else{const we=mi(e),We=S.getNode().getImmediateChild(ue);let gt;if(Tn(we))gt=s;else{const vt=z.getCompleteChild(ue);gt=null!=vt?".priority"===lm(we)&&vt.getChild(cm(we)).isEmpty()?vt:vt.updateChild(we,s):mn.EMPTY_NODE}R=We.equals(gt)?t:Jd(t,n.filter.updateChild(S.getNode(),ue,gt,we,z,v),S.isFullyInitialized(),n.filter.filtersNodes())}}return R}function Mm(n,t){return n.eventCache.isCompleteForChild(t)}function Fy(n,t,e){return e.foreach((s,l)=>{t=t.updateChild(s,l)}),t}function sc(n,t,e,s,l,f,v,S){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let F,R=t;F=Tn(e)?s:new Ui(null).setTree(e,s);const z=t.serverCache.getNode();return F.children.inorderTraversal((ue,we)=>{if(z.hasChild(ue)){const gt=Fy(0,t.serverCache.getNode().getImmediateChild(ue),we);R=np(n,R,new Xn(ue),gt,l,f,v,S)}}),F.children.inorderTraversal((ue,we)=>{const We=!t.serverCache.isCompleteForChild(ue)&&void 0===we.value;if(!z.hasChild(ue)&&!We){const vt=Fy(0,t.serverCache.getNode().getImmediateChild(ue),we);R=np(n,R,new Xn(ue),vt,l,f,v,S)}}),R}class By{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new ym(s.getIndex()),f=function BD(n){return n.loadsAllData()?new ym(n.getIndex()):n.hasLimit()?new LD(n):new Qd(n)}(s);this.processor_=function xy(n){return{filter:n}}(f);const v=e.serverCache,S=e.eventCache,R=l.updateFullNode(mn.EMPTY_NODE,v.getNode(),null),F=f.updateFullNode(mn.EMPTY_NODE,S.getNode(),null),z=new $c(R,v.isFullyInitialized(),l.filtersNodes()),ue=new $c(F,S.isFullyInitialized(),f.filtersNodes());this.viewCache_=Kf(ue,z),this.eventGenerator_=new Ey(this.query_)}get query(){return this.query_}}function oE(n,t){const e=$a(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Tn(t)&&!e.getImmediateChild(Cn(t)).isEmpty())?e.getChild(t):null}function ip(n){return 0===n.eventRegistrations_.length}function Om(n,t,e){const s=[];if(e){(0,K.hu)(null==t,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(f=>{const v=f.createCancelEvent(e,l);v&&s.push(v)})}if(t){let l=[];for(let f=0;f<n.eventRegistrations_.length;++f){const v=n.eventRegistrations_[f];if(v.matches(t)){if(t.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(f+1));break}}else l.push(v)}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function Rm(n,t,e,s){t.type===qo.MERGE&&null!==t.source.queryId&&((0,K.hu)($a(n.viewCache_),"We should always have a full cache before handling merges"),(0,K.hu)(Yf(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,f=function XD(n,t,e,s,l){const f=new Ry;let v,S;if(e.type===qo.OVERWRITE){const F=e;F.source.fromUser?v=Nm(n,t,F.path,F.snap,s,l,f):((0,K.hu)(F.source.fromServer,"Unknown source."),S=F.source.tagged||t.serverCache.isFiltered()&&!Tn(F.path),v=np(n,t,F.path,F.snap,s,l,S,f))}else if(e.type===qo.MERGE){const F=e;F.source.fromUser?v=function tE(n,t,e,s,l,f,v){let S=t;return s.foreach((R,F)=>{const z=Vi(e,R);Mm(t,Cn(z))&&(S=Nm(n,S,z,F,l,f,v))}),s.foreach((R,F)=>{const z=Vi(e,R);Mm(t,Cn(z))||(S=Nm(n,S,z,F,l,f,v))}),S}(n,t,F.path,F.children,s,l,f):((0,K.hu)(F.source.fromServer,"Unknown source."),S=F.source.tagged||t.serverCache.isFiltered(),v=sc(n,t,F.path,F.children,s,l,S,f))}else if(e.type===qo.ACK_USER_WRITE){const F=e;v=F.revert?function iE(n,t,e,s,l,f){let v;if(null!=ep(s,e))return t;{const S=new Am(s,t,l),R=t.eventCache.getNode();let F;if(Tn(e)||".priority"===Cn(e)){let z;if(t.serverCache.isFullyInitialized())z=Jf(s,$a(t));else{const ue=t.serverCache.getNode();(0,K.hu)(ue instanceof mn,"serverChildren would be complete if leaf node"),z=Xf(s,ue)}F=n.filter.updateFullNode(R,z,f)}else{const z=Cn(e);let ue=Oy(s,z,t.serverCache);null==ue&&t.serverCache.isCompleteForChild(z)&&(ue=R.getImmediateChild(z)),F=null!=ue?n.filter.updateChild(R,z,ue,mi(e),S,f):t.eventCache.getNode().hasChild(z)?n.filter.updateChild(R,z,mn.EMPTY_NODE,mi(e),S,f):R,F.isEmpty()&&t.serverCache.isFullyInitialized()&&(v=Jf(s,$a(t)),v.isLeafNode()&&(F=n.filter.updateFullNode(F,v,f)))}return v=t.serverCache.isFullyInitialized()||null!=ep(s,zn()),Jd(t,F,v,n.filter.filtersNodes())}}(n,t,F.path,s,l,f):function nE(n,t,e,s,l,f,v){if(null!=ep(l,e))return t;const S=t.serverCache.isFiltered(),R=t.serverCache;if(null!=s.value){if(Tn(e)&&R.isFullyInitialized()||R.isCompleteForPath(e))return np(n,t,e,R.getNode().getChild(e),l,f,S,v);if(Tn(e)){let F=new Ui(null);return R.getNode().forEachChild(Ua,(z,ue)=>{F=F.set(new Xn(z),ue)}),sc(n,t,e,F,l,f,S,v)}return t}{let F=new Ui(null);return s.foreach((z,ue)=>{const we=Vi(e,z);R.isCompleteForPath(we)&&(F=F.set(z,R.getNode().getChild(we)))}),sc(n,t,e,F,l,f,S,v)}}(n,t,F.path,F.affectedTree,s,l,f)}else{if(e.type!==qo.LISTEN_COMPLETE)throw(0,K.g5)("Unknown operation type: "+e.type);v=function Ly(n,t,e,s,l){const f=t.serverCache;return ky(n,Wc(t,f.getNode(),f.isFullyInitialized()||Tn(e),f.isFiltered()),e,s,Py,l)}(n,t,e.path,s,f)}const R=f.getChanges();return function eE(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),f=Yf(n);(e.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(f)||!s.getNode().getPriority().equals(f.getPriority()))&&e.push(vm(Yf(t)))}}(t,v,R),{viewCache:v,changes:R}}(n.processor_,l,t,e,s);return function Xd(n,t){(0,K.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,K.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,f.viewCache),(0,K.hu)(f.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=f.viewCache,Hy(n,f.changes,f.viewCache.eventCache.getNode(),null)}function Hy(n,t,e,s){return function Cy(n,t,e,s){const l=[],f=[];return t.forEach(v=>{"child_changed"===v.type&&n.index_.indexedValueChanged(v.oldSnap,v.snapshotNode)&&f.push(function py(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(v.childName,v.snapshotNode))}),zf(n,l,"child_removed",t,s,e),zf(n,l,"child_added",t,s,e),zf(n,l,"child_moved",f,s,e),zf(n,l,"child_changed",t,s,e),zf(n,l,"value",t,s,e),l}(n.eventGenerator_,t,e,s?[s]:n.eventRegistrations_)}let rp,sp;class op{constructor(){this.views=new Map}}function Pm(n,t,e,s){const l=t.source.queryId;if(null!==l){const f=n.views.get(l);return(0,K.hu)(null!=f,"SyncTree gave us an op for an invalid query."),Rm(f,t,e,s)}{let f=[];for(const v of n.views.values())f=f.concat(Rm(v,t,e,s));return f}}function xm(n,t,e,s,l){const v=n.views.get(t._queryIdentifier);if(!v){let S=Jf(e,l?s:null),R=!1;S?R=!0:s instanceof mn?(S=Xf(e,s),R=!1):(S=mn.EMPTY_NODE,R=!1);const F=Kf(new $c(S,R,!1),new $c(s,l,!1));return new By(t,F)}return v}function jy(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function ac(n,t){let e=null;for(const s of n.views.values())e=e||oE(s,t);return e}function Gy(n,t){return t._queryParams.loadsAllData()?eh(n):n.views.get(t._queryIdentifier)}function km(n,t){return null!=Gy(n,t)}function yl(n){return null!=eh(n)}function eh(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let hE=1;class Wy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ui(null),this.pendingWriteTree_=function Ny(){return{visibleWrites:Gs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function th(n,t,e,s,l){return function WD(n,t,e,s,l){(0,K.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:l}),l&&(n.visibleWrites=Gu(n.visibleWrites,t,e)),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s,l),l?Yu(n,new Uu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function bl(n,t,e=!1){const s=function Qf(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}(n.pendingWriteTree_,t);if(function wy(n,t){const e=n.allWrites.findIndex(S=>S.writeId===t);(0,K.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let l=s.visible,f=!1,v=n.allWrites.length-1;for(;l&&v>=0;){const S=n.allWrites[v];S.visible&&(v>=e&&Ty(S,s.path)?l=!1:Ao(s.path,S.path)&&(f=!0)),v--}return!!l&&(f?(function Iy(n){n.visibleWrites=zu(n.allWrites,KD,zn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=Tm(n.visibleWrites,s.path):Mi(s.children,R=>{n.visibleWrites=Tm(n.visibleWrites,Vi(s.path,R))}),!0))}(n.pendingWriteTree_,t)){let f=new Ui(null);return null!=s.snap?f=f.set(zn(),!0):Mi(s.children,v=>{f=f.set(new Xn(v),!0)}),Yu(n,new Wf(s.path,f,e))}return[]}function zc(n,t,e){return Yu(n,new Uu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function ap(n,t,e,s){const l=t._path,f=n.syncPointTree_.get(l);let v=[];if(f&&("default"===t._queryIdentifier||km(f,t))){const S=function dE(n,t,e,s){const l=t._queryIdentifier,f=[];let v=[];const S=yl(n);if("default"===l)for(const[R,F]of n.views.entries())v=v.concat(Om(F,e,s)),ip(F)&&(n.views.delete(R),F.query._queryParams.loadsAllData()||f.push(F.query));else{const R=n.views.get(l);R&&(v=v.concat(Om(R,e,s)),ip(R)&&(n.views.delete(l),R.query._queryParams.loadsAllData()||f.push(R.query)))}return S&&!yl(n)&&f.push(new(function Uy(){return(0,K.hu)(rp,"Reference.ts has not been loaded"),rp}())(t._repo,t._path)),{removed:f,events:v}}(f,t,e,s);(function cE(n){return 0===n.views.size})(f)&&(n.syncPointTree_=n.syncPointTree_.remove(l));const R=S.removed;v=S.events;const F=-1!==R.findIndex(ue=>ue._queryParams.loadsAllData()),z=n.syncPointTree_.findOnPath(l,(ue,we)=>yl(we));if(F&&!z){const ue=n.syncPointTree_.subtree(l);if(!ue.isEmpty()){const we=function mE(n){return n.fold((t,e,s)=>{if(e&&yl(e))return[eh(e)];{let l=[];return e&&(l=jy(e)),Mi(s,(f,v)=>{l=l.concat(v)}),l}})}(ue);for(let We=0;We<we.length;++We){const gt=we[We],vt=gt.query,Vt=qy(n,gt);n.listenProvider_.startListening(rh(vt),Yc(n,vt),Vt.hashFn,Vt.onComplete)}}}!z&&R.length>0&&!s&&(F?n.listenProvider_.stopListening(rh(t),null):R.forEach(ue=>{const we=n.queryToTagMap.get(ih(ue));n.listenProvider_.stopListening(rh(ue),we)})),function _E(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const l=ih(s),f=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(f)}}}(n,R)}return v}function Kc(n,t,e,s){const l=cp(n,s);if(null!=l){const f=up(l),v=f.path,S=f.queryId,R=fo(v,t);return dp(n,v,new Uu(Cm(S),R,e))}return[]}function Yy(n,t){const e=n._path;let s=null,l=!1;t.syncPointTree_.foreachOnPath(e,(F,z)=>{const ue=fo(F,e);s=s||ac(z,ue),l=l||yl(z)});let v,f=t.syncPointTree_.get(e);f?(l=l||yl(f),s=s||ac(f,zn())):(f=new op,t.syncPointTree_=t.syncPointTree_.set(e,f)),null!=s?v=!0:(v=!1,s=mn.EMPTY_NODE,t.syncPointTree_.subtree(e).foreachChild((z,ue)=>{const we=ac(ue,zn());we&&(s=s.updateImmediateChild(z,we))}));const S=km(f,n);if(!S&&!n._queryParams.loadsAllData()){const F=ih(n);(0,K.hu)(!t.queryToTagMap.has(F),"View does not exist, but we have a tag");const z=function vE(){return hE++}();t.queryToTagMap.set(F,z),t.tagToQueryMap.set(z,F)}return{syncPoint:f,writesCache:qf(t.pendingWriteTree_,e),serverCache:s,serverCacheComplete:v,foundAncestorDefaultView:l,viewAlreadyExists:S}}function gE(n,t,e){const{syncPoint:s,serverCache:l,writesCache:f,serverCacheComplete:v,viewAlreadyExists:S,foundAncestorDefaultView:R}=Yy(t,n);let F=function uE(n,t,e,s,l,f){const v=xm(n,t,s,l,f);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,v),function sE(n,t){n.eventRegistrations_.push(t)}(v,e),function aE(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Si,(f,v)=>{s.push(jc(f,v))}),e.isFullyInitialized()&&s.push(vm(e.getNode())),Hy(n,s,e.getNode(),t)}(v,e)}(s,t,e,f,l,v);if(!S&&!R){const z=Gy(s,t);F=F.concat(function Qy(n,t,e){const s=t._path,l=Yc(n,t),f=qy(n,e),v=n.listenProvider_.startListening(rh(t),l,f.hashFn,f.onComplete),S=n.syncPointTree_.subtree(s);if(l)(0,K.hu)(!yl(S.value),"If we're adding a query, it shouldn't be shadowed");else{const R=S.fold((F,z,ue)=>{if(!Tn(F)&&z&&yl(z))return[eh(z).query];{let we=[];return z&&(we=we.concat(jy(z).map(We=>We.query))),Mi(ue,(We,gt)=>{we=we.concat(gt)}),we}});for(let F=0;F<R.length;++F){const z=R[F];n.listenProvider_.stopListening(rh(z),Yc(n,z))}}return v}(n,t,z))}return F}function nh(n,t,e){const l=n.pendingWriteTree_,f=n.syncPointTree_.findOnPath(t,(v,S)=>{const F=ac(S,fo(v,t));if(F)return F});return Ku(l,t,f,e,!0)}function Yu(n,t){return lp(t,n.syncPointTree_,null,qf(n.pendingWriteTree_,zn()))}function lp(n,t,e,s){if(Tn(n.path))return Zy(n,t,e,s);{const l=t.get(zn());null==e&&null!=l&&(e=ac(l,zn()));let f=[];const v=Cn(n.path),S=n.operationForChild(v),R=t.children.get(v);if(R&&S){const F=e?e.getImmediateChild(v):null,z=QD(s,v);f=f.concat(lp(S,R,F,z))}return l&&(f=f.concat(Pm(l,n,s,e))),f}}function Zy(n,t,e,s){const l=t.get(zn());null==e&&null!=l&&(e=ac(l,zn()));let f=[];return t.children.inorderTraversal((v,S)=>{const R=e?e.getImmediateChild(v):null,F=QD(s,v),z=n.operationForChild(v);z&&(f=f.concat(Zy(z,S,R,F)))}),l&&(f=f.concat(Pm(l,n,s,e))),f}function qy(n,t){const e=t.query,s=Yc(n,e);return{hashFn:()=>(function rE(n){return n.viewCache_.serverCache.getNode()}(t)||mn.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return s?function Bm(n,t,e){const s=cp(n,e);if(s){const l=up(s),f=l.path,v=l.queryId,S=fo(f,t);return dp(n,f,new Ga(Cm(v),S))}return[]}(n,e._path,s):function pE(n,t){return Yu(n,new Ga({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const f=function DD(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(l,e);return ap(n,e,null,f)}}}}function Yc(n,t){const e=ih(t);return n.queryToTagMap.get(e)}function ih(n){return n._path.toString()+"$"+n._queryIdentifier}function cp(n,t){return n.tagToQueryMap.get(t)}function up(n){const t=n.indexOf("$");return(0,K.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Xn(n.substr(0,t))}}function dp(n,t,e){const s=n.syncPointTree_.get(t);return(0,K.hu)(s,"Missing sync point for query tag that we're tracking"),Pm(s,e,qf(n.pendingWriteTree_,t),null)}function rh(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function $y(){return(0,K.hu)(sp,"Reference.ts has not been loaded"),sp}())(n._repo,n._path):n}class Jy{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Jy(e)}node(){return this.node_}}class hp{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Vi(this.path_,t);return new hp(this.syncTree_,e)}node(){return nh(this.syncTree_,this.path_)}}const Xy=function(n,t,e){return n&&"object"==typeof n?((0,K.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?ow(n[".sv"],t,e):"object"==typeof n[".sv"]?sw(n[".sv"],t):void(0,K.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},ow=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,K.hu)(!1,"Unexpected server value: "+n)},sw=function(n,t,e){n.hasOwnProperty("increment")||(0,K.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,K.hu)(!1,"Unexpected increment value: "+s);const l=t.node();if((0,K.hu)(null!==l&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const v=l.getValue();return"number"!=typeof v?s:v+s},e0=function(n,t,e,s){return Um(t,new hp(e,n),s)},Hm=function(n,t,e){return Um(n,new Jy(t),e)};function Um(n,t,e){const s=n.getPriority().val(),l=Xy(s,t.getImmediateChild(".priority"),e);let f;if(n.isLeafNode()){const v=n,S=Xy(v.getValue(),t,e);return S!==v.getValue()||l!==v.getPriority().val()?new No(S,Ki(l)):n}{const v=n;return f=v,l!==v.getPriority().val()&&(f=f.updatePriority(new No(l))),v.forEachChild(Si,(S,R)=>{const F=Um(R,t.getImmediateChild(S),e);F!==R&&(f=f.updateImmediateChild(S,F))}),f}}class fp{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function oh(n,t){let e=t instanceof Xn?t:new Xn(t),s=n,l=Cn(e);for(;null!==l;){const f=(0,K.DV)(s.node.children,l)||{children:{},childCount:0};s=new fp(l,s,f),e=mi(e),l=Cn(e)}return s}function lc(n){return n.node.value}function jm(n,t){n.node.value=t,gp(n)}function t0(n){return n.node.childCount>0}function pp(n,t){Mi(n.node.children,(e,s)=>{t(new fp(e,n,s))})}function n0(n,t,e,s){e&&!s&&t(n),pp(n,l=>{n0(l,t,!0,s)}),e&&s&&t(n)}function Dl(n){return new Xn(null===n.parent?n.name:Dl(n.parent)+"/"+n.name)}function gp(n){null!==n.parent&&function r0(n,t,e){const s=function bE(n){return void 0===lc(n)&&!t0(n)}(e),l=(0,K.r3)(n.node.children,t);s&&l?(delete n.node.children[t],n.node.childCount--,gp(n)):!s&&!l&&(n.node.children[t]=e.node,n.node.childCount++,gp(n))}(n.parent,n.name,n)}const o0=/[\[\].#$\/\u0000-\u001F\u007F]/,s0=/[\[\].#$\u0000-\u001F\u007F]/,mp=10485760,sh=function(n){return"string"==typeof n&&0!==n.length&&!o0.test(n)},a0=function(n){return"string"==typeof n&&0!==n.length&&!s0.test(n)},Zu=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Zg(n)||n&&"object"==typeof n&&(0,K.r3)(n,".sv")},Wa=function(n,t,e,s){s&&void 0===t||ah((0,K.gK)(n,"value"),t,e)},ah=function(n,t,e){const s=e instanceof Xn?new ny(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+nc(s));if("function"==typeof t)throw new Error(n+"contains a function "+nc(s)+" with contents = "+t.toString());if(Zg(t))throw new Error(n+"contains "+t.toString()+" "+nc(s));if("string"==typeof t&&t.length>mp/3&&(0,K.ug)(t)>mp)throw new Error(n+"contains a string greater than "+mp+" utf8 bytes "+nc(s)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let l=!1,f=!1;if(Mi(t,(v,S)=>{if(".value"===v)l=!0;else if(".priority"!==v&&".sv"!==v&&(f=!0,!sh(v)))throw new Error(n+" contains an invalid key ("+v+") "+nc(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function iy(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,K.ug)(t),um(n)})(s,v),ah(n,S,s),function ry(n){const t=n.parts_.pop();n.byteLength_-=(0,K.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),l&&f)throw new Error(n+' contains ".value" child '+nc(s)+" in addition to actual children.")}},l0=function(n,t,e,s){if(s&&void 0===t)return;const l=(0,K.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const f=[];Mi(t,(v,S)=>{const R=new Xn(v);if(ah(l,S,Vi(e,R)),".priority"===lm(R)&&!Zu(S))throw new Error(l+"contains an invalid value for '"+R.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(R)}),function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const f=xu(s);for(let v=0;v<f.length;v++)if((".priority"!==f[v]||v!==f.length-1)&&!sh(f[v]))throw new Error(n+"contains an invalid key ("+f[v]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(ty);let l=null;for(e=0;e<t.length;e++){if(s=t[e],null!==l&&Ao(l,s))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}}(l,f)},Zc=function(n,t,e){if(!e||void 0!==t){if(Zg(t))throw new Error((0,K.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Zu(t))throw new Error((0,K.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},lh=function(n,t,e,s){if(!(s&&void 0===e||sh(e)))throw new Error((0,K.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},qc=function(n,t,e,s){if(!(s&&void 0===e||a0(e)))throw new Error((0,K.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},$s=function(n,t){if(".info"===Cn(t))throw new Error(n+" failed = Can't modify data under /.info/")},_p=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!sh(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),a0(n)}(e))throw new Error((0,K.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ch{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vp(n,t){let e=null;for(let s=0;s<t.length;s++){const l=t[s],f=l.getPath();null!==e&&!Kd(f,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:f}),e.events.push(l)}e&&n.eventLists_.push(e)}function c0(n,t,e){vp(n,e),uh(n,s=>Kd(s,t))}function Ws(n,t,e){vp(n,e),uh(n,s=>Ao(s,t)||Ao(t,s))}function uh(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];l&&(t(l.path)?(yp(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function yp(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const s=e.getEventRunner();kc&&mr("event: "+e.toString()),Ba(s)}}}const u0="repo_interrupt";class d0{constructor(t,e,s,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ch,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Uf(),this.transactionQueueTree_=new fp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bp(n){const e=n.infoData_.getNode(new Xn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function qu(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:bp(n)})}function f0(n,t,e,s,l){n.dataUpdateCount++;const f=new Xn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let v=[];if(l)if(s){const R=(0,K.UI)(e,F=>Ki(F));v=function Ky(n,t,e,s){const l=cp(n,s);if(l){const f=up(l),v=f.path,S=f.queryId,R=fo(v,t),F=Ui.fromObject(e);return dp(n,v,new ic(Cm(S),R,F))}return[]}(n.serverSyncTree_,f,R,l)}else{const R=Ki(e);v=Kc(n.serverSyncTree_,f,R,l)}else if(s){const R=(0,K.UI)(e,F=>Ki(F));v=function fE(n,t,e){const s=Ui.fromObject(e);return Yu(n,new ic({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,f,R)}else{const R=Ki(e);v=zc(n.serverSyncTree_,f,R)}let S=f;v.length>0&&(S=Qc(n,f)),Ws(n.eventQueue_,S,v)}function p0(n,t){dh(n,"connected",t),!1===t&&function wE(n){cc(n,"onDisconnectEvents");const t=qu(n),e=Uf();Gf(n.onDisconnect_,zn(),(l,f)=>{const v=e0(l,f,n.serverSyncTree_,t);Gc(e,l,v)});let s=[];Gf(e,zn(),(l,f)=>{s=s.concat(zc(n.serverSyncTree_,l,f));const v=C0(n,l);Qc(n,v)}),n.onDisconnect_=Uf(),Ws(n.eventQueue_,zn(),s)}(n)}function dh(n,t,e){const s=new Xn("/.info/"+t),l=Ki(e);n.infoData_.updateSnapshot(s,l);const f=zc(n.infoSyncTree_,s,l);Ws(n.eventQueue_,s,f)}function Qu(n){return n.nextWriteId_++}function g0(n,t){const e=function Vm(n,t){const e=t._path;let s=null;n.syncPointTree_.foreachOnPath(e,(F,z)=>{const ue=fo(F,e);s=s||ac(z,ue)});let l=n.syncPointTree_.get(e);l?s=s||ac(l,zn()):(l=new op,n.syncPointTree_=n.syncPointTree_.set(e,l));const f=null!=s,v=f?new $c(s,!0,!1):null;return function Vy(n){return Yf(n.viewCache_)}(xm(l,t,qf(n.pendingWriteTree_,t._path),f?v.getNode():mn.EMPTY_NODE,f))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(s=>{const l=Ki(s).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())zc(n.serverSyncTree_,t._path,l);else{const v=function zy(n,t){const{syncPoint:e,serverCache:s,writesCache:l,serverCacheComplete:f}=Yy(t,n),v=xm(e,t,l,s,f);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,v),t._queryParams.loadsAllData()?null:Yc(n,t)}(n.serverSyncTree_,t);Kc(n.serverSyncTree_,t._path,l,v)}return ap(n.serverSyncTree_,t,null).length>0&&cc(n,"unexpected cancel events in repoGetValue"),l},s=>(cc(n,"get for query "+(0,K.Pz)(t)+" failed: "+s),Promise.reject(new Error(s))))}function hh(n,t,e,s,l){cc(n,"set",{path:t.toString(),value:e,priority:s});const f=qu(n),v=Ki(e,s),S=nh(n.serverSyncTree_,t),R=Hm(v,S,f),F=Qu(n),z=th(n.serverSyncTree_,t,R,F,!0);vp(n.eventQueue_,z),n.server_.put(t.toString(),v.val(!0),(we,We)=>{const gt="ok"===we;gt||Wr("set at "+t+" failed: "+we);const vt=bl(n.serverSyncTree_,F,!gt);Ws(n.eventQueue_,t,vt),uc(0,l,we,We)});const ue=C0(n,t);Qc(n,ue),Ws(n.eventQueue_,ue,[])}function TE(n,t,e){n.server_.onDisconnectCancel(t.toString(),(s,l)=>{"ok"===s&&jf(n.onDisconnect_,t),uc(0,e,s,l)})}function m0(n,t,e,s){const l=Ki(e);n.server_.onDisconnectPut(t.toString(),l.val(!0),(f,v)=>{"ok"===f&&Gc(n.onDisconnect_,t,l),uc(0,s,f,v)})}function Dp(n,t,e){let s;s=".info"===Cn(t._path)?ap(n.infoSyncTree_,t,e):ap(n.serverSyncTree_,t,e),c0(n.eventQueue_,t._path,s)}function Wm(n){n.persistentConnection_&&n.persistentConnection_.interrupt(u0)}function cc(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),mr(e,...t)}function uc(n,t,e,s){t&&Ba(()=>{if("ok"===e)t(null);else{const l=(e||"error").toUpperCase();let f=l;s&&(f+=": "+s);const v=new Error(f);v.code=l,t(v)}})}function Ep(n,t,e){return nh(n.serverSyncTree_,t,e)||mn.EMPTY_NODE}function Cp(n,t=n.transactionQueueTree_){if(t||zm(n,t),lc(t)){const e=D0(n,t);(0,K.hu)(e.length>0,"Sending zero length transaction queue"),e.every(l=>0===l.status)&&function b0(n,t,e){const s=e.map(F=>F.currentWriteId),l=Ep(n,t,s);let f=l;const v=l.hash();for(let F=0;F<e.length;F++){const z=e[F];(0,K.hu)(0===z.status,"tryToSendTransactionQueue_: items in queue should all be run."),z.status=1,z.retryCount++;const ue=fo(t,z.path);f=f.updateChild(ue,z.currentOutputSnapshotRaw)}const S=f.val(!0),R=t;n.server_.put(R.toString(),S,F=>{cc(n,"transaction put response",{path:R.toString(),status:F});let z=[];if("ok"===F){const ue=[];for(let we=0;we<e.length;we++)e[we].status=2,z=z.concat(bl(n.serverSyncTree_,e[we].currentWriteId)),e[we].onComplete&&ue.push(()=>e[we].onComplete(null,!0,e[we].currentOutputSnapshotResolved)),e[we].unwatcher();zm(n,oh(n.transactionQueueTree_,t)),Cp(n,n.transactionQueueTree_),Ws(n.eventQueue_,t,z);for(let we=0;we<ue.length;we++)Ba(ue[we])}else{if("datastale"===F)for(let ue=0;ue<e.length;ue++)e[ue].status=3===e[ue].status?4:0;else{Wr("transaction at "+R.toString()+" failed: "+F);for(let ue=0;ue<e.length;ue++)e[ue].status=4,e[ue].abortReason=F}Qc(n,t)}},v)}(n,Dl(t),e)}else t0(t)&&pp(t,e=>{Cp(n,e)})}function Qc(n,t){const e=Jc(n,t),s=Dl(e);return function Mo(n,t,e){if(0===t.length)return;const s=[];let l=[];const v=t.filter(S=>0===S.status).map(S=>S.currentWriteId);for(let S=0;S<t.length;S++){const R=t[S],F=fo(e,R.path);let ue,z=!1;if((0,K.hu)(null!==F,"rerunTransactionsUnderNode_: relativePath should not be null."),4===R.status)z=!0,ue=R.abortReason,l=l.concat(bl(n.serverSyncTree_,R.currentWriteId,!0));else if(0===R.status)if(R.retryCount>=25)z=!0,ue="maxretry",l=l.concat(bl(n.serverSyncTree_,R.currentWriteId,!0));else{const we=Ep(n,R.path,v);R.currentInputSnapshot=we;const We=t[S].update(we.val());if(void 0!==We){ah("transaction failed: Data returned ",We,R.path);let gt=Ki(We);"object"==typeof We&&null!=We&&(0,K.r3)(We,".priority")||(gt=gt.updatePriority(we.getPriority()));const Vt=R.currentWriteId,dn=qu(n),tn=Hm(gt,we,dn);R.currentOutputSnapshotRaw=gt,R.currentOutputSnapshotResolved=tn,R.currentWriteId=Qu(n),v.splice(v.indexOf(Vt),1),l=l.concat(th(n.serverSyncTree_,R.path,tn,R.currentWriteId,R.applyLocally)),l=l.concat(bl(n.serverSyncTree_,Vt,!0))}else z=!0,ue="nodata",l=l.concat(bl(n.serverSyncTree_,R.currentWriteId,!0))}Ws(n.eventQueue_,e,l),l=[],z&&(t[S].status=2,setTimeout(t[S].unwatcher,Math.floor(0)),t[S].onComplete&&s.push("nodata"===ue?()=>t[S].onComplete(null,!1,t[S].currentInputSnapshot):()=>t[S].onComplete(new Error(ue),!1,null)))}zm(n,n.transactionQueueTree_);for(let S=0;S<s.length;S++)Ba(s[S]);Cp(n,n.transactionQueueTree_)}(n,D0(n,e),s),s}function Jc(n,t){let e,s=n.transactionQueueTree_;for(e=Cn(t);null!==e&&void 0===lc(s);)s=oh(s,e),e=Cn(t=mi(t));return s}function D0(n,t){const e=[];return E0(n,t,e),e.sort((s,l)=>s.order-l.order),e}function E0(n,t,e){const s=lc(t);if(s)for(let l=0;l<s.length;l++)e.push(s[l]);pp(t,l=>{E0(n,l,e)})}function zm(n,t){const e=lc(t);if(e){let s=0;for(let l=0;l<e.length;l++)2!==e[l].status&&(e[s]=e[l],s++);e.length=s,jm(t,e.length>0?e:void 0)}pp(t,s=>{zm(n,s)})}function C0(n,t){const e=Dl(Jc(n,t)),s=oh(n.transactionQueueTree_,t);return function DE(n,t,e){let s=e?n:n.parent;for(;null!==s;){if(t(s))return!0;s=s.parent}}(s,l=>{wp(n,l)}),wp(n,s),n0(s,l=>{wp(n,l)}),e}function wp(n,t){const e=lc(t);if(e){const s=[];let l=[],f=-1;for(let v=0;v<e.length;v++)3===e[v].status||(1===e[v].status?((0,K.hu)(f===v-1,"All SENT items should be at beginning of queue."),f=v,e[v].status=3,e[v].abortReason="set"):((0,K.hu)(0===e[v].status,"Unexpected transaction status in abort"),e[v].unwatcher(),l=l.concat(bl(n.serverSyncTree_,e[v].currentWriteId,!0)),e[v].onComplete&&s.push(e[v].onComplete.bind(null,new Error("set"),!1,null))));-1===f?jm(t,void 0):e.length=f+1,Ws(n.eventQueue_,Dl(t),l);for(let v=0;v<s.length;v++)Ba(s[v])}}const Km=function(n,t){const e=Ym(n),s=e.namespace;return"firebase.com"===e.domain&&Hs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&Hs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Wr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new nm(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,t,"",s!==e.subdomain),path:new Xn(e.pathString)}},Ym=function(n){let t="",e="",s="",l="",f="",v=!0,S="https",R=443;if("string"==typeof n){let F=n.indexOf("//");F>=0&&(S=n.substring(0,F-1),n=n.substring(F+2));let z=n.indexOf("/");-1===z&&(z=n.length);let ue=n.indexOf("?");-1===ue&&(ue=n.length),t=n.substring(0,Math.min(z,ue)),z<ue&&(l=function w0(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let l=e[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}(n.substring(z,ue)));const we=function fh(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Wr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,ue)));F=t.indexOf(":"),F>=0?(v="https"===S||"wss"===S,R=parseInt(t.substring(F+1),10)):F=t.length;const We=t.slice(0,F);if("localhost"===We.toLowerCase())e="localhost";else if(We.split(".").length<=2)e=We;else{const gt=t.indexOf(".");s=t.substring(0,gt).toLowerCase(),e=t.substring(gt+1),f=s}"ns"in we&&(f=we.ns)}return{host:t,port:R,domain:e,subdomain:s,secure:v,scheme:S,pathString:l,namespace:f}};class T0{constructor(t,e,s,l){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=l}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,K.Pz)(this.snapshot.exportVal())}}class Zm{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class I0{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,K.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class S0{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new K.BH;return TE(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){$s("OnDisconnect.remove",this._path);const t=new K.BH;return m0(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){$s("OnDisconnect.set",this._path),Wa("OnDisconnect.set",t,this._path,!1);const e=new K.BH;return m0(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){$s("OnDisconnect.setWithPriority",this._path),Wa("OnDisconnect.setWithPriority",t,this._path,!1),Zc("OnDisconnect.setWithPriority",e,!1);const s=new K.BH;return function IE(n,t,e,s,l){const f=Ki(e,s);n.server_.onDisconnectPut(t.toString(),f.val(!0),(v,S)=>{"ok"===v&&Gc(n.onDisconnect_,t,f),uc(0,l,v,S)})}(this._repo,this._path,t,e,s.wrapCallback(()=>{})),s.promise}update(t){$s("OnDisconnect.update",this._path),l0("OnDisconnect.update",t,this._path,!1);const e=new K.BH;return function _0(n,t,e,s){if((0,K.xb)(e))return mr("onDisconnect().update() called with empty data.  Don't do anything."),void uc(0,s,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(l,f)=>{"ok"===l&&Mi(e,(v,S)=>{const R=Ki(S);Gc(n.onDisconnect_,Vi(t,v),R)}),uc(0,s,l,f)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Tr{constructor(t,e,s,l){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=l}get key(){return Tn(this._path)?null:lm(this._path)}get ref(){return new Ds(this._repo,this._path)}get _queryIdentifier(){const t=my(this._queryParams),e=pf(t);return"{}"===e?"default":e}get _queryObject(){return my(this._queryParams)}isEqual(t){if(!((t=(0,K.m9)(t))instanceof Tr))return!1;const e=this._repo===t._repo,s=Kd(this._path,t._path);return e&&s&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ey(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Tp(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ka(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ua){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Xl)throw new Error(s);if("string"!=typeof t)throw new Error(l)}if(n.hasEnd()){if(n.getIndexEndName()!==La)throw new Error(s);if("string"!=typeof e)throw new Error(l)}}else if(n.getIndex()===Si){if(null!=t&&!Zu(t)||null!=e&&!Zu(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,K.hu)(n.getIndex()instanceof Bu||n.getIndex()===Ff,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ph(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ds extends Tr{constructor(t,e){super(t,e,new Bf,!1)}get parent(){const t=cm(this._path);return null===t?null:new Ds(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Ya{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Xn(t),s=dc(this.ref,t);return new Ya(this._node.getChild(e),s,Si)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,l)=>t(new Ya(l,dc(this.ref,s),Si)))}hasChild(t){const e=new Xn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ip(n,t){return(n=(0,K.m9)(n))._checkNotDeleted("ref"),void 0!==t?dc(n._root,t):n._root}function SE(n,t){(n=(0,K.m9)(n))._checkNotDeleted("refFromURL");const e=Km(t,n._repo.repoInfo_.nodeAdmin);_p("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&Hs("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),Ip(n,e.path.toString())}function dc(n,t){return null===Cn((n=(0,K.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),qc("child","path",e,!1)):qc("child","path",t,!1),new Ds(n._repo,Vi(n._path,t));var e}function qm(n,t){n=(0,K.m9)(n),$s("set",n._path),Wa("set",t,n._path,!1);const e=new K.BH;return hh(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function uw(n,t){l0("update",t,n._path,!1);const e=new K.BH;return function Gm(n,t,e,s){cc(n,"update",{path:t.toString(),value:e});let l=!0;const f=qu(n),v={};if(Mi(e,(S,R)=>{l=!1,v[S]=e0(Vi(t,S),Ki(R),n.serverSyncTree_,f)}),l)mr("update() called with empty data.  Don't do anything."),uc(0,s,"ok",void 0);else{const S=Qu(n),R=function Lm(n,t,e,s){!function zD(n,t,e,s){(0,K.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=wm(n.visibleWrites,t,e),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s);const l=Ui.fromObject(e);return Yu(n,new ic({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,l))}(n.serverSyncTree_,t,v,S);vp(n.eventQueue_,R),n.server_.merge(t.toString(),e,(F,z)=>{const ue="ok"===F;ue||Wr("update at "+t+" failed: "+F);const we=bl(n.serverSyncTree_,S,!ue),We=we.length>0?Qc(n,t):t;Ws(n.eventQueue_,We,we),uc(0,s,F,z)}),Mi(e,F=>{const z=C0(n,Vi(t,F));Qc(n,z)}),Ws(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}class Jm{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const s=e._queryParams.getIndex();return new T0("value",this,new Ya(t.snapshotNode,new Ds(e._repo,e._path),s))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Zm(this,t,e):null}matches(t){return t instanceof Jm&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Sp{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Zm(this,t,e):null}createEvent(t,e){(0,K.hu)(null!=t.childName,"Child events should have a childName.");const s=dc(new Ds(e._repo,e._path),t.childName),l=e._queryParams.getIndex();return new T0(t.type,this,new Ya(t.snapshotNode,s,l),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Sp&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function gh(n,t,e,s,l){let f;if("object"==typeof s&&(f=void 0,l=s),"function"==typeof s&&(f=s),l&&l.onlyOnce){const R=e,F=(z,ue)=>{Dp(n._repo,n,S),R(z,ue)};F.userCallback=e.userCallback,F.context=e.context,e=F}const v=new I0(e,f||void 0),S="value"===t?new Jm(v):new Sp(t,v);return function $m(n,t,e){let s;s=".info"===Cn(t._path)?gE(n.infoSyncTree_,t,e):gE(n.serverSyncTree_,t,e),c0(n.eventQueue_,t._path,s)}(n._repo,n,S),()=>Dp(n._repo,n,S)}function Xm(n,t,e,s){return gh(n,"value",t,e,s)}function e_(n,t,e,s){return gh(n,"child_added",t,e,s)}function t_(n,t,e,s){return gh(n,"child_changed",t,e,s)}function M0(n,t,e,s){return gh(n,"child_moved",t,e,s)}function n_(n,t,e,s){return gh(n,"child_removed",t,e,s)}function i_(n,t,e){let s=null;const l=e?new I0(e):null;"value"===t?s=new Jm(l):t&&(s=new Sp(t,l)),Dp(n._repo,n,s)}class pa{}class O0 extends pa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wa("endAt",this._value,t._path,!0);const e=Dm(t._queryParams,this._value,this._key);if(ph(e),Ka(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Tr(t._repo,t._path,e,t._orderByCalled)}}class NE extends pa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wa("endBefore",this._value,t._path,!1);const e=function jD(n,t,e){let s,l;return n.index_===Ua?("string"==typeof t&&(t=_m(t)),l=Dm(n,t,e)):(s=null==e?Xl:_m(e),l=Dm(n,t,s)),l.endBeforeSet_=!0,l}(t._queryParams,this._value,this._key);if(ph(e),Ka(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Tr(t._repo,t._path,e,t._orderByCalled)}}class r_ extends pa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wa("startAt",this._value,t._path,!0);const e=bm(t._queryParams,this._value,this._key);if(ph(e),Ka(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Tr(t._repo,t._path,e,t._orderByCalled)}}class k0 extends pa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Wa("startAfter",this._value,t._path,!1);const e=function UD(n,t,e){let s;if(n.index_===Ua)"string"==typeof t&&(t=mm(t)),s=bm(n,t,e);else{let l;l=null==e?La:mm(e),s=bm(n,t,l)}return s.startAfterSet_=!0,s}(t._queryParams,this._value,this._key);if(ph(e),Ka(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Tr(t._repo,t._path,e,t._orderByCalled)}}class OE extends pa{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Tr(t._repo,t._path,function VD(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class F0 extends pa{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Tr(t._repo,t._path,function HD(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class fw extends pa{constructor(t){super(),this._path=t}_apply(t){Tp(t,"orderByChild");const e=new Xn(this._path);if(Tn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new Bu(e),l=Vf(t._queryParams,s);return Ka(l),new Tr(t._repo,t._path,l,!0)}}class gw extends pa{_apply(t){Tp(t,"orderByKey");const e=Vf(t._queryParams,Ua);return Ka(e),new Tr(t._repo,t._path,e,!0)}}class _w extends pa{_apply(t){Tp(t,"orderByPriority");const e=Vf(t._queryParams,Si);return Ka(e),new Tr(t._repo,t._path,e,!0)}}class yw extends pa{_apply(t){Tp(t,"orderByValue");const e=Vf(t._queryParams,Ff);return Ka(e),new Tr(t._repo,t._path,e,!0)}}class bw extends pa{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Wa("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new O0(this._value,this._key)._apply(new r_(this._value,this._key)._apply(t))}}function Qo(n,...t){let e=(0,K.m9)(n);for(const s of t)e=s._apply(e);return e}(function lE(n){(0,K.hu)(!rp,"__referenceConstructor has already been defined"),rp=n})(Ds),function Fm(n){(0,K.hu)(!sp,"__referenceConstructor has already been defined"),sp=n}(Ds);const Np={};function s_(n,t,e,s,l){let f=s||n.options.databaseURL;void 0===f&&(n.options.projectId||Hs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mr("Using default host for project ",n.options.projectId),f=`${n.options.projectId}-default-rtdb.firebaseio.com`);let R,F,v=Km(f,l),S=v.repoInfo;typeof process<"u"&&process.env&&(F=process.env.FIREBASE_DATABASE_EMULATOR_HOST),F?(R=!0,f=`http://${F}?ns=${S.namespace}`,v=Km(f,l),S=v.repoInfo):R=!v.repoInfo.secure;const z=l&&R?new Ud(Ud.OWNER):new iw(n.name,n.options,t);_p("Invalid Firebase Database URL",v),Tn(v.path)||Hs("Database URL must point to the root of a Firebase Database (not including a child path).");const ue=function V0(n,t,e,s){let l=Np[t.name];l||(l={},Np[t.name]=l);let f=l[n.toURLString()];return f&&Hs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new d0(n,false,e,s),l[n.toURLString()]=f,f}(S,n,z,new CD(n.name,e));return new Ew(ue,n)}class Ew{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function h0(n,t,e){if(n.stats_=Fc(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Hf(n.repoInfo_,(s,l,f,v)=>{f0(n,s,l,f,v)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>p0(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,K.Pz)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new Hi(n.repoInfo_,t,(s,l,f,v)=>{f0(n,s,l,f,v)},s=>{p0(n,s)},s=>{!function lw(n,t){Mi(t,(e,s)=>{dh(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function ID(n,t){const e=n.toString();return jv[e]||(jv[e]=t()),jv[e]}(n.repoInfo_,()=>new Dy(n.stats_,n.server_)),n.infoData_=new GD,n.infoSyncTree_=new Wy({startListening:(s,l,f,v)=>{let S=[];const R=n.infoData_.getNode(s._path);return R.isEmpty()||(S=zc(n.infoSyncTree_,s._path,R),setTimeout(()=>{v("ok")},0)),S},stopListening:()=>{}}),dh(n,"connected",!1),n.serverSyncTree_=new Wy({startListening:(s,l,f,v)=>(n.server_.listen(s,f,l,(S,R)=>{const F=v(S,R);Ws(n.eventQueue_,s._path,F)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ds(this._repo,zn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function PE(n,t){const e=Np[t];(!e||e[n.key]!==n)&&Hs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Wm(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Hs("Cannot call "+t+" on a deleted database.")}}function H0(){rm.IS_TRANSPORT_INITIALIZED&&Wr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function xE(){H0(),bs.forceDisallow()}function Mp(){H0(),Vc.forceDisallow(),bs.forceAllow()}function kE(n,t){Ld(n,t)}const LE={".sv":"timestamp"};class U0{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Hi.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Hi.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function FE(n){ua(Fd.SDK_VERSION),(0,Fd._registerComponent)(new wu.wA("database",(t,{instanceIdentifier:e})=>s_(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Fd.registerVersion)(Wg,"0.13.3",n),(0,Fd.registerVersion)(Wg,"0.13.3","esm2017")}();const HE=new $g.Yd("@firebase/database-compat"),Jo=function(n){HE.warn("FIREBASE WARNING: "+n)};class jE{constructor(t){this._delegate=t}cancel(t){(0,K.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,K.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),s=>t(s)),e}remove(t){(0,K.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,K.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),s=>t(s)),e}set(t,e){(0,K.Dv)("OnDisconnect.set",1,2,arguments.length),(0,K.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(t);return e&&s.then(()=>e(null),l=>e(l)),s}setWithPriority(t,e,s){(0,K.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,K.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const l=this._delegate.setWithPriority(t,e);return s&&l.then(()=>s(null),f=>s(f)),l}update(t,e){if((0,K.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let f=0;f<t.length;++f)l[""+f]=t[f];t=l,Jo("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,K.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(t);return e&&s.then(()=>e(null),l=>e(l)),s}}class GE{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,K.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class qa{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,K.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,K.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,K.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,K.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,K.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),qc("DataSnapshot.child","path",t,!1),new qa(this._database,this._delegate.child(t))}hasChild(t){return(0,K.Dv)("DataSnapshot.hasChild",1,1,arguments.length),qc("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,K.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,K.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,K.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new qa(this._database,e)))}hasChildren(){return(0,K.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,K.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,K.Dv)("DataSnapshot.ref",0,0,arguments.length),new Xo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class kr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,s,l){var f;(0,K.Dv)("Query.on",2,4,arguments.length),(0,K.Wj)("Query.on","callback",e,!1);const v=kr.getCancelAndContextArgs_("Query.on",s,l),S=(F,z)=>{e.call(v.context,new qa(this.database,F),z)};S.userCallback=e,S.context=v.context;const R=null===(f=v.cancel)||void 0===f?void 0:f.bind(v.context);switch(t){case"value":return Xm(this._delegate,S,R),e;case"child_added":return e_(this._delegate,S,R),e;case"child_removed":return n_(this._delegate,S,R),e;case"child_changed":return t_(this._delegate,S,R),e;case"child_moved":return M0(this._delegate,S,R),e;default:throw new Error((0,K.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,s){if((0,K.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,K.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,K.Wj)("Query.off","callback",e,!0),(0,K.lb)("Query.off","context",s,!0),e){const l=()=>{};l.userCallback=e,l.context=s,i_(this._delegate,t,l)}else i_(this._delegate,t)}get(){return function AE(n){return g0((n=(0,K.m9)(n))._repo,n).then(t=>new Ya(t,new Ds(n._repo,n._path),n._queryParams.getIndex()))}(this._delegate).then(t=>new qa(this.database,t))}once(t,e,s,l){(0,K.Dv)("Query.once",1,4,arguments.length),(0,K.Wj)("Query.once","callback",e,!0);const f=kr.getCancelAndContextArgs_("Query.once",s,l),v=new K.BH,S=(F,z)=>{const ue=new qa(this.database,F);e&&e.call(f.context,ue,z),v.resolve(ue)};S.userCallback=e,S.context=f.context;const R=F=>{f.cancel&&f.cancel.call(f.context,F),v.reject(F)};switch(t){case"value":Xm(this._delegate,S,R,{onlyOnce:!0});break;case"child_added":e_(this._delegate,S,R,{onlyOnce:!0});break;case"child_removed":n_(this._delegate,S,R,{onlyOnce:!0});break;case"child_changed":t_(this._delegate,S,R,{onlyOnce:!0});break;case"child_moved":M0(this._delegate,S,R,{onlyOnce:!0});break;default:throw new Error((0,K.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return v.promise}limitToFirst(t){return(0,K.Dv)("Query.limitToFirst",1,1,arguments.length),new kr(this.database,Qo(this._delegate,function dw(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new OE(n)}(t)))}limitToLast(t){return(0,K.Dv)("Query.limitToLast",1,1,arguments.length),new kr(this.database,Qo(this._delegate,function hw(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new F0(n)}(t)))}orderByChild(t){return(0,K.Dv)("Query.orderByChild",1,1,arguments.length),new kr(this.database,Qo(this._delegate,function pw(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return qc("orderByChild","path",n,!1),new fw(n)}(t)))}orderByKey(){return(0,K.Dv)("Query.orderByKey",0,0,arguments.length),new kr(this.database,Qo(this._delegate,function mw(){return new gw}()))}orderByPriority(){return(0,K.Dv)("Query.orderByPriority",0,0,arguments.length),new kr(this.database,Qo(this._delegate,function vw(){return new _w}()))}orderByValue(){return(0,K.Dv)("Query.orderByValue",0,0,arguments.length),new kr(this.database,Qo(this._delegate,function Ap(){return new yw}()))}startAt(t=null,e){return(0,K.Dv)("Query.startAt",0,2,arguments.length),new kr(this.database,Qo(this._delegate,function x0(n=null,t){return lh("startAt","key",t,!0),new r_(n,t)}(t,e)))}startAfter(t=null,e){return(0,K.Dv)("Query.startAfter",0,2,arguments.length),new kr(this.database,Qo(this._delegate,function ME(n,t){return lh("startAfter","key",t,!0),new k0(n,t)}(t,e)))}endAt(t=null,e){return(0,K.Dv)("Query.endAt",0,2,arguments.length),new kr(this.database,Qo(this._delegate,function R0(n,t){return lh("endAt","key",t,!0),new O0(n,t)}(t,e)))}endBefore(t=null,e){return(0,K.Dv)("Query.endBefore",0,2,arguments.length),new kr(this.database,Qo(this._delegate,function P0(n,t){return lh("endBefore","key",t,!0),new NE(n,t)}(t,e)))}equalTo(t,e){return(0,K.Dv)("Query.equalTo",1,2,arguments.length),new kr(this.database,Qo(this._delegate,function L0(n,t){return lh("equalTo","key",t,!0),new bw(n,t)}(t,e)))}toString(){return(0,K.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,K.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,K.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof kr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,s){const l={cancel:void 0,context:void 0};if(e&&s)l.cancel=e,(0,K.Wj)(t,"cancel",l.cancel,!0),l.context=s,(0,K.lb)(t,"context",l.context,!0);else if(e)if("object"==typeof e&&null!==e)l.context=e;else{if("function"!=typeof e)throw new Error((0,K.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");l.cancel=e}return l}get ref(){return new Xo(this.database,new Ds(this._delegate._repo,this._delegate._path))}}class Xo extends kr{constructor(t,e){super(t,new Tr(e._repo,e._path,new Bf,!1)),this.database=t,this._delegate=e}getKey(){return(0,K.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,K.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Xo(this.database,dc(this._delegate,t))}getParent(){(0,K.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Xo(this.database,t):null}getRoot(){return(0,K.Dv)("Reference.root",0,0,arguments.length),new Xo(this.database,this._delegate.root)}set(t,e){(0,K.Dv)("Reference.set",1,2,arguments.length),(0,K.Wj)("Reference.set","onComplete",e,!0);const s=qm(this._delegate,t);return e&&s.then(()=>e(null),l=>e(l)),s}update(t,e){if((0,K.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let f=0;f<t.length;++f)l[""+f]=t[f];t=l,Jo("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}$s("Reference.update",this._delegate._path),(0,K.Wj)("Reference.update","onComplete",e,!0);const s=uw(this._delegate,t);return e&&s.then(()=>e(null),l=>e(l)),s}setWithPriority(t,e,s){(0,K.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,K.Wj)("Reference.setWithPriority","onComplete",s,!0);const l=function Qm(n,t,e){if($s("setWithPriority",n._path),Wa("setWithPriority",t,n._path,!1),Zc("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new K.BH;return hh(n._repo,n._path,t,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,t,e);return s&&l.then(()=>s(null),f=>s(f)),l}remove(t){(0,K.Dv)("Reference.remove",0,1,arguments.length),(0,K.Wj)("Reference.remove","onComplete",t,!0);const e=function Ju(n){return $s("remove",n._path),qm(n,null)}(this._delegate);return t&&e.then(()=>t(null),s=>t(s)),e}transaction(t,e,s){(0,K.Dv)("Reference.transaction",1,3,arguments.length),(0,K.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,K.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,K.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const l=function j0(n,t,e){var s;if(n=(0,K.m9)(n),$s("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const l=null===(s=e?.applyLocally)||void 0===s||s,f=new K.BH,S=Xm(n,()=>{});return function y0(n,t,e,s,l,f){cc(n,"transaction on "+t);const v={path:t,update:e,onComplete:s,status:null,order:Rv(),applyLocally:f,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},S=Ep(n,t,void 0);v.currentInputSnapshot=S;const R=v.update(S.val());if(void 0===R)v.unwatcher(),v.currentOutputSnapshotRaw=null,v.currentOutputSnapshotResolved=null,v.onComplete&&v.onComplete(null,!1,v.currentInputSnapshot);else{ah("transaction failed: Data returned ",R,v.path),v.status=0;const F=oh(n.transactionQueueTree_,t),z=lc(F)||[];let ue;z.push(v),jm(F,z),"object"==typeof R&&null!==R&&(0,K.r3)(R,".priority")?(ue=(0,K.DV)(R,".priority"),(0,K.hu)(Zu(ue),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):ue=(nh(n.serverSyncTree_,t)||mn.EMPTY_NODE).getPriority().val();const we=qu(n),We=Ki(R,ue),gt=Hm(We,S,we);v.currentOutputSnapshotRaw=We,v.currentOutputSnapshotResolved=gt,v.currentWriteId=Qu(n);const vt=th(n.serverSyncTree_,t,gt,v.currentWriteId,v.applyLocally);Ws(n.eventQueue_,t,vt),Cp(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(R,F,z)=>{let ue=null;R?f.reject(R):(ue=new Ya(z,new Ds(n._repo,n._path),Si),f.resolve(new U0(F,ue)))},S,l),f.promise}(this._delegate,t,{applyLocally:s}).then(f=>new GE(f.committed,new qa(this.database,f.snapshot)));return e&&l.then(f=>e(null,f.committed,f.snapshot),f=>e(f,!1,null)),l}setPriority(t,e){(0,K.Dv)("Reference.setPriority",1,2,arguments.length),(0,K.Wj)("Reference.setPriority","onComplete",e,!0);const s=function N0(n,t){n=(0,K.m9)(n),$s("setPriority",n._path),Zc("setPriority",t,!1);const e=new K.BH;return hh(n._repo,Vi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&s.then(()=>e(null),l=>e(l)),s}push(t,e){(0,K.Dv)("Reference.push",0,2,arguments.length),(0,K.Wj)("Reference.push","onComplete",e,!0);const s=function A0(n,t){n=(0,K.m9)(n),$s("push",n._path),Wa("push",t,n._path,!0);const e=bp(n._repo),s=fy(e),l=dc(n,s),f=dc(n,s);let v;return v=null!=t?qm(f,t).then(()=>f):Promise.resolve(f),l.then=v.then.bind(v),l.catch=v.then.bind(v,void 0),l}(this._delegate,t),l=s.then(v=>new Xo(this.database,v));e&&l.then(()=>e(null),v=>e(v));const f=new Xo(this.database,s);return f.then=l.then.bind(l),f.catch=l.catch.bind(l,void 0),f}onDisconnect(){return $s("Reference.onDisconnect",this._delegate._path),new jE(new S0(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class mh{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:xE,forceLongPolling:Mp}}useEmulator(t,e,s={}){!function ww(n,t,e,s={}){(n=(0,K.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Hs("Cannot call useEmulator() after instance has already been initialized.");const l=n._repoInternal;let f;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&Hs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Ud(Ud.OWNER);else if(s.mockUserToken){const v="string"==typeof s.mockUserToken?s.mockUserToken:(0,K.Sg)(s.mockUserToken,n.app.options.projectId);f=new Ud(v)}!function o_(n,t,e,s){n.repoInfo_=new nm(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),s&&(n.authTokenProvider_=s)}(l,t,e,f)}(this._delegate,t,e,s)}ref(t){if((0,K.Dv)("database.ref",0,1,arguments.length),t instanceof Xo){const e=SE(this._delegate,t.toString());return new Xo(this,e)}{const e=Ip(this._delegate,t);return new Xo(this,e)}}refFromURL(t){(0,K.Dv)("database.refFromURL",1,1,arguments.length);const s=SE(this._delegate,t);return new Xo(this,s)}goOffline(){return(0,K.Dv)("database.goOffline",0,0,arguments.length),function Tw(n){(n=(0,K.m9)(n))._checkNotDeleted("goOffline"),Wm(n._repo)}(this._delegate)}goOnline(){return(0,K.Dv)("database.goOnline",0,0,arguments.length),function Iw(n){(n=(0,K.m9)(n))._checkNotDeleted("goOnline"),function v0(n){n.persistentConnection_&&n.persistentConnection_.resume(u0)}(n._repo)}(this._delegate)}}mh.ServerValue={TIMESTAMP:function Sw(){return LE}(),increment:n=>function BE(n){return{".sv":{increment:n}}}(n)};var $0=Object.freeze({__proto__:null,initStandalone:function G0({app:n,url:t,version:e,customAuthImpl:s,namespace:l,nodeAdmin:f=!1}){ua(e);const v=new wu.zt("auth-internal",new wu.H0("database-standalone"));return v.setComponent(new wu.wA("auth-internal",()=>s,"PRIVATE")),{instance:new mh(s_(n,v,void 0,t,f),n),namespace:l}}});const $E=mh.ServerValue;!function W0(n){n.INTERNAL.registerComponent(new wu.wA("database-compat",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app-compat").getImmediate(),l=t.getProvider("database").getImmediate({identifier:e});return new mh(l,s)},"PUBLIC").setServiceProps({Reference:Xo,Query:kr,Database:mh,DataSnapshot:qa,enableLogging:kE,INTERNAL:$0,ServerValue:$E}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.3")}(vD.Z);var hc=x(1205),c_=x(440),fc=x(127);function Qa(n){return null==n}function K0(n){return"function"==typeof n.set}function WE(n,t){return K0(t)?t:n.ref(t)}function Y0(n,t){if(function z0(n){return"string"==typeof n}(n))return t.stringCase();if(K0(n))return t.firebaseCase();if(function u_(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function _h(n,t,e="on",s=pt.z){return new ee.y(l=>{let f=null;return f=n[e](t,(v,S)=>{s.schedule(()=>{l.next({snapshot:v,prevKey:S})}),"once"===e&&s.schedule(()=>l.complete())},v=>{s.schedule(()=>l.error(v))}),"on"===e?{unsubscribe(){null!=f&&n.off(t,f)}}:{unsubscribe(){}}}).pipe((0,Ct.U)(l=>{const{snapshot:f,prevKey:v}=l;let S=null;return f.exists()&&(S=f.key),{type:t,payload:f,prevKey:v,key:S}}),(0,_D.B)())}function Z0(n,t){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===t)return s;return-1}function Aw(n,t){const{payload:e,prevKey:s,key:l}=t,f=Z0(n,l),v=function q0(n,t){if(Qa(t))return 0;{const e=Z0(n,t);return-1===e?n.length:e+1}}(n,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let S=null;t.payload.forEach(R=>{const F={payload:R,type:"value",prevKey:S,key:R.key};return S=R.key,n=[...n,F],!1})}return n;case"child_added":if(f>-1){const S=n[f-1];(S&&S.key||null)!==s&&(n=n.filter(R=>R.payload.key!==e.key)).splice(v,0,t)}else{if(null==s)return[t,...n];(n=n.slice()).splice(v,0,t)}return n;case"child_removed":return n.filter(S=>S.payload.key!==e.key);case"child_changed":return n.map(S=>S.payload.key===l?t:S);case"child_moved":if(f>-1){const S=n.splice(f,1)[0];return(n=n.slice()).splice(v,0,S),n}return n;default:return n}}function d_(n){return(Qa(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Q0(n,t,e){return function zE(n,t,e){return _h(n,"value","once",e).pipe((0,At.w)(s=>{const l=[(0,de.of)(s)];return t.forEach(f=>l.push(_h(n,f,"on",e))),(0,mD.T)(...l).pipe((0,df.R)(Aw,[]))}),(0,St.x)())}(n,t=d_(t),e)}function h_(n,t,e){const s=(t=d_(t)).map(l=>_h(n,l,"on",e));return(0,mD.T)(...s)}function p_(n,t){return function(s,l){return Y0(s,{stringCase:()=>n.child(s)[t](l),firebaseCase:()=>s[t](l),snapshotCase:()=>s.ref[t](l)})}}function KE(n){return function(e){return e?Y0(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function g_(n,t){return function(){return _h(n,"value","on",t)}}const Rp=new d.OlP("angularfire2.realtimeDatabaseURL"),eb=new d.OlP("angularfire2.database.use-emulator");let YE=(()=>{class n{constructor(e,s,l,f,v,S,R,F,z,ue,we,We,gt,vt,Vt){this.schedulers=S;const dn=R,tn=(0,kd.on)(e,v,s);F&&(0,hc.nw)(tn,v,z,we,We,gt,ue,vt),this.database=(0,kd.cc)(`${tn.name}.database.${l}`,"AngularFireDatabase",tn.name,()=>{const Ln=v.runOutsideAngular(()=>tn.database(l||void 0));return dn&&Ln.useEmulator(...dn),Ln},[dn])}list(e,s){const l=this.schedulers.ngZone.runOutsideAngular(()=>WE(this.database,e));let f=l;return s&&(f=s(l)),function X0(n,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:p_(s,"update"),set:p_(s,"set"),push:l=>s.push(l),remove:KE(s),snapshotChanges:l=>Q0(n,l,e).pipe(Jl.iC),stateChanges:l=>h_(n,l,e).pipe(Jl.iC),auditTrail:l=>function Nw(n,t,e){return function J0(n,t,e){return function f_(n,t){return _h(n,"value","on",t).pipe((0,Ct.U)(e=>{let s;return e.payload.forEach(l=>(s=l.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(oi(t),(0,Ct.U)(([l,f])=>{const v=l.lastKeyToLoad,S=f.map(R=>R.key);return{actions:f,lastKeyToLoad:v,loadedKeys:S}}),function Mv(n){return(0,ci.e)((t,e)=>{let s=!1,l=0;t.subscribe((0,xn.x)(e,f=>(s||(s=!n(f,l++)))&&e.next(f)))})}(l=>-1===l.loadedKeys.indexOf(l.lastKeyToLoad)),(0,Ct.U)(l=>l.actions))}(n,h_(n,t).pipe((0,df.R)((l,f)=>[...l,f],[])),e)}(n,l,e).pipe(Jl.iC),valueChanges:(l,f)=>Q0(n,l,e).pipe((0,Ct.U)(S=>S.map(R=>f&&f.idField?Object.assign(Object.assign({},R.payload.val()),{[f.idField]:R.key}):R.payload.val())),Jl.iC)}}(f,this)}object(e){return function Op(n,t){return{query:n,snapshotChanges:()=>g_(n,t.schedulers.outsideAngular)().pipe(Jl.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>g_(n,t.schedulers.outsideAngular)().pipe(Jl.iC,(0,Ct.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>WE(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(kd.Dh),d.LFG(kd.xv,8),d.LFG(Rp,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Jl.HU),d.LFG(eb,8),d.LFG(hc.zQ,8),d.LFG(hc.Qv,8),d.LFG(hc.L6,8),d.LFG(hc._Q,8),d.LFG(hc.rT,8),d.LFG(hc.lh,8),d.LFG(hc.f7,8),d.LFG(c_.nm,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),tb=(()=>{class n{constructor(){fc.Z.registerVersion("angularfire",Jl.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[YE]}),n})();const m__firebase={apiKey:"AIzaSyB8KU__cSwzMPAXL2uUrtjxJFsINZy5-jA",authDomain:"aetherai-home-challenge.firebaseapp.com",projectId:"aetherai-home-challenge",storageBucket:"aetherai-home-challenge.appspot.com",messagingSenderId:"587301957763",appId:"1:587301957763:web:43a1a1b849ff26d6536bb6",measurementId:"G-TX4QFPQJ9M"};let ZE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[rt]}),n.\u0275inj=d.cJS({imports:[E.b2,le,Sv,Nv,kd.hO.initializeApp(m__firebase),tb]}),n})();(0,d.G48)(),E.q6().bootstrapModule(ZE).catch(n=>console.error(n))},5867:(mt,Oe,x)=>{x.d(Oe,{C6:()=>E.getApps,Mq:()=>E.getApp});var E=x(9681);(0,E.registerVersion)("firebase","9.9.1","app")},127:(mt,Oe,x)=>{x.d(Oe,{Z:()=>E.Z});var E=x(3942);E.Z.registerVersion("firebase","9.9.1","app-compat")},1451:(mt,Oe,x)=>{x.r(Oe);var E=x(5861),d=x(3942),j=x(2090),he=x(9681),le=x(655),me=x(1877),Te=x(4859);const Fe=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ze=function Ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Re=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new me.Yd("@firebase/auth");function ht(g,...u){st.logLevel<=me.in.ERROR&&st.error(`Auth (${he.SDK_VERSION}): ${g}`,...u)}function Ge(g,...u){throw rt(g,...u)}function ke(g,...u){return rt(g,...u)}function Ue(g,u,p){const b=Object.assign(Object.assign({},Ze()),{[u]:p});return new j.LL("auth","Firebase",b).create(u,{appName:g.name})}function tt(g,u,p){if(!(u instanceof p))throw p.name!==u.constructor.name&&Ge(g,"argument-error"),Ue(g,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rt(g,...u){if("string"!=typeof g){const p=u[0],b=[...u.slice(1)];return b[0]&&(b[0].appName=g.name),g._errorFactory.create(p,...b)}return Re.create(g,...u)}function ee(g,u,...p){if(!g)throw rt(u,...p)}function $e(g){const u="INTERNAL ASSERTION FAILED: "+g;throw ht(u),new Error(u)}function de(g,u){g||$e(u)}const ye=new Map;function be(g){de(g instanceof Function,"Expected a class definition");let u=ye.get(g);return u?(de(u instanceof g,"Instance stored in cache mismatched with class"),u):(u=new g,ye.set(g,u),u)}function Qe(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function lt(){return"http:"===It()||"https:"===It()}function It(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class Ot{constructor(u,p){this.shortDelay=u,this.longDelay=p,de(p>u,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Dt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(lt()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zt(g,u){de(g.emulator,"Emulator should always be set here");const{url:p}=g.emulator;return u?`${p}${u.startsWith("/")?u.slice(1):u}`:p}class Ft{static initialize(u,p,b){this.fetchImpl=u,p&&(this.headersImpl=p),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},fn=new Ot(3e4,6e4);function pt(g,u){return g.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:g.tenantId}):u}function $t(g,u,p,b){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,E.Z)(function*(g,u,p,b,k={}){return Zn(g,k,(0,E.Z)(function*(){let U={},_e={};b&&("GET"===u?_e=b:U={body:JSON.stringify(b)});const Ve=(0,j.xO)(Object.assign({key:g.config.apiKey},_e)).slice(1),ut=yield g._getAdditionalHeaders();return ut["Content-Type"]="application/json",g.languageCode&&(ut["X-Firebase-Locale"]=g.languageCode),Ft.fetch()(pi(g,g.config.apiHost,p,Ve),Object.assign({method:u,headers:ut,referrerPolicy:"no-referrer"},U))}))})).apply(this,arguments)}function Zn(g,u,p){return li.apply(this,arguments)}function li(){return(li=(0,E.Z)(function*(g,u,p){g._canInitEmulator=!1;const b=Object.assign(Object.assign({},Rt),u);try{const k=new ti(g),U=yield Promise.race([p(),k.promise]);k.clearNetworkTimeout();const _e=yield U.json();if("needConfirmation"in _e)throw Gn(g,"account-exists-with-different-credential",_e);if(U.ok&&!("errorMessage"in _e))return _e;{const Ve=U.ok?_e.errorMessage:_e.error.message,[ut,Mt]=Ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ut)throw Gn(g,"credential-already-in-use",_e);if("EMAIL_EXISTS"===ut)throw Gn(g,"email-already-in-use",_e);if("USER_DISABLED"===ut)throw Gn(g,"user-disabled",_e);const Qt=b[ut]||ut.toLowerCase().replace(/[_\s]+/g,"-");if(Mt)throw Ue(g,Qt,Mt);Ge(g,Qt)}}catch(k){if(k instanceof j.ZR)throw k;Ge(g,"network-request-failed")}})).apply(this,arguments)}function An(g,u,p,b){return xn.apply(this,arguments)}function xn(){return(xn=(0,E.Z)(function*(g,u,p,b,k={}){const U=yield $t(g,u,p,b,k);return"mfaPendingCredential"in U&&Ge(g,"multi-factor-auth-required",{_serverResponse:U}),U})).apply(this,arguments)}function pi(g,u,p,b){const k=`${u}${p}?${b}`;return g.config.emulator?Zt(g.config,k):`${g.config.apiScheme}://${k}`}class ti{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((p,b)=>{this.timer=setTimeout(()=>b(ke(this.auth,"network-request-failed")),fn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gn(g,u,p){const b={appName:g.name};p.email&&(b.email=p.email),p.phoneNumber&&(b.phoneNumber=p.phoneNumber);const k=ke(g,u,b);return k.customData._tokenResponse=p,k}function Ut(){return(Ut=(0,E.Z)(function*(g,u){return $t(g,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function nn(g,u){return gn.apply(this,arguments)}function gn(){return(gn=(0,E.Z)(function*(g,u){return $t(g,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function ji(g,u){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,E.Z)(function*(g,u){return $t(g,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Bn(g){if(g)try{const u=new Date(Number(g));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Dn(){return(Dn=(0,E.Z)(function*(g,u=!1){const p=(0,j.m9)(g),b=yield p.getIdToken(u),k=nt(b);ee(k&&k.exp&&k.auth_time&&k.iat,p.auth,"internal-error");const U="object"==typeof k.firebase?k.firebase:void 0,_e=U?.sign_in_provider;return{claims:k,token:b,authTime:Bn(Wt(k.auth_time)),issuedAtTime:Bn(Wt(k.iat)),expirationTime:Bn(Wt(k.exp)),signInProvider:_e||null,signInSecondFactor:U?.sign_in_second_factor||null}})).apply(this,arguments)}function Wt(g){return 1e3*Number(g)}function nt(g){var u;const[p,b,k]=g.split(".");if(void 0===p||void 0===b||void 0===k)return ht("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,j.tV)(b);return U?JSON.parse(U):(ht("Failed to decode base64 JWT payload"),null)}catch(U){return ht("Caught error parsing JWT payload as JSON",null===(u=U)||void 0===u?void 0:u.toString()),null}}function Nn(g,u){return St.apply(this,arguments)}function St(){return(St=(0,E.Z)(function*(g,u,p=!1){if(p)return u;try{return yield u}catch(b){throw b instanceof j.ZR&&At(b)&&g.auth.currentUser===g&&(yield g.auth.signOut()),b}})).apply(this,arguments)}function At({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class Ai{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var p;if(u){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const k=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(u=!1){var p=this;if(!this.isRunning)return;const b=this.getInterval(u);this.timerId=setTimeout((0,E.Z)(function*(){yield p.iteration()}),b)}iteration(){var u=this;return(0,E.Z)(function*(){var p;try{yield u.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(p=b)||void 0===p?void 0:p.code)&&u.schedule(!0))}u.schedule()})()}}class kn{constructor(u,p){this.createdAt=u,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bn(this.lastLoginAt),this.creationTime=Bn(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function oi(g){return pn.apply(this,arguments)}function pn(){return(pn=(0,E.Z)(function*(g){var u;const p=g.auth,b=yield g.getIdToken(),k=yield Nn(g,ji(p,{idToken:b}));ee(k?.users.length,p,"internal-error");const U=k.users[0];g._notifyReloadListener(U);const _e=null!==(u=U.providerUserInfo)&&void 0!==u&&u.length?Q(U.providerUserInfo):[],Ve=ae(g.providerData,_e),Qt=!!g.isAnonymous&&!(g.email&&U.passwordHash||Ve?.length),Ht={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:Ve,metadata:new kn(U.createdAt,U.lastLoginAt),isAnonymous:Qt};Object.assign(g,Ht)})).apply(this,arguments)}function te(){return(te=(0,E.Z)(function*(g){const u=(0,j.m9)(g);yield oi(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function ae(g,u){return[...g.filter(b=>!u.some(k=>k.providerId===b.providerId)),...u]}function Q(g){return g.map(u=>{var{providerId:p}=u,b=(0,le._T)(u,["providerId"]);return{providerId:p,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function oe(){return(oe=(0,E.Z)(function*(g,u){const p=yield Zn(g,{},(0,E.Z)(function*(){const b=(0,j.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:k,apiKey:U}=g.config,_e=pi(g,k,"/v1/token",`key=${U}`),Ve=yield g._getAdditionalHeaders();return Ve["Content-Type"]="application/x-www-form-urlencoded",Ft.fetch()(_e,{method:"POST",headers:Ve,body:b})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){ee(u.idToken,"internal-error"),ee(typeof u.idToken<"u","internal-error"),ee(typeof u.refreshToken<"u","internal-error");const p="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function Ct(g){const u=nt(g);return ee(u,"internal-error"),ee(typeof u.exp<"u","internal-error"),ee(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,p)}getToken(u,p=!1){var b=this;return(0,E.Z)(function*(){return ee(!b.accessToken||b.refreshToken,u,"user-token-expired"),p||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(u,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,p){var b=this;return(0,E.Z)(function*(){const{accessToken:k,refreshToken:U,expiresIn:_e}=yield function ce(g,u){return oe.apply(this,arguments)}(u,p);b.updateTokensAndExpiration(k,U,Number(_e))})()}updateTokensAndExpiration(u,p,b){this.refreshToken=p||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(u,p){const{refreshToken:b,accessToken:k,expirationTime:U}=p,_e=new Xe;return b&&(ee("string"==typeof b,"internal-error",{appName:u}),_e.refreshToken=b),k&&(ee("string"==typeof k,"internal-error",{appName:u}),_e.accessToken=k),U&&(ee("number"==typeof U,"internal-error",{appName:u}),_e.expirationTime=U),_e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new Xe,this.toJSON())}_performRefresh(){return $e("not implemented")}}function ct(g,u){ee("string"==typeof g||typeof g>"u","internal-error",{appName:u})}class wt{constructor(u){var{uid:p,auth:b,stsTokenManager:k}=u,U=(0,le._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=b,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=U.displayName||null,this.email=U.email||null,this.emailVerified=U.emailVerified||!1,this.phoneNumber=U.phoneNumber||null,this.photoURL=U.photoURL||null,this.isAnonymous=U.isAnonymous||!1,this.tenantId=U.tenantId||null,this.providerData=U.providerData?[...U.providerData]:[],this.metadata=new kn(U.createdAt||void 0,U.lastLoginAt||void 0)}getIdToken(u){var p=this;return(0,E.Z)(function*(){const b=yield Nn(p,p.stsTokenManager.getToken(p.auth,u));return ee(b,p.auth,"internal-error"),p.accessToken!==b&&(p.accessToken=b,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),b})()}getIdTokenResult(u){return function ci(g){return Dn.apply(this,arguments)}(this,u)}reload(){return function Ni(g){return te.apply(this,arguments)}(this)}_assign(u){this!==u&&(ee(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(p=>Object.assign({},p)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){return new wt(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(u){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,p=!1){var b=this;return(0,E.Z)(function*(){let k=!1;u.idToken&&u.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(u),k=!0),p&&(yield oi(b)),yield b.auth._persistUserIfCurrent(b),k&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var u=this;return(0,E.Z)(function*(){const p=yield u.getIdToken();return yield Nn(u,function ft(g,u){return Ut.apply(this,arguments)}(u.auth,{idToken:p})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,p){var b,k,U,_e,Ve,ut,Mt,Qt;const Ht=null!==(b=p.displayName)&&void 0!==b?b:void 0,Li=null!==(k=p.email)&&void 0!==k?k:void 0,Ii=null!==(U=p.phoneNumber)&&void 0!==U?U:void 0,_u=null!==(_e=p.photoURL)&&void 0!==_e?_e:void 0,Dd=null!==(Ve=p.tenantId)&&void 0!==Ve?Ve:void 0,Nc=null!==(ut=p._redirectEventId)&&void 0!==ut?ut:void 0,pl=null!==(Mt=p.createdAt)&&void 0!==Mt?Mt:void 0,Wh=null!==(Qt=p.lastLoginAt)&&void 0!==Qt?Qt:void 0,{uid:Ed,emailVerified:$l,isAnonymous:zh,providerData:Cd,stsTokenManager:Wl}=p;ee(Ed&&Wl,u,"internal-error");const P_=Xe.fromJSON(this.name,Wl);ee("string"==typeof Ed,u,"internal-error"),ct(Ht,u.name),ct(Li,u.name),ee("boolean"==typeof $l,u,"internal-error"),ee("boolean"==typeof zh,u,"internal-error"),ct(Ii,u.name),ct(_u,u.name),ct(Dd,u.name),ct(Nc,u.name),ct(pl,u.name),ct(Wh,u.name);const wd=new wt({uid:Ed,auth:u,email:Li,emailVerified:$l,displayName:Ht,isAnonymous:zh,photoURL:_u,phoneNumber:Ii,tenantId:Dd,stsTokenManager:P_,createdAt:pl,lastLoginAt:Wh});return Cd&&Array.isArray(Cd)&&(wd.providerData=Cd.map(ug=>Object.assign({},ug))),Nc&&(wd._redirectEventId=Nc),wd}static _fromIdTokenResponse(u,p,b=!1){return(0,E.Z)(function*(){const k=new Xe;k.updateFromServerResponse(p);const U=new wt({uid:p.localId,auth:u,stsTokenManager:k,isAnonymous:b});return yield oi(U),U})()}}const zt=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.Z)(function*(){return!0})()}_set(p,b){var k=this;return(0,E.Z)(function*(){k.storage[p]=b})()}_get(p){var b=this;return(0,E.Z)(function*(){const k=b.storage[p];return void 0===k?null:k})()}_remove(p){var b=this;return(0,E.Z)(function*(){delete b.storage[p]})()}_addListener(p,b){}_removeListener(p,b){}}return g.type="NONE",g})();function ui(g,u,p){return`firebase:${g}:${u}:${p}`}class qt{constructor(u,p,b){this.persistence=u,this.auth=p,this.userKey=b;const{config:k,name:U}=this.auth;this.fullUserKey=ui(this.userKey,k.apiKey,U),this.fullPersistenceKey=ui("persistence",k.apiKey,U),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,E.Z)(function*(){const p=yield u.persistence._get(u.fullUserKey);return p?wt._fromJSON(u.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var p=this;return(0,E.Z)(function*(){if(p.persistence===u)return;const b=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=u,b?p.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,p,b="authUser"){return(0,E.Z)(function*(){if(!p.length)return new qt(be(zt),u,b);const k=(yield Promise.all(p.map(function(){var Mt=(0,E.Z)(function*(Qt){if(yield Qt._isAvailable())return Qt});return function(Qt){return Mt.apply(this,arguments)}}()))).filter(Mt=>Mt);let U=k[0]||be(zt);const _e=ui(b,u.config.apiKey,u.name);let Ve=null;for(const Mt of p)try{const Qt=yield Mt._get(_e);if(Qt){const Ht=wt._fromJSON(u,Qt);Mt!==U&&(Ve=Ht),U=Mt;break}}catch{}const ut=k.filter(Mt=>Mt._shouldAllowMigration);return U._shouldAllowMigration&&ut.length?(U=ut[0],Ve&&(yield U._set(_e,Ve.toJSON())),yield Promise.all(p.map(function(){var Mt=(0,E.Z)(function*(Qt){if(Qt!==U)try{yield Qt._remove(_e)}catch{}});return function(Qt){return Mt.apply(this,arguments)}}())),new qt(U,u,b)):new qt(U,u,b)})()}}function Xt(g){const u=g.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Ri(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Mn(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(Gt(u))return"Blackberry";if(pe(u))return"Webos";if(si(u))return"Safari";if((u.includes("chrome/")||di(u))&&!u.includes("edge/"))return"Chrome";if(ot(u))return"Android";{const b=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function Mn(g=(0,j.z$)()){return/firefox\//i.test(g)}function si(g=(0,j.z$)()){const u=g.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function di(g=(0,j.z$)()){return/crios\//i.test(g)}function Ri(g=(0,j.z$)()){return/iemobile/i.test(g)}function ot(g=(0,j.z$)()){return/android/i.test(g)}function Gt(g=(0,j.z$)()){return/blackberry/i.test(g)}function pe(g=(0,j.z$)()){return/webos/i.test(g)}function X(g=(0,j.z$)()){return/iphone|ipad|ipod/i.test(g)||/macintosh/i.test(g)&&/mobile/i.test(g)}function bt(g=(0,j.z$)()){return X(g)||ot(g)||pe(g)||Gt(g)||/windows phone/i.test(g)||Ri(g)}function Fn(g,u=[]){let p;switch(g){case"Browser":p=Xt((0,j.z$)());break;case"Worker":p=`${Xt((0,j.z$)())}-${g}`;break;default:p=g}const b=u.length?u.join(","):"FirebaseCore-web";return`${p}/JsCore/${he.SDK_VERSION}/${b}`}class kt{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,p){const b=U=>new Promise((_e,Ve)=>{try{_e(u(U))}catch(ut){Ve(ut)}});b.onAbort=p,this.queue.push(b);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(u){var p=this;return(0,E.Z)(function*(){var b;if(p.auth.currentUser===u)return;const k=[];try{for(const U of p.queue)yield U(u),U.onAbort&&k.push(U.onAbort)}catch(U){k.reverse();for(const _e of k)try{_e()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=U)||void 0===b?void 0:b.message})}})()}}class Xi{constructor(u,p,b){this.app=u,this.heartbeatServiceProvider=p,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yi(this),this.idTokenSubscription=new Yi(this),this.beforeStateQueue=new kt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Re,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(u,p){var b=this;return p&&(this._popupRedirectResolver=be(p)),this._initializationPromise=this.queue((0,E.Z)(function*(){var k,U;if(!b._deleted&&(b.persistenceManager=yield qt.create(b,u),!b._deleted)){if(null!==(k=b._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(p),b.lastNotifiedUid=(null===(U=b.currentUser)||void 0===U?void 0:U.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,E.Z)(function*(){if(u._deleted)return;const p=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||p){if(u.currentUser&&p&&u.currentUser.uid===p.uid)return u._currentUser._assign(p),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(p,!0)}})()}initializeCurrentUser(u){var p=this;return(0,E.Z)(function*(){var b;const k=yield p.assertedPersistence.getCurrentUser();let U=k,_e=!1;if(u&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Ve=null===(b=p.redirectUser)||void 0===b?void 0:b._redirectEventId,ut=U?._redirectEventId,Mt=yield p.tryRedirectSignIn(u);(!Ve||Ve===ut)&&Mt?.user&&(U=Mt.user,_e=!0)}if(!U)return p.directlySetCurrentUser(null);if(!U._redirectEventId){if(_e)try{yield p.beforeStateQueue.runMiddleware(U)}catch(Ve){U=k,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Ve))}return U?p.reloadAndSetCurrentUserOrClear(U):p.directlySetCurrentUser(null)}return ee(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===U._redirectEventId?p.directlySetCurrentUser(U):p.reloadAndSetCurrentUserOrClear(U)})()}tryRedirectSignIn(u){var p=this;return(0,E.Z)(function*(){let b=null;try{b=yield p._popupRedirectResolver._completeRedirectFn(p,u,!0)}catch{yield p._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(u){var p=this;return(0,E.Z)(function*(){var b;try{yield oi(u)}catch(k){if("auth/network-request-failed"!==(null===(b=k)||void 0===b?void 0:b.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function ze(){if(typeof navigator>"u")return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var u=this;return(0,E.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var p=this;return(0,E.Z)(function*(){const b=u?(0,j.m9)(u):null;return b&&ee(b.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(b&&b._clone(p))})()}_updateCurrentUser(u,p=!1){var b=this;return(0,E.Z)(function*(){if(!b._deleted)return u&&ee(b.tenantId===u.tenantId,b,"tenant-id-mismatch"),p||(yield b.beforeStateQueue.runMiddleware(u)),b.queue((0,E.Z)(function*(){yield b.directlySetCurrentUser(u),b.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,E.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var p=this;return this.queue((0,E.Z)(function*(){yield p.assertedPersistence.setPersistence(be(u))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new j.LL("auth","Firebase",u())}onAuthStateChanged(u,p,b){return this.registerStateListener(this.authStateSubscription,u,p,b)}beforeAuthStateChanged(u,p){return this.beforeStateQueue.pushCallback(u,p)}onIdTokenChanged(u,p,b){return this.registerStateListener(this.idTokenSubscription,u,p,b)}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,p){var b=this;return(0,E.Z)(function*(){const k=yield b.getOrInitRedirectPersistenceManager(p);return null===u?k.removeCurrentUser():k.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var p=this;return(0,E.Z)(function*(){if(!p.redirectPersistenceManager){const b=u&&be(u)||p._popupRedirectResolver;ee(b,p,"argument-error"),p.redirectPersistenceManager=yield qt.create(p,[be(b._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(u){var p=this;return(0,E.Z)(function*(){var b,k;return p._isInitialized&&(yield p.queue((0,E.Z)(function*(){}))),(null===(b=p._currentUser)||void 0===b?void 0:b._redirectEventId)===u?p._currentUser:(null===(k=p.redirectUser)||void 0===k?void 0:k._redirectEventId)===u?p.redirectUser:null})()}_persistUserIfCurrent(u){var p=this;return(0,E.Z)(function*(){if(u===p.currentUser)return p.queue((0,E.Z)(function*(){return p.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(p=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,p,b,k){if(this._deleted)return()=>{};const U="function"==typeof p?p:p.next.bind(p),_e=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(_e,this,"internal-error"),_e.then(()=>U(this.currentUser)),"function"==typeof p?u.addObserver(p,b,k):u.addObserver(p)}directlySetCurrentUser(u){var p=this;return(0,E.Z)(function*(){p.currentUser&&p.currentUser!==u&&(p._currentUser._stopProactiveRefresh(),u&&p.isProactiveRefreshEnabled&&u._startProactiveRefresh()),p.currentUser=u,u?yield p.assertedPersistence.setCurrentUser(u):yield p.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Fn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,E.Z)(function*(){var p;const b={"X-Client-Version":u.clientVersion};u.app.options.appId&&(b["X-Firebase-gmpid"]=u.app.options.appId);const k=yield null===(p=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return k&&(b["X-Firebase-Client"]=k),b})()}}function wn(g){return(0,j.m9)(g)}class Yi{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,j.ne)(p=>this.observer=p)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qn(g){const u=g.indexOf(":");return u<0?"":g.substr(0,u+1)}function Gi(g){if(!g)return null;const u=Number(g);return isNaN(u)?null:u}class sr{constructor(u,p){this.providerId=u,this.signInMethod=p}toJSON(){return $e("not implemented")}_getIdTokenResponse(u){return $e("not implemented")}_linkToIdToken(u,p){return $e("not implemented")}_getReauthenticationResolver(u){return $e("not implemented")}}function _i(g,u){return En.apply(this,arguments)}function En(){return(En=(0,E.Z)(function*(g,u){return $t(g,"POST","/v1/accounts:resetPassword",pt(g,u))})).apply(this,arguments)}function mo(g,u){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,E.Z)(function*(g,u){return $t(g,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function vr(g,u){return yr.apply(this,arguments)}function yr(){return(yr=(0,E.Z)(function*(g,u){return $t(g,"POST","/v1/accounts:update",pt(g,u))})).apply(this,arguments)}function br(){return(br=(0,E.Z)(function*(g,u){return An(g,"POST","/v1/accounts:signInWithPassword",pt(g,u))})).apply(this,arguments)}function xi(g,u){return yn.apply(this,arguments)}function yn(){return(yn=(0,E.Z)(function*(g,u){return $t(g,"POST","/v1/accounts:sendOobCode",pt(g,u))})).apply(this,arguments)}function Kr(g,u){return $n.apply(this,arguments)}function $n(){return($n=(0,E.Z)(function*(g,u){return xi(g,u)})).apply(this,arguments)}function vi(g,u){return hi.apply(this,arguments)}function hi(){return(hi=(0,E.Z)(function*(g,u){return xi(g,u)})).apply(this,arguments)}function tr(g,u){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,E.Z)(function*(g,u){return xi(g,u)})).apply(this,arguments)}function Ar(g,u){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,E.Z)(function*(g,u){return xi(g,u)})).apply(this,arguments)}function ts(){return(ts=(0,E.Z)(function*(g,u){return An(g,"POST","/v1/accounts:signInWithEmailLink",pt(g,u))})).apply(this,arguments)}function Ro(){return(Ro=(0,E.Z)(function*(g,u){return An(g,"POST","/v1/accounts:signInWithEmailLink",pt(g,u))})).apply(this,arguments)}class Po extends sr{constructor(u,p,b,k=null){super("password",b),this._email=u,this._password=p,this._tenantId=k}static _fromEmailAndPassword(u,p){return new Po(u,p,"password")}static _fromEmailAndCode(u,p,b=null){return new Po(u,p,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const p="string"==typeof u?JSON.parse(u):u;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(u){var p=this;return(0,E.Z)(function*(){switch(p.signInMethod){case"password":return function hr(g,u){return br.apply(this,arguments)}(u,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function El(g,u){return ts.apply(this,arguments)}(u,{email:p._email,oobCode:p._password});default:Ge(u,"internal-error")}})()}_linkToIdToken(u,p){var b=this;return(0,E.Z)(function*(){switch(b.signInMethod){case"password":return mo(u,{idToken:p,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Cs(g,u){return Ro.apply(this,arguments)}(u,{idToken:p,email:b._email,oobCode:b._password});default:Ge(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Nr(g,u){return ge.apply(this,arguments)}function ge(){return(ge=(0,E.Z)(function*(g,u){return An(g,"POST","/v1/accounts:signInWithIdp",pt(g,u))})).apply(this,arguments)}class xe extends sr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const p=new xe(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(p.idToken=u.idToken),u.accessToken&&(p.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(p.nonce=u.nonce),u.pendingToken&&(p.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(p.accessToken=u.oauthToken,p.secret=u.oauthTokenSecret):Ge("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const p="string"==typeof u?JSON.parse(u):u,{providerId:b,signInMethod:k}=p,U=(0,le._T)(p,["providerId","signInMethod"]);if(!b||!k)return null;const _e=new xe(b,k);return _e.idToken=U.idToken||void 0,_e.accessToken=U.accessToken||void 0,_e.secret=U.secret,_e.nonce=U.nonce,_e.pendingToken=U.pendingToken||null,_e}_getIdTokenResponse(u){return Nr(u,this.buildRequest())}_linkToIdToken(u,p){const b=this.buildRequest();return b.idToken=p,Nr(u,b)}_getReauthenticationResolver(u){const p=this.buildRequest();return p.autoCreate=!1,Nr(u,p)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),u.postBody=(0,j.xO)(p)}return u}}function qe(g,u){return dt.apply(this,arguments)}function dt(){return(dt=(0,E.Z)(function*(g,u){return $t(g,"POST","/v1/accounts:sendVerificationCode",pt(g,u))})).apply(this,arguments)}function jt(){return(jt=(0,E.Z)(function*(g,u){return An(g,"POST","/v1/accounts:signInWithPhoneNumber",pt(g,u))})).apply(this,arguments)}function bn(){return(bn=(0,E.Z)(function*(g,u){const p=yield An(g,"POST","/v1/accounts:signInWithPhoneNumber",pt(g,u));if(p.temporaryProof)throw Gn(g,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const ar={USER_NOT_FOUND:"user-not-found"};function Dr(){return(Dr=(0,E.Z)(function*(g,u){return An(g,"POST","/v1/accounts:signInWithPhoneNumber",pt(g,Object.assign(Object.assign({},u),{operation:"REAUTH"})),ar)})).apply(this,arguments)}class lr extends sr{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,p){return new lr({verificationId:u,verificationCode:p})}static _fromTokenResponse(u,p){return new lr({phoneNumber:u,temporaryProof:p})}_getIdTokenResponse(u){return function Tt(g,u){return jt.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,p){return function yi(g,u){return bn.apply(this,arguments)}(u,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function ns(g,u){return Dr.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:p,verificationId:b,verificationCode:k}=this.params;return u&&p?{temporaryProof:u,phoneNumber:p}:{sessionInfo:b,code:k}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:p,verificationCode:b,phoneNumber:k,temporaryProof:U}=u;return b||p||k||U?new lr({verificationId:p,verificationCode:b,phoneNumber:k,temporaryProof:U}):null}}class Zr{constructor(u){var p,b,k,U,_e,Ve;const ut=(0,j.zd)((0,j.pd)(u)),Mt=null!==(p=ut.apiKey)&&void 0!==p?p:null,Qt=null!==(b=ut.oobCode)&&void 0!==b?b:null,Ht=function Yr(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=ut.mode)&&void 0!==k?k:null);ee(Mt&&Qt&&Ht,"argument-error"),this.apiKey=Mt,this.operation=Ht,this.code=Qt,this.continueUrl=null!==(U=ut.continueUrl)&&void 0!==U?U:null,this.languageCode=null!==(_e=ut.languageCode)&&void 0!==_e?_e:null,this.tenantId=null!==(Ve=ut.tenantId)&&void 0!==Ve?Ve:null}static parseLink(u){const p=function Fr(g){const u=(0,j.zd)((0,j.pd)(g)).link,p=u?(0,j.zd)((0,j.pd)(u)).deep_link_id:null,b=(0,j.zd)((0,j.pd)(g)).deep_link_id;return(b?(0,j.zd)((0,j.pd)(b)).link:null)||b||p||u||g}(u);try{return new Zr(p)}catch{return null}}}let Lr=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(p,b){return Po._fromEmailAndPassword(p,b)}static credentialWithLink(p,b){const k=Zr.parseLink(b);return ee(k,"argument-error"),Po._fromEmailAndCode(p,k.code,k.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class $i{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Er extends $i{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class qr extends Er{static credentialFromJSON(u){const p="string"==typeof u?JSON.parse(u):u;return ee("providerId"in p&&"signInMethod"in p,"argument-error"),xe._fromParams(p)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return ee(u.idToken||u.accessToken,"argument-error"),xe._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return qr.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return qr.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:p,oauthAccessToken:b,oauthTokenSecret:k,pendingToken:U,nonce:_e,providerId:Ve}=u;if(!b&&!k&&!p&&!U||!Ve)return null;try{return new qr(Ve)._credential({idToken:p,accessToken:b,nonce:_e,pendingToken:U})}catch{return null}}}let Qr=(()=>{class g extends Er{constructor(){super("facebook.com")}static credential(p){return xe._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return g.credentialFromTaggedObject(p)}static credentialFromError(p){return g.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return g.credential(p.oauthAccessToken)}catch{return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),Jr=(()=>{class g extends Er{constructor(){super("google.com"),this.addScope("profile")}static credential(p,b){return xe._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:b})}static credentialFromResult(p){return g.credentialFromTaggedObject(p)}static credentialFromError(p){return g.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:b,oauthAccessToken:k}=p;if(!b&&!k)return null;try{return g.credential(b,k)}catch{return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),xo=(()=>{class g extends Er{constructor(){super("github.com")}static credential(p){return xe._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return g.credentialFromTaggedObject(p)}static credentialFromError(p){return g.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return g.credential(p.oauthAccessToken)}catch{return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class Xr extends sr{constructor(u,p){super(u,u),this.pendingToken=p}_getIdTokenResponse(u){return Nr(u,this.buildRequest())}_linkToIdToken(u,p){const b=this.buildRequest();return b.idToken=p,Nr(u,b)}_getReauthenticationResolver(u){const p=this.buildRequest();return p.autoCreate=!1,Nr(u,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const p="string"==typeof u?JSON.parse(u):u,{providerId:b,signInMethod:k,pendingToken:U}=p;return b&&k&&U&&b===k?new Xr(b,U):null}static _create(u,p){return new Xr(u,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Qn extends $i{constructor(u){ee(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Qn.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Qn.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const p=Xr.fromJSON(u);return ee(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:p,providerId:b}=u;if(!p||!b)return null;try{return Xr._create(b,p)}catch{return null}}}let Ts=(()=>{class g extends Er{constructor(){super("twitter.com")}static credential(p,b){return xe._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:b})}static credentialFromResult(p){return g.credentialFromTaggedObject(p)}static credentialFromError(p){return g.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:b,oauthTokenSecret:k}=p;if(!b||!k)return null;try{return g.credential(b,k)}catch{return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function Is(g,u){return eo.apply(this,arguments)}function eo(){return(eo=(0,E.Z)(function*(g,u){return An(g,"POST","/v1/accounts:signUp",pt(g,u))})).apply(this,arguments)}class bi{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,p,b,k=!1){return(0,E.Z)(function*(){const U=yield wt._fromIdTokenResponse(u,b,k),_e=_o(b);return new bi({user:U,providerId:_e,_tokenResponse:b,operationType:p})})()}static _forOperation(u,p,b){return(0,E.Z)(function*(){yield u._updateTokensIfNecessary(b,!0);const k=_o(b);return new bi({user:u,providerId:k,_tokenResponse:b,operationType:p})})()}}function _o(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function is(){return(is=(0,E.Z)(function*(g){var u;const p=wn(g);if(yield p._initializationPromise,null!==(u=p.currentUser)&&void 0!==u&&u.isAnonymous)return new bi({user:p.currentUser,providerId:null,operationType:"signIn"});const b=yield Is(p,{returnSecureToken:!0}),k=yield bi._fromIdTokenResponse(p,"signIn",b,!0);return yield p._updateCurrentUser(k.user),k})).apply(this,arguments)}class zs extends j.ZR{constructor(u,p,b,k){var U;super(p.code,p.message),this.operationType=b,this.user=k,Object.setPrototypeOf(this,zs.prototype),this.customData={appName:u.name,tenantId:null!==(U=u.tenantId)&&void 0!==U?U:void 0,_serverResponse:p.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(u,p,b,k){return new zs(u,p,b,k)}}function to(g,u,p,b){return("reauthenticate"===u?p._getReauthenticationResolver(g):p._getIdTokenResponse(g)).catch(U=>{throw"auth/multi-factor-auth-required"===U.code?zs._fromErrorAndOperation(g,U,u,b):U})}function fi(g){return new Set(g.map(({providerId:u})=>u).filter(u=>!!u))}function ko(){return(ko=(0,E.Z)(function*(g,u){const p=(0,j.m9)(g);yield N(!0,p,u);const{providerUserInfo:b}=yield nn(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[u]}),k=fi(b||[]);return p.providerData=p.providerData.filter(U=>k.has(U.providerId)),k.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function no(g,u){return Di.apply(this,arguments)}function Di(){return(Di=(0,E.Z)(function*(g,u,p=!1){const b=yield Nn(g,u._linkToIdToken(g.auth,yield g.getIdToken()),p);return bi._forOperation(g,"link",b)})).apply(this,arguments)}function N(g,u,p){return H.apply(this,arguments)}function H(){return(H=(0,E.Z)(function*(g,u,p){yield oi(u);const k=!1===g?"provider-already-linked":"no-such-provider";ee(fi(u.providerData).has(p)===g,u.auth,k)})).apply(this,arguments)}function M(g,u){return G.apply(this,arguments)}function G(){return(G=(0,E.Z)(function*(g,u,p=!1){var b;const{auth:k}=g,U="reauthenticate";try{const _e=yield Nn(g,to(k,U,u,g),p);ee(_e.idToken,k,"internal-error");const Ve=nt(_e.idToken);ee(Ve,k,"internal-error");const{sub:ut}=Ve;return ee(g.uid===ut,k,"user-mismatch"),bi._forOperation(g,U,_e)}catch(_e){throw"auth/user-not-found"===(null===(b=_e)||void 0===b?void 0:b.code)&&Ge(k,"user-mismatch"),_e}})).apply(this,arguments)}function se(g,u){return He.apply(this,arguments)}function He(){return(He=(0,E.Z)(function*(g,u,p=!1){const b="signIn",k=yield to(g,b,u),U=yield bi._fromIdTokenResponse(g,b,k);return p||(yield g._updateCurrentUser(U.user)),U})).apply(this,arguments)}function Ae(g,u){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,E.Z)(function*(g,u){return se(wn(g),u)})).apply(this,arguments)}function Vn(g,u){return On.apply(this,arguments)}function On(){return(On=(0,E.Z)(function*(g,u){const p=(0,j.m9)(g);return yield N(!1,p,u.providerId),no(p,u)})).apply(this,arguments)}function Sn(g,u){return _n.apply(this,arguments)}function _n(){return(_n=(0,E.Z)(function*(g,u){return M((0,j.m9)(g),u)})).apply(this,arguments)}function Ei(g,u){return vn.apply(this,arguments)}function vn(){return(vn=(0,E.Z)(function*(g,u){return An(g,"POST","/v1/accounts:signInWithCustomToken",pt(g,u))})).apply(this,arguments)}function Ye(){return(Ye=(0,E.Z)(function*(g,u){const p=wn(g),b=yield Ei(p,{token:u,returnSecureToken:!0}),k=yield bi._fromIdTokenResponse(p,"signIn",b);return yield p._updateCurrentUser(k.user),k})).apply(this,arguments)}class Kt{constructor(u,p){this.factorId=u,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(u,p){return"phoneInfo"in p?fr._fromServerResponse(u,p):Ge(u,"internal-error")}}class fr extends Kt{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,p){return new fr(p)}}function cr(g,u,p){var b;ee((null===(b=p.url)||void 0===b?void 0:b.length)>0,g,"invalid-continue-uri"),ee(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),u.continueUrl=p.url,u.dynamicLinkDomain=p.dynamicLinkDomain,u.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ee(p.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),u.iOSBundleId=p.iOS.bundleId),p.android&&(ee(p.android.packageName.length>0,g,"missing-android-pkg-name"),u.androidInstallApp=p.android.installApp,u.androidMinimumVersionCode=p.android.minimumVersion,u.androidPackageName=p.android.packageName)}function io(){return(io=(0,E.Z)(function*(g,u,p){const b=(0,j.m9)(g),k={requestType:"PASSWORD_RESET",email:u};p&&cr(b,k,p),yield vi(b,k)})).apply(this,arguments)}function Vr(){return(Vr=(0,E.Z)(function*(g,u,p){yield _i((0,j.m9)(g),{oobCode:u,newPassword:p})})).apply(this,arguments)}function Ys(){return(Ys=(0,E.Z)(function*(g,u){yield vr((0,j.m9)(g),{oobCode:u})})).apply(this,arguments)}function Cl(g,u){return _a.apply(this,arguments)}function _a(){return(_a=(0,E.Z)(function*(g,u){const p=(0,j.m9)(g),b=yield _i(p,{oobCode:u}),k=b.requestType;switch(ee(k,p,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(b.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(b.mfaInfo,p,"internal-error");default:ee(b.email,p,"internal-error")}let U=null;return b.mfaInfo&&(U=Kt._fromServerResponse(wn(p),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:U},operation:k}})).apply(this,arguments)}function Mr(){return(Mr=(0,E.Z)(function*(g,u){const{data:p}=yield Cl((0,j.m9)(g),u);return p.email})).apply(this,arguments)}function Hr(){return(Hr=(0,E.Z)(function*(g,u,p){const b=wn(g),k=yield Is(b,{returnSecureToken:!0,email:u,password:p}),U=yield bi._fromIdTokenResponse(b,"signIn",k);return yield b._updateCurrentUser(U.user),U})).apply(this,arguments)}function Ur(){return(Ur=(0,E.Z)(function*(g,u,p){const b=(0,j.m9)(g),k={requestType:"EMAIL_SIGNIN",email:u};ee(p.handleCodeInApp,b,"argument-error"),p&&cr(b,k,p),yield tr(b,k)})).apply(this,arguments)}function qs(){return(qs=(0,E.Z)(function*(g,u,p){const b=(0,j.m9)(g),k=Lr.credentialWithLink(u,p||Qe());return ee(k._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Ae(b,k)})).apply(this,arguments)}function Tl(g,u){return os.apply(this,arguments)}function os(){return(os=(0,E.Z)(function*(g,u){return $t(g,"POST","/v1/accounts:createAuthUri",pt(g,u))})).apply(this,arguments)}function ss(){return(ss=(0,E.Z)(function*(g,u){const b={identifier:u,continueUri:lt()?Qe():"http://localhost"},{signinMethods:k}=yield Tl((0,j.m9)(g),b);return k||[]})).apply(this,arguments)}function Ns(){return(Ns=(0,E.Z)(function*(g,u){const p=(0,j.m9)(g),k={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};u&&cr(p.auth,k,u);const{email:U}=yield Kr(p.auth,k);U!==g.email&&(yield g.reload())})).apply(this,arguments)}function Fo(){return(Fo=(0,E.Z)(function*(g,u,p){const b=(0,j.m9)(g),U={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:u};p&&cr(b.auth,U,p);const{email:_e}=yield Ar(b.auth,U);_e!==g.email&&(yield g.reload())})).apply(this,arguments)}function va(g,u){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,E.Z)(function*(g,u){return $t(g,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function yo(){return(yo=(0,E.Z)(function*(g,{displayName:u,photoURL:p}){if(void 0===u&&void 0===p)return;const b=(0,j.m9)(g),U={idToken:yield b.getIdToken(),displayName:u,photoUrl:p,returnSecureToken:!0},_e=yield Nn(b,va(b.auth,U));b.displayName=_e.displayName||null,b.photoURL=_e.photoUrl||null;const Ve=b.providerData.find(({providerId:ut})=>"password"===ut);Ve&&(Ve.displayName=b.displayName,Ve.photoURL=b.photoURL),yield b._updateTokensIfNecessary(_e)})).apply(this,arguments)}function ls(g,u,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,E.Z)(function*(g,u,p){const{auth:b}=g,U={idToken:yield g.getIdToken(),returnSecureToken:!0};u&&(U.email=u),p&&(U.password=p);const _e=yield Nn(g,mo(b,U));yield g._updateTokensIfNecessary(_e,!0)})).apply(this,arguments)}class Rn{constructor(u,p,b={}){this.isNewUser=u,this.providerId=p,this.profile=b}}class Os extends Rn{constructor(u,p,b,k){super(u,p,b),this.username=k}}class Il extends Rn{constructor(u,p){super(u,"facebook.com",p)}}class el extends Os{constructor(u,p){super(u,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Sl extends Rn{constructor(u,p){super(u,"google.com",p)}}class tl extends Os{constructor(u,p,b){super(u,"twitter.com",p,b)}}function nu(g){const{user:u,_tokenResponse:p}=g;return u.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function ro(g){var u,p;if(!g)return null;const{providerId:b}=g,k=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},U=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!b&&g?.idToken){const _e=null===(p=null===(u=nt(g.idToken))||void 0===u?void 0:u.firebase)||void 0===p?void 0:p.sign_in_provider;if(_e)return new Rn(U,"anonymous"!==_e&&"custom"!==_e?_e:null)}if(!b)return null;switch(b){case"facebook.com":return new Il(U,k);case"github.com":return new el(U,k);case"google.com":return new Sl(U,k);case"twitter.com":return new tl(U,k,g.screenName||null);case"custom":case"anonymous":return new Rn(U,null);default:return new Rn(U,b,k)}}(p)}class us{constructor(u,p){this.type=u,this.credential=p}static _fromIdtoken(u){return new us("enroll",u)}static _fromMfaPendingCredential(u){return new us("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var p,b;if(u?.multiFactorSession){if(null!==(p=u.multiFactorSession)&&void 0!==p&&p.pendingCredential)return us._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(b=u.multiFactorSession)&&void 0!==b&&b.idToken)return us._fromIdtoken(u.multiFactorSession.idToken)}return null}}class bo{constructor(u,p,b){this.session=u,this.hints=p,this.signInResolver=b}static _fromError(u,p){const b=wn(u),k=p.customData._serverResponse,U=(k.mfaInfo||[]).map(Ve=>Kt._fromServerResponse(b,Ve));ee(k.mfaPendingCredential,b,"internal-error");const _e=us._fromMfaPendingCredential(k.mfaPendingCredential);return new bo(_e,U,function(){var Ve=(0,E.Z)(function*(ut){const Mt=yield ut._process(b,_e);delete k.mfaInfo,delete k.mfaPendingCredential;const Qt=Object.assign(Object.assign({},k),{idToken:Mt.idToken,refreshToken:Mt.refreshToken});switch(p.operationType){case"signIn":const Ht=yield bi._fromIdTokenResponse(b,p.operationType,Qt);return yield b._updateCurrentUser(Ht.user),Ht;case"reauthenticate":return ee(p.user,b,"internal-error"),bi._forOperation(p.user,p.operationType,Qt);default:Ge(b,"internal-error")}});return function(ut){return Ve.apply(this,arguments)}}())}resolveSignIn(u){var p=this;return(0,E.Z)(function*(){return p.signInResolver(u)})()}}function Ea(g,u){return $t(g,"POST","/v2/accounts/mfaEnrollment:start",pt(g,u))}class Rl{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(b=>Kt._fromServerResponse(u.auth,b)))})}static _fromUser(u){return new Rl(u)}getSession(){var u=this;return(0,E.Z)(function*(){return us._fromIdtoken(yield u.user.getIdToken())})()}enroll(u,p){var b=this;return(0,E.Z)(function*(){const k=u,U=yield b.getSession(),_e=yield Nn(b.user,k._process(b.user.auth,U,p));return yield b.user._updateTokensIfNecessary(_e),b.user.reload()})()}unenroll(u){var p=this;return(0,E.Z)(function*(){var b;const k="string"==typeof u?u:u.uid,U=yield p.user.getIdToken(),_e=yield Nn(p.user,function Ol(g,u){return $t(g,"POST","/v2/accounts/mfaEnrollment:withdraw",pt(g,u))}(p.user.auth,{idToken:U,mfaEnrollmentId:k}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Ve})=>Ve!==k),yield p.user._updateTokensIfNecessary(_e);try{yield p.user.reload()}catch(Ve){if("auth/user-token-expired"!==(null===(b=Ve)||void 0===b?void 0:b.code))throw Ve}})()}}const jr=new WeakMap,Bo="__sak";class Xs{constructor(u,p){this.storageRetriever=u,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Bo,"1"),this.storage.removeItem(Bo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,p){return this.storage.setItem(u,JSON.stringify(p)),Promise.resolve()}_get(u){const p=this.storage.getItem(u);return Promise.resolve(p?JSON.parse(p):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const Do=(()=>{class g extends Xs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,b)=>this.onStorageEvent(p,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function il(){const g=(0,j.z$)();return si(g)||X(g)}()&&function en(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=bt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const b of Object.keys(this.listeners)){const k=this.storage.getItem(b),U=this.localCache[b];k!==U&&p(b,U,k)}}onStorageEvent(p,b=!1){if(!p.key)return void this.forAllChangedKeys((Ve,ut,Mt)=>{this.notifyListeners(Ve,Mt)});const k=p.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ve=this.storage.getItem(k);if(p.newValue!==Ve)null!==p.newValue?this.storage.setItem(k,p.newValue):this.storage.removeItem(k);else if(this.localCache[k]===p.newValue&&!b)return}const U=()=>{const Ve=this.storage.getItem(k);!b&&this.localCache[k]===Ve||this.notifyListeners(k,Ve)},_e=this.storage.getItem(k);!function Ke(){return(0,j.w1)()&&10===document.documentMode}()||_e===p.newValue||p.newValue===p.oldValue?U():setTimeout(U,10)}notifyListeners(p,b){this.localCache[p]=b;const k=this.listeners[p];if(k)for(const U of Array.from(k))U(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,b,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:b,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,b){var k=()=>super._set,U=this;return(0,E.Z)(function*(){yield k().call(U,p,b),U.localCache[p]=JSON.stringify(b)})()}_get(p){var b=()=>super._get,k=this;return(0,E.Z)(function*(){const U=yield b().call(k,p);return k.localCache[p]=JSON.stringify(U),U})()}_remove(p){var b=()=>super._remove,k=this;return(0,E.Z)(function*(){yield b().call(k,p),delete k.localCache[p]})()}}return g.type="LOCAL",g})(),oo=(()=>{class g extends Xs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,b){}_removeListener(p,b){}}return g.type="SESSION",g})();let rl=(()=>{class g{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const b=this.receivers.find(U=>U.isListeningto(p));if(b)return b;const k=new g(p);return this.receivers.push(k),k}isListeningto(p){return this.eventTarget===p}handleEvent(p){var b=this;return(0,E.Z)(function*(){const k=p,{eventId:U,eventType:_e,data:Ve}=k.data,ut=b.handlersMap[_e];if(!ut?.size)return;k.ports[0].postMessage({status:"ack",eventId:U,eventType:_e});const Mt=Array.from(ut).map(function(){var Ht=(0,E.Z)(function*(Li){return Li(k.origin,Ve)});return function(Li){return Ht.apply(this,arguments)}}()),Qt=yield function kl(g){return Promise.all(g.map(function(){var u=(0,E.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(b){return{fulfilled:!1,reason:b}}});return function(p){return u.apply(this,arguments)}}()))}(Mt);k.ports[0].postMessage({status:"done",eventId:U,eventType:_e,response:Qt})})()}_subscribe(p,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(b)}_unsubscribe(p,b){this.handlersMap[p]&&b&&this.handlersMap[p].delete(b),(!b||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function ds(g="",u=10){let p="";for(let b=0;b<u;b++)p+=Math.floor(10*Math.random());return g+p}class Fl{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,p,b=50){var k=this;return(0,E.Z)(function*(){const U=typeof MessageChannel<"u"?new MessageChannel:null;if(!U)throw new Error("connection_unavailable");let _e,Ve;return new Promise((ut,Mt)=>{const Qt=ds("",20);U.port1.start();const Ht=setTimeout(()=>{Mt(new Error("unsupported_event"))},b);Ve={messageChannel:U,onMessage(Li){const Ii=Li;if(Ii.data.eventId===Qt)switch(Ii.data.status){case"ack":clearTimeout(Ht),_e=setTimeout(()=>{Mt(new Error("timeout"))},3e3);break;case"done":clearTimeout(_e),ut(Ii.data.response);break;default:clearTimeout(Ht),clearTimeout(_e),Mt(new Error("invalid_response"))}}},k.handlers.add(Ve),U.port1.addEventListener("message",Ve.onMessage),k.target.postMessage({eventType:u,eventId:Qt,data:p},[U.port2])}).finally(()=>{Ve&&k.removeMessageHandler(Ve)})})()}}function Wn(){return window}function hs(){return typeof Wn().WorkerGlobalScope<"u"&&"function"==typeof Wn().importScripts}function ta(){return(ta=(0,E.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wa="firebaseLocalStorageDb",wi="firebaseLocalStorage",ur="fbase_key";class Wi{constructor(u){this.request=u}toPromise(){return new Promise((u,p)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function nr(g,u){return g.transaction([wi],u?"readwrite":"readonly").objectStore(wi)}function Gr(){const g=indexedDB.open(wa,1);return new Promise((u,p)=>{g.addEventListener("error",()=>{p(g.error)}),g.addEventListener("upgradeneeded",()=>{const b=g.result;try{b.createObjectStore(wi,{keyPath:ur})}catch(k){p(k)}}),g.addEventListener("success",(0,E.Z)(function*(){const b=g.result;b.objectStoreNames.contains(wi)?u(b):(b.close(),yield function Eo(){const g=indexedDB.deleteDatabase(wa);return new Wi(g).toPromise()}(),u(yield Gr()))}))})}function so(g,u,p){return ps.apply(this,arguments)}function ps(){return(ps=(0,E.Z)(function*(g,u,p){const b=nr(g,!0).put({[ur]:u,value:p});return new Wi(b).toPromise()})).apply(this,arguments)}function Or(){return(Or=(0,E.Z)(function*(g,u){const p=nr(g,!1).get(u),b=yield new Wi(p).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Vo(g,u){const p=nr(g,!0).delete(u);return new Wi(p).toPromise()}const Co=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,E.Z)(function*(){return p.db||(p.db=yield Gr()),p.db})()}_withRetries(p){var b=this;return(0,E.Z)(function*(){let k=0;for(;;)try{const U=yield b._openDb();return yield p(U)}catch(U){if(k++>3)throw U;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,E.Z)(function*(){return hs()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,E.Z)(function*(){p.receiver=rl._getInstance(function Hn(){return hs()?self:null}()),p.receiver._subscribe("keyChanged",function(){var b=(0,E.Z)(function*(k,U){return{keyProcessed:(yield p._poll()).includes(U.key)}});return function(k,U){return b.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var b=(0,E.Z)(function*(k,U){return["keyChanged"]});return function(k,U){return b.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,E.Z)(function*(){var b,k;if(p.activeServiceWorker=yield function Ca(){return ta.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Fl(p.activeServiceWorker);const U=yield p.sender._send("ping",{},800);!U||(null===(b=U[0])||void 0===b?void 0:b.fulfilled)&&(null===(k=U[0])||void 0===k?void 0:k.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var b=this;return(0,E.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function fs(){var g;return(null===(g=navigator?.serviceWorker)||void 0===g?void 0:g.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:p},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,E.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Gr();return yield so(p,Bo,"1"),yield Vo(p,Bo),!0}catch{}return!1})()}_withPendingWrite(p){var b=this;return(0,E.Z)(function*(){b.pendingWrites++;try{yield p()}finally{b.pendingWrites--}})()}_set(p,b){var k=this;return(0,E.Z)(function*(){return k._withPendingWrite((0,E.Z)(function*(){return yield k._withRetries(U=>so(U,p,b)),k.localCache[p]=b,k.notifyServiceWorker(p)}))})()}_get(p){var b=this;return(0,E.Z)(function*(){const k=yield b._withRetries(U=>function ol(g,u){return Or.apply(this,arguments)}(U,p));return b.localCache[p]=k,k})()}_remove(p){var b=this;return(0,E.Z)(function*(){return b._withPendingWrite((0,E.Z)(function*(){return yield b._withRetries(k=>Vo(k,p)),delete b.localCache[p],b.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,E.Z)(function*(){const b=yield p._withRetries(_e=>{const Ve=nr(_e,!1).getAll();return new Wi(Ve).toPromise()});if(!b)return[];if(0!==p.pendingWrites)return[];const k=[],U=new Set;for(const{fbase_key:_e,value:Ve}of b)U.add(_e),JSON.stringify(p.localCache[_e])!==JSON.stringify(Ve)&&(p.notifyListeners(_e,Ve),k.push(_e));for(const _e of Object.keys(p.localCache))p.localCache[_e]&&!U.has(_e)&&(p.notifyListeners(_e,null),k.push(_e));return k})()}notifyListeners(p,b){this.localCache[p]=b;const k=this.listeners[p];if(k)for(const U of Array.from(k))U(b)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,E.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})();function ks(g,u){return $t(g,"POST","/v2/accounts/mfaSignIn:start",pt(g,u))}function wo(){return(wo=(0,E.Z)(function*(g){return(yield $t(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ms(g){return new Promise((u,p)=>{const b=document.createElement("script");b.setAttribute("src",g),b.onload=u,b.onerror=k=>{const U=ke("internal-error");U.customData=k,p(U)},b.type="text/javascript",b.charset="UTF-8",function al(){var g,u;return null!==(u=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==u?u:document}().appendChild(b)})}function Ho(g){return`__${g}${Math.floor(1e6*Math.random())}`}const rn=1e12;class na{constructor(u){this.auth=u,this.counter=rn,this._widgets=new Map}render(u,p){const b=this.counter;return this._widgets.set(b,new $r(u,this.auth.name,p||{})),this.counter++,b}reset(u){var p;const b=u||rn;null===(p=this._widgets.get(b))||void 0===p||p.delete(),this._widgets.delete(b)}getResponse(u){var p;return(null===(p=this._widgets.get(u||rn))||void 0===p?void 0:p.getResponse())||""}execute(u){var p=this;return(0,E.Z)(function*(){var b;return null===(b=p._widgets.get(u||rn))||void 0===b||b.execute(),""})()}}class $r{constructor(u,p,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof u?document.getElementById(u):u;ee(k,"argument-error",{appName:p}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bl(g){const u=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<g;b++)u.push(p.charAt(Math.floor(Math.random()*p.length)));return u.join("")}(50);const{callback:u,"expired-callback":p}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Uo=Ho("rcb"),_s=new Ot(3e4,6e4);class vs{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Wn().grecaptcha)||void 0===u||!u.render)}load(u,p=""){return ee(function ao(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(p),u,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Wn().grecaptcha):new Promise((b,k)=>{const U=Wn().setTimeout(()=>{k(ke(u,"network-request-failed"))},_s.get());Wn()[Uo]=()=>{Wn().clearTimeout(U),delete Wn()[Uo];const Ve=Wn().grecaptcha;if(!Ve)return void k(ke(u,"internal-error"));const ut=Ve.render;Ve.render=(Mt,Qt)=>{const Ht=ut(Mt,Qt);return this.counter++,Ht},this.hostLanguage=p,b(Ve)},ms(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Uo,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(U),k(ke(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var p;return!(null===(p=Wn().grecaptcha)||void 0===p||!p.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yc{load(u){return(0,E.Z)(function*(){return new na(u)})()}clearedOneInstance(){}}const Ia="recaptcha",zi={theme:"light",type:"image"};class lo{constructor(u,p=Object.assign({},zi),b){this.parameters=p,this.type=Ia,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wn(b),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof u?document.getElementById(u):u;ee(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yc:new vs,this.validateStartingState()}verify(){var u=this;return(0,E.Z)(function*(){u.assertNotDestroyed();const p=yield u.render(),b=u.getAssertedRecaptcha();return b.getResponse(p)||new Promise(U=>{const _e=Ve=>{!Ve||(u.tokenChangeListeners.delete(_e),U(Ve))};u.tokenChangeListeners.add(_e),u.isInvisible&&b.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return p=>{if(this.tokenChangeListeners.forEach(b=>b(p)),"function"==typeof u)u(p);else if("string"==typeof u){const b=Wn()[u];"function"==typeof b&&b(p)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,E.Z)(function*(){if(yield u.init(),!u.widgetId){let p=u.container;if(!u.isInvisible){const b=document.createElement("div");p.appendChild(b),p=b}u.widgetId=u.getAssertedRecaptcha().render(p,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,E.Z)(function*(){ee(lt()&&!hs(),u.auth,"internal-error"),yield function ia(){let g=null;return new Promise(u=>{"complete"!==document.readyState?(g=()=>u(),window.addEventListener("load",g)):u()}).catch(u=>{throw g&&window.removeEventListener("load",g),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const p=yield function pr(g){return wo.apply(this,arguments)}(u.auth);ee(p,u.auth,"internal-error"),u.parameters.sitekey=p})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Io{constructor(u,p){this.verificationId=u,this.onConfirmation=p}confirm(u){const p=lr._fromVerification(this.verificationId,u);return this.onConfirmation(p)}}function y(){return(y=(0,E.Z)(function*(g,u,p){const b=wn(g),k=yield W(b,u,(0,j.m9)(p));return new Io(k,U=>Ae(b,U))})).apply(this,arguments)}function T(){return(T=(0,E.Z)(function*(g,u,p){const b=(0,j.m9)(g);yield N(!1,b,"phone");const k=yield W(b.auth,u,(0,j.m9)(p));return new Io(k,U=>Vn(b,U))})).apply(this,arguments)}function L(){return(L=(0,E.Z)(function*(g,u,p){const b=(0,j.m9)(g),k=yield W(b.auth,u,(0,j.m9)(p));return new Io(k,U=>Sn(b,U))})).apply(this,arguments)}function W(g,u,p){return ne.apply(this,arguments)}function ne(){return(ne=(0,E.Z)(function*(g,u,p){var b;const k=yield p.verify();try{let U;if(ee("string"==typeof k,g,"argument-error"),ee(p.type===Ia,g,"argument-error"),U="string"==typeof u?{phoneNumber:u}:u,"session"in U){const _e=U.session;if("phoneNumber"in U)return ee("enroll"===_e.type,g,"internal-error"),(yield Ea(g,{idToken:_e.credential,phoneEnrollmentInfo:{phoneNumber:U.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{ee("signin"===_e.type,g,"internal-error");const Ve=(null===(b=U.multiFactorHint)||void 0===b?void 0:b.uid)||U.multiFactorUid;return ee(Ve,g,"missing-multi-factor-info"),(yield ks(g,{mfaPendingCredential:_e.credential,mfaEnrollmentId:Ve,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:_e}=yield qe(g,{phoneNumber:U.phoneNumber,recaptchaToken:k});return _e}}finally{p._reset()}})).apply(this,arguments)}function _t(){return(_t=(0,E.Z)(function*(g,u){yield no((0,j.m9)(g),u)})).apply(this,arguments)}let ln=(()=>{class g{constructor(p){this.providerId=g.PROVIDER_ID,this.auth=wn(p)}verifyPhoneNumber(p,b){return W(this.auth,p,(0,j.m9)(b))}static credential(p,b){return lr._fromVerification(p,b)}static credentialFromResult(p){return g.credentialFromTaggedObject(p)}static credentialFromError(p){return g.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:b,temporaryProof:k}=p;return b&&k?lr._fromTokenResponse(b,k):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function Nt(g,u){return u?be(u):(ee(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class on extends sr{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Nr(u,this._buildIdpRequest())}_linkToIdToken(u,p){return Nr(u,this._buildIdpRequest(p))}_getReauthenticationResolver(u){return Nr(u,this._buildIdpRequest())}_buildIdpRequest(u){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(p.idToken=u),p}}function ir(g){return se(g.auth,new on(g),g.bypassAuthState)}function Ti(g){const{auth:u,user:p}=g;return ee(p,u,"internal-error"),M(p,new on(g),g.bypassAuthState)}function co(g){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,E.Z)(function*(g){const{auth:u,user:p}=g;return ee(p,u,"internal-error"),no(p,new on(g),g.bypassAuthState)})).apply(this,arguments)}class Fs{constructor(u,p,b,k,U=!1){this.auth=u,this.resolver=b,this.user=k,this.bypassAuthState=U,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var u=this;return new Promise(function(){var p=(0,E.Z)(function*(b,k){u.pendingPromise={resolve:b,reject:k};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(U){u.reject(U)}});return function(b,k){return p.apply(this,arguments)}}())}onAuthEvent(u){var p=this;return(0,E.Z)(function*(){const{urlResponse:b,sessionId:k,postBody:U,tenantId:_e,error:Ve,type:ut}=u;if(Ve)return void p.reject(Ve);const Mt={auth:p.auth,requestUri:b,sessionId:k,tenantId:_e||void 0,postBody:U||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(ut)(Mt))}catch(Qt){p.reject(Qt)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return ir;case"linkViaPopup":case"linkViaRedirect":return co;case"reauthViaPopup":case"reauthViaRedirect":return Ti;default:Ge(this.auth,"internal-error")}}resolve(u){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jo=new Ot(2e3,1e4);function ra(){return(ra=(0,E.Z)(function*(g,u,p){const b=wn(g);tt(g,u,$i);const k=Nt(b,p);return new ou(b,"signInViaPopup",u,k).executeNotNull()})).apply(this,arguments)}function iu(){return(iu=(0,E.Z)(function*(g,u,p){const b=(0,j.m9)(g);tt(b.auth,u,$i);const k=Nt(b.auth,p);return new ou(b.auth,"reauthViaPopup",u,k,b).executeNotNull()})).apply(this,arguments)}function Aa(){return(Aa=(0,E.Z)(function*(g,u,p){const b=(0,j.m9)(g);tt(b.auth,u,$i);const k=Nt(b.auth,p);return new ou(b.auth,"linkViaPopup",u,k,b).executeNotNull()})).apply(this,arguments)}let ou=(()=>{class g extends Fs{constructor(p,b,k,U,_e){super(p,b,U,_e),this.provider=k,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var p=this;return(0,E.Z)(function*(){const b=yield p.execute();return ee(b,p.auth,"internal-error"),b})()}onExecution(){var p=this;return(0,E.Z)(function*(){de(1===p.filter.length,"Popup operations only handle one event");const b=ds();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],b),p.authWindow.associatedEvent=b,p.resolver._originValidation(p.auth).catch(k=>{p.reject(k)}),p.resolver._isIframeWebStorageSupported(p.auth,k=>{k||p.reject(ke(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const p=()=>{var b,k;this.pollId=null!==(k=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,jo.get())};p()}}return g.currentPopupAction=null,g})();const Ls=new Map;class Na extends Fs{constructor(u,p,b=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,b),this.eventId=null}execute(){var u=()=>super.execute,p=this;return(0,E.Z)(function*(){let b=Ls.get(p.auth._key());if(!b){try{const U=(yield function td(g,u){return ys.apply(this,arguments)}(p.resolver,p.auth))?yield u().call(p):null;b=()=>Promise.resolve(U)}catch(k){b=()=>Promise.reject(k)}Ls.set(p.auth._key(),b)}return p.bypassAuthState||Ls.set(p.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(u){var p=()=>super.onAuthEvent,b=this;return(0,E.Z)(function*(){if("signInViaRedirect"===u.type)return p().call(b,u);if("unknown"!==u.type){if(u.eventId){const k=yield b.auth._redirectUserForId(u.eventId);if(k)return b.user=k,p().call(b,u);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,E.Z)(function*(){})()}cleanUp(){}}function ys(){return(ys=(0,E.Z)(function*(g,u){const p=ki(u),b=Dc(g);if(!(yield b._isAvailable()))return!1;const k="true"===(yield b._get(p));return yield b._remove(p),k})).apply(this,arguments)}function bc(g,u){return Go.apply(this,arguments)}function Go(){return(Go=(0,E.Z)(function*(g,u){return Dc(g)._set(ki(u),"true")})).apply(this,arguments)}function oa(g,u){Ls.set(g._key(),u)}function Dc(g){return be(g._redirectPersistence)}function ki(g){return ui("pendingRedirect",g.config.apiKey,g.name)}function I(){return(I=(0,E.Z)(function*(g,u,p){const b=wn(g);tt(g,u,$i);const k=Nt(b,p);return yield bc(k,b),k._openRedirect(b,u,"signInViaRedirect")})).apply(this,arguments)}function Z(){return(Z=(0,E.Z)(function*(g,u,p){const b=(0,j.m9)(g);tt(b.auth,u,$i);const k=Nt(b.auth,p);yield bc(k,b.auth);const U=yield Bt(b);return k._openRedirect(b.auth,u,"reauthViaRedirect",U)})).apply(this,arguments)}function et(){return(et=(0,E.Z)(function*(g,u,p){const b=(0,j.m9)(g);tt(b.auth,u,$i);const k=Nt(b.auth,p);yield N(!1,b,u.providerId),yield bc(k,b.auth);const U=yield Bt(b);return k._openRedirect(b.auth,u,"linkViaRedirect",U)})).apply(this,arguments)}function Lt(){return(Lt=(0,E.Z)(function*(g,u){return yield wn(g)._initializationPromise,cn(g,u,!1)})).apply(this,arguments)}function cn(g,u){return sn.apply(this,arguments)}function sn(){return(sn=(0,E.Z)(function*(g,u,p=!1){const b=wn(g),k=Nt(b,u),_e=yield new Na(b,k,p).execute();return _e&&!p&&(delete _e.user._redirectEventId,yield b._persistUserIfCurrent(_e.user),yield b._setRedirectUser(null,u)),_e})).apply(this,arguments)}function Bt(g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,E.Z)(function*(g){const u=ds(`${g.uid}:::`);return g._redirectEventId=u,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),u})).apply(this,arguments)}class cl{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let p=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(u,b)&&(p=!0,this.sendToConsumer(u,b),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function Oa(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uo(g);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=u,p=!0)),p}sendToConsumer(u,p){var b;if(u.error&&!uo(u)){const k=(null===(b=u.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";p.onError(ke(this.auth,k))}else p.onAuthEvent(u)}isEventForConsumer(u,p){const b=null===p.eventId||!!u.eventId&&u.eventId===p.eventId;return p.filter.includes(u.type)&&b}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ma(u))}saveEventToCache(u){this.cachedEventUids.add(Ma(u)),this.lastProcessedEventTime=Date.now()}}function Ma(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(u=>u).join("-")}function uo({type:g,error:u}){return"unknown"===g&&"auth/no-auth-event"===u?.code}function Hl(g){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,E.Z)(function*(g,u={}){return $t(g,"GET","/v1/projects",u)})).apply(this,arguments)}const Bs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pa=/^https?/;function id(){return(id=(0,E.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:u}=yield Hl(g);for(const p of u)try{if(Pp(p))return}catch{}Ge(g,"unauthorized-domain")})).apply(this,arguments)}function Pp(g){const u=Qe(),{protocol:p,hostname:b}=new URL(u);if(g.startsWith("chrome-extension://")){const _e=new URL(g);return""===_e.hostname&&""===b?"chrome-extension:"===p&&g.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===p&&_e.hostname===b}if(!Pa.test(p))return!1;if(Bs.test(g))return b===g;const k=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(b)}const xp=new Ot(3e4,6e4);function Ec(){const g=Wn().___jsl;if(g?.H)for(const u of Object.keys(g.H))if(g.H[u].r=g.H[u].r||[],g.H[u].L=g.H[u].L||[],g.H[u].r=[...g.H[u].L],g.CP)for(let p=0;p<g.CP.length;p++)g.CP[p]=null}let au=null;function Ah(g){return au=au||function Sh(g){return new Promise((u,p)=>{var b,k,U;function _e(){Ec(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{Ec(),p(ke(g,"network-request-failed"))},timeout:xp.get()})}if(null!==(k=null===(b=Wn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==k&&k.Iframe)u(gapi.iframes.getContext());else{if(null===(U=Wn().gapi)||void 0===U||!U.load){const Ve=Ho("iframefcb");return Wn()[Ve]=()=>{gapi.load?_e():p(ke(g,"network-request-failed"))},ms(`https://apis.google.com/js/api.js?onload=${Ve}`).catch(ut=>p(ut))}_e()}}).catch(u=>{throw au=null,u})}(g),au}const b_=new Ot(5e3,15e3),rd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fp(g){const u=g.config;ee(u.authDomain,g,"auth-domain-config-required");const p=u.emulator?Zt(u,"emulator/auth/iframe"):`https://${g.config.authDomain}/__/auth/iframe`,b={apiKey:u.apiKey,appName:g.name,v:he.SDK_VERSION},k=kp.get(g.config.apiHost);k&&(b.eid=k);const U=g._getFrameworks();return U.length&&(b.fw=U.join(",")),`${p}?${(0,j.xO)(b).slice(1)}`}function Cc(){return Cc=(0,E.Z)(function*(g){const u=yield Ah(g),p=Wn().gapi;return ee(p,g,"internal-error"),u.open({where:document.body,url:Fp(g),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rd,dontclear:!0},b=>new Promise(function(){var k=(0,E.Z)(function*(U,_e){yield b.restyle({setHideOnLeave:!1});const Ve=ke(g,"network-request-failed"),ut=Wn().setTimeout(()=>{_e(Ve)},b_.get());function Mt(){Wn().clearTimeout(ut),U(b)}b.ping(Mt).then(Mt,()=>{_e(Ve)})});return function(U,_e){return k.apply(this,arguments)}}()))}),Cc.apply(this,arguments)}const Ul={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sd{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ad(g,u,p,b,k,U){ee(g.config.authDomain,g,"auth-domain-config-required"),ee(g.config.apiKey,g,"invalid-api-key");const _e={apiKey:g.config.apiKey,appName:g.name,authType:p,redirectUrl:b,v:he.SDK_VERSION,eventId:k};if(u instanceof $i){u.setDefaultLanguage(g.languageCode),_e.providerId=u.providerId||"",(0,j.xb)(u.getCustomParameters())||(_e.customParameters=JSON.stringify(u.getCustomParameters()));for(const[ut,Mt]of Object.entries(U||{}))_e[ut]=Mt}if(u instanceof Er){const ut=u.getScopes().filter(Mt=>""!==Mt);ut.length>0&&(_e.scopes=ut.join(","))}g.tenantId&&(_e.tid=g.tenantId);const Ve=_e;for(const ut of Object.keys(Ve))void 0===Ve[ut]&&delete Ve[ut];return`${function jp({config:g}){return g.emulator?Zt(g,"emulator/auth/handler"):`https://${g.authDomain}/__/auth/handler`}(g)}?${(0,j.xO)(Ve).slice(1)}`}const Oh="webStorageSupport";class jl extends class ul{constructor(u){this.factorId=u}_process(u,p,b){switch(p.type){case"enroll":return this._finalizeEnroll(u,p.credential,b);case"signin":return this._finalizeSignIn(u,p.credential);default:return $e("unexpected MultiFactorSessionType")}}}{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new jl(u)}_finalizeEnroll(u,p,b){return function Ml(g,u){return $t(g,"POST","/v2/accounts/mfaEnrollment:finalize",pt(g,u))}(u,{idToken:p,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,p){return function gs(g,u){return $t(g,"POST","/v2/accounts/mfaSignIn:finalize",pt(g,u))}(u,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $p=(()=>{class g{constructor(){}static assertion(p){return jl._fromCredential(p)}}return g.FACTOR_ID="phone",g})();var Wp="@firebase/auth";class sb{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var p=this;return(0,E.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const p=this.auth.onIdTokenChanged(b=>{var k;u((null===(k=b)||void 0===k?void 0:k.stsTokenManager.accessToken)||null)});this.internalListeners.set(u,p),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const p=this.internalListeners.get(u);!p||(this.internalListeners.delete(u),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dl(){return window}function ld(){return(ld=(0,E.Z)(function*(g,u,p){var b;const{BuildInfo:k}=dl();de(u.sessionId,"AuthEvent did not contain a session ID");const U=yield Rh(u.sessionId),_e={};return X()?_e.ibi=k.packageName:ot()?_e.apn=k.packageName:Ge(g,"operation-not-supported-in-this-environment"),k.displayName&&(_e.appDisplayName=k.displayName),_e.sessionId=U,ad(g,p,u.type,void 0,null!==(b=u.eventId)&&void 0!==b?b:void 0,_e)})).apply(this,arguments)}function cd(){return(cd=(0,E.Z)(function*(g){const{BuildInfo:u}=dl(),p={};X()?p.iosBundleId=u.packageName:ot()?p.androidPackageName=u.packageName:Ge(g,"operation-not-supported-in-this-environment"),yield Hl(g,p)})).apply(this,arguments)}function $o(){return($o=(0,E.Z)(function*(g,u,p){const{cordova:b}=dl();let k=()=>{};try{yield new Promise((U,_e)=>{let Ve=null;function ut(){var Ht;U();const Li=null===(Ht=b.plugins.browsertab)||void 0===Ht?void 0:Ht.close;"function"==typeof Li&&Li(),"function"==typeof p?.close&&p.close()}function Mt(){Ve||(Ve=window.setTimeout(()=>{_e(ke(g,"redirect-cancelled-by-user"))},2e3))}function Qt(){"visible"===document?.visibilityState&&Mt()}u.addPassiveListener(ut),document.addEventListener("resume",Mt,!1),ot()&&document.addEventListener("visibilitychange",Qt,!1),k=()=>{u.removePassiveListener(ut),document.removeEventListener("resume",Mt,!1),document.removeEventListener("visibilitychange",Qt,!1),Ve&&window.clearTimeout(Ve)}})}finally{k()}})).apply(this,arguments)}function Rh(g){return uu.apply(this,arguments)}function uu(){return(uu=(0,E.Z)(function*(g){const u=Ph(g),p=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(p)).map(k=>k.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ph(g){if(de(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(g);const u=new ArrayBuffer(g.length),p=new Uint8Array(u);for(let b=0;b<g.length;b++)p[b]=g.charCodeAt(b);return p}!function lb(g){(0,he._registerComponent)(new Te.wA("auth",(u,{options:p})=>{const b=u.getProvider("app").getImmediate(),k=u.getProvider("heartbeat"),{apiKey:U,authDomain:_e}=b.options;return((Ve,ut)=>{ee(U&&!U.includes(":"),"invalid-api-key",{appName:Ve.name}),ee(!_e?.includes(":"),"argument-error",{appName:Ve.name});const Mt={apiKey:U,authDomain:_e,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fn(g)},Qt=new Xi(Ve,ut,Mt);return function De(g,u){const p=u?.persistence||[],b=(Array.isArray(p)?p:[p]).map(be);u?.errorMap&&g._updateErrorMap(u.errorMap),g._initializeWithPersistence(b,u?.popupRedirectResolver)}(Qt,p),Qt})(b,k)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,p,b)=>{u.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new Te.wA("auth-internal",u=>{const p=wn(u.getProvider("auth").getImmediate());return new sb(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)(Wp,"0.20.5",function ab(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,he.registerVersion)(Wp,"0.20.5","esm2017")}("Browser");class A_ extends cl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(u)),super.onEvent(u)}initialized(){var u=this;return(0,E.Z)(function*(){yield u.initPromise})()}}function du(g){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,E.Z)(function*(g){const u=yield hu()._get(dd(g));return u&&(yield hu()._remove(dd(g))),u})).apply(this,arguments)}function O_(){const g=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const b=Math.floor(Math.random()*u.length);g.push(u.charAt(b))}return g.join("")}function hu(){return be(Do)}function dd(g){return ui("authEvent",g.config.apiKey,g.name)}function fu(g){if(!g?.includes("?"))return{};const[u,...p]=g.split("?");return(0,j.zd)(p.join("?"))}function gu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ke("no-auth-event")}}function hl(){var g;return(null===(g=self?.location)||void 0===g?void 0:g.protocol)||null}function Fh(g=(0,j.z$)()){return!("file:"!==hl()&&"ionic:"!==hl()&&"capacitor:"!==hl()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function rg(){try{const g=self.localStorage,u=ds();if(g)return g.setItem(u,"1"),g.removeItem(u),!function ig(g=(0,j.z$)()){return function tg(){return(0,j.w1)()&&11===document?.documentMode}()||function ng(g=(0,j.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,j.hl)()}catch{return Lh()&&(0,j.hl)()}return!1}function Lh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gl(){return(function kh(){return"http:"===hl()||"https:"===hl()}()||(0,j.ru)()||Fh())&&!function eg(){return(0,j.b$)()||(0,j.UG)()}()&&rg()&&!Lh()}function fd(){return Fh()&&typeof document<"u"}function mu(){return(mu=(0,E.Z)(function*(){return!!fd()&&new Promise(g=>{const u=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),g(!0)})})})).apply(this,arguments)}const Wo={LOCAL:"local",NONE:"none",SESSION:"session"},Ic=ee,Bh="persistence";function ag(g){return pd.apply(this,arguments)}function pd(){return(pd=(0,E.Z)(function*(g){yield g._initializationPromise;const u=Hh(),p=ui(Bh,g.config.apiKey,g.name);u&&u.setItem(p,g._getPersistence())})).apply(this,arguments)}function Hh(){var g;try{return(null===(g=function sg(){return typeof window<"u"?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch{return null}}const lg=ee;class ho{constructor(){this.browserResolver=be(class C_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oo,this._completeRedirectFn=cn,this._overrideRedirectResult=oa}_openPopup(u,p,b,k){var U=this;return(0,E.Z)(function*(){var _e;de(null===(_e=U.eventManagers[u._key()])||void 0===_e?void 0:_e.manager,"_initialize() not called before _openPopup()");const Ve=ad(u,p,b,Qe(),k);return function Vp(g,u,p,b=500,k=600){const U=Math.max((window.screen.availHeight-k)/2,0).toString(),_e=Math.max((window.screen.availWidth-b)/2,0).toString();let Ve="";const ut=Object.assign(Object.assign({},Ul),{width:b.toString(),height:k.toString(),top:U,left:_e}),Mt=(0,j.z$)().toLowerCase();p&&(Ve=di(Mt)?"_blank":p),Mn(Mt)&&(u=u||"http://localhost",ut.scrollbars="yes");const Qt=Object.entries(ut).reduce((Li,[Ii,_u])=>`${Li}${Ii}=${_u},`,"");if(function Ie(g=(0,j.z$)()){var u;return X(g)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(Mt)&&"_self"!==Ve)return function Hp(g,u){const p=document.createElement("a");p.href=g,p.target=u;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(b)}(u||"",Ve),new sd(null);const Ht=window.open(u||"",Ve,Qt);ee(Ht,g,"popup-blocked");try{Ht.focus()}catch{}return new sd(Ht)}(u,Ve,ds())})()}_openRedirect(u,p,b,k){var U=this;return(0,E.Z)(function*(){return yield U._originValidation(u),function ea(g){Wn().location.href=g}(ad(u,p,b,Qe(),k)),new Promise(()=>{})})()}_initialize(u){const p=u._key();if(this.eventManagers[p]){const{manager:k,promise:U}=this.eventManagers[p];return k?Promise.resolve(k):(de(U,"If manager is not set, promise should be"),U)}const b=this.initAndGetManager(u);return this.eventManagers[p]={promise:b},b.catch(()=>{delete this.eventManagers[p]}),b}initAndGetManager(u){var p=this;return(0,E.Z)(function*(){const b=yield function lu(g){return Cc.apply(this,arguments)}(u),k=new cl(u);return b.register("authEvent",U=>(ee(U?.authEvent,u,"invalid-auth-event"),{status:k.onEvent(U.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[u._key()]={manager:k},p.iframes[u._key()]=b,k})()}_isIframeWebStorageSupported(u,p){this.iframes[u._key()].send(Oh,{type:Oh},k=>{var U;const _e=null===(U=k?.[0])||void 0===U?void 0:U[Oh];void 0!==_e&&p(!!_e),Ge(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const p=u._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Ih(g){return id.apply(this,arguments)}(u)),this.originValidationPromises[p]}get _shouldInitProactively(){return bt()||si()||X()}}),this.cordovaResolver=be(class pu{constructor(){this._redirectPersistence=oo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=cn,this._overrideRedirectResult=oa}_initialize(u){var p=this;return(0,E.Z)(function*(){const b=u._key();let k=p.eventManagers.get(b);return k||(k=new A_(u),p.eventManagers.set(b,k),p.attachCallbackListeners(u,k)),k})()}_openPopup(u){Ge(u,"operation-not-supported-in-this-environment")}_openRedirect(u,p,b,k){var U=this;return(0,E.Z)(function*(){!function wc(g){var u,p,b,k,U,_e,Ve,ut,Mt,Qt;const Ht=dl();ee("function"==typeof(null===(u=Ht?.universalLinks)||void 0===u?void 0:u.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(typeof(null===(p=Ht?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(U=null===(k=null===(b=Ht?.cordova)||void 0===b?void 0:b.plugins)||void 0===k?void 0:k.browsertab)||void 0===U?void 0:U.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(ut=null===(Ve=null===(_e=Ht?.cordova)||void 0===_e?void 0:_e.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===ut?void 0:ut.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Qt=null===(Mt=Ht?.cordova)||void 0===Mt?void 0:Mt.InAppBrowser)||void 0===Qt?void 0:Qt.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const _e=yield U._initialize(u);yield _e.initialized(),_e.resetRedirect(),function Vl(){Ls.clear()}(),yield U._originValidation(u);const Ve=function N_(g,u,p=null){return{type:u,eventId:p,urlResponse:null,sessionId:O_(),postBody:null,tenantId:g.tenantId,error:ke(g,"no-auth-event")}}(u,b,k);yield function ud(g,u){return hu()._set(dd(g),u)}(u,Ve);const ut=yield function Kp(g,u,p){return ld.apply(this,arguments)}(u,Ve,p),Mt=yield function cu(g){const{cordova:u}=dl();return new Promise(p=>{u.plugins.browsertab.isAvailable(b=>{let k=null;b?u.plugins.browsertab.openUrl(g):k=u.InAppBrowser.open(g,function q(g=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),p(k)})})}(ut);return function Yp(g,u,p){return $o.apply(this,arguments)}(u,_e,Mt)})()}_isIframeWebStorageSupported(u,p){throw new Error("Method not implemented.")}_originValidation(u){const p=u._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function I_(g){return cd.apply(this,arguments)}(u)),this.originValidationPromises[p]}attachCallbackListeners(u,p){const{universalLinks:b,handleOpenURL:k,BuildInfo:U}=dl(),_e=setTimeout((0,E.Z)(function*(){yield du(u),p.onEvent(gu())}),500),Ve=function(){var Qt=(0,E.Z)(function*(Ht){clearTimeout(_e);const Li=yield du(u);let Ii=null;Li&&Ht?.url&&(Ii=function M_(g,u){var p,b;const k=function qp(g){const u=fu(g),p=u.link?decodeURIComponent(u.link):void 0,b=fu(p).link,k=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return fu(k).link||k||b||p||g}(u);if(k.includes("/__/auth/callback")){const U=fu(k),_e=U.firebaseError?function Zp(g){try{return JSON.parse(g)}catch{return null}}(decodeURIComponent(U.firebaseError)):null,Ve=null===(b=null===(p=_e?.code)||void 0===p?void 0:p.split("auth/"))||void 0===b?void 0:b[1],ut=Ve?ke(Ve):null;return ut?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:ut,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:k,postBody:null}}return null}(Li,Ht.url)),p.onEvent(Ii||gu())});return function(Li){return Qt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,Ve);const ut=k,Mt=`${U.packageName.toLowerCase()}://`;dl().handleOpenURL=function(){var Qt=(0,E.Z)(function*(Ht){if(Ht.toLowerCase().startsWith(Mt)&&Ve({url:Ht}),"function"==typeof ut)try{ut(Ht)}catch(Li){console.error(Li)}});return function(Ht){return Qt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=oo,this._completeRedirectFn=cn,this._overrideRedirectResult=oa}_initialize(u){var p=this;return(0,E.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,p,b,k){var U=this;return(0,E.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._openPopup(u,p,b,k)})()}_openRedirect(u,p,b,k){var U=this;return(0,E.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._openRedirect(u,p,b,k)})()}_isIframeWebStorageSupported(u,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,p)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return fd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,E.Z)(function*(){if(u.underlyingResolver)return;const p=yield function og(){return mu.apply(this,arguments)}();u.underlyingResolver=p?u.cordovaResolver:u.browserResolver})()}}function Uh(g){return g.unwrap()}function md(g){return _d(g)}function _d(g){const{_tokenResponse:u}=g instanceof j.ZR?g.customData:g;if(!u)return null;if(!(g instanceof j.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return ln.credentialFromResult(g);const p=u.providerId;if(!p||"password"===p)return null;let b;switch(p){case"google.com":b=Jr;break;case"facebook.com":b=Qr;break;case"github.com":b=xo;break;case"twitter.com":b=Ts;break;default:const{oauthIdToken:k,oauthAccessToken:U,oauthTokenSecret:_e,pendingToken:Ve,nonce:ut}=u;return U||_e||k||Ve?Ve?p.startsWith("saml.")?Xr._create(p,Ve):xe._fromParams({providerId:p,signInMethod:p,pendingToken:Ve,idToken:k,accessToken:U}):new qr(p).credential({idToken:k,accessToken:U,rawNonce:ut}):null}return g instanceof j.ZR?b.credentialFromError(g):b.credentialFromResult(g)}function wr(g,u){return u.catch(p=>{throw p instanceof j.ZR&&function cg(g,u){var p,b;const k=null===(p=u.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=u)||void 0===b?void 0:b.code))u.resolver=new Gh(g,function gi(g,u){var p;const b=(0,j.m9)(g),k=u;return ee(u.customData.operationType,b,"argument-error"),ee(null===(p=k.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,b,"argument-error"),bo._fromError(b,k)}(g,u));else if(k){const U=_d(u),_e=u;U&&(_e.credential=U,_e.tenantId=k.tenantId||void 0,_e.email=k.email||void 0,_e.phoneNumber=k.phoneNumber||void 0)}}(g,p),p}).then(p=>{const k=p.user;return{operationType:p.operationType,credential:md(p),additionalUserInfo:nu(p),user:aa.getOrCreate(k)}})}function sa(g,u){return vd.apply(this,arguments)}function vd(){return(vd=(0,E.Z)(function*(g,u){const p=yield u;return{verificationId:p.verificationId,confirm:b=>wr(g,p.confirm(b))}})).apply(this,arguments)}class Gh{constructor(u,p){this.resolver=p,this.auth=function jh(g){return g.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return wr(Uh(this.auth),this.resolver.resolveSignIn(u))}}class aa{constructor(u){this._delegate=u,this.multiFactor=function Pl(g){const u=(0,j.m9)(g);return jr.has(u)||jr.set(u,Rl._fromUser(u)),jr.get(u)}(u)}static getOrCreate(u){return aa.USER_MAP.has(u)||aa.USER_MAP.set(u,new aa(u)),aa.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var p=this;return(0,E.Z)(function*(){return wr(p.auth,Vn(p._delegate,u))})()}linkWithPhoneNumber(u,p){var b=this;return(0,E.Z)(function*(){return sa(b.auth,function _(g,u,p){return T.apply(this,arguments)}(b._delegate,u,p))})()}linkWithPopup(u){var p=this;return(0,E.Z)(function*(){return wr(p.auth,function ru(g,u,p){return Aa.apply(this,arguments)}(p._delegate,u,ho))})()}linkWithRedirect(u){var p=this;return(0,E.Z)(function*(){return yield ag(wn(p.auth)),function Ee(g,u,p){return function Le(g,u,p){return et.apply(this,arguments)}(g,u,p)}(p._delegate,u,ho)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var p=this;return(0,E.Z)(function*(){return wr(p.auth,Sn(p._delegate,u))})()}reauthenticateWithPhoneNumber(u,p){return sa(this.auth,function A(g,u,p){return L.apply(this,arguments)}(this._delegate,u,p))}reauthenticateWithPopup(u){return wr(this.auth,function Th(g,u,p){return iu.apply(this,arguments)}(this._delegate,u,ho))}reauthenticateWithRedirect(u){var p=this;return(0,E.Z)(function*(){return yield ag(wn(p.auth)),function O(g,u,p){return function B(g,u,p){return Z.apply(this,arguments)}(g,u,p)}(p._delegate,u,ho)})()}sendEmailVerification(u){return function As(g,u){return Ns.apply(this,arguments)}(this._delegate,u)}unlink(u){var p=this;return(0,E.Z)(function*(){return yield function Ks(g,u){return ko.apply(this,arguments)}(p._delegate,u),p})()}updateEmail(u){return function Qs(g,u){return ls((0,j.m9)(g),u,null)}(this._delegate,u)}updatePassword(u){return function ba(g,u){return ls((0,j.m9)(g),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function je(g,u){return _t.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function ya(g,u){return yo.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,p){return function as(g,u,p){return Fo.apply(this,arguments)}(this._delegate,u,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}aa.USER_MAP=new WeakMap;const Sc=ee;let $h=(()=>{class g{constructor(p,b){if(this.app=p,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:k}=p.options;Sc(k,"invalid-api-key",{appName:p.name}),Sc(k,"invalid-api-key",{appName:p.name});const U=typeof window<"u"?ho:void 0;this._delegate=b.initialize({options:{persistence:R_(k,p.name),popupRedirectResolver:U}}),this._delegate._updateErrorMap(Fe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?aa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,b){!function er(g,u,p){const b=wn(g);ee(b._canInitEmulator,b,"emulator-config-failed"),ee(/^https?:\/\//.test(u),b,"invalid-emulator-scheme");const k=!!p?.disableWarnings,U=qn(u),{host:_e,port:Ve}=function _r(g){const u=qn(g),p=/(\/\/)?([^?#/]+)/.exec(g.substr(u.length));if(!p)return{host:"",port:null};const b=p[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(b);if(k){const U=k[1];return{host:U,port:Gi(b.substr(U.length+1))}}{const[U,_e]=b.split(":");return{host:U,port:Gi(_e)}}}(u);b.config.emulator={url:`${U}//${_e}${null===Ve?"":`:${Ve}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:_e,port:Ve,protocol:U.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function Pi(){function g(){const u=document.createElement("p"),p=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,p,b)}applyActionCode(p){return function ma(g,u){return Ys.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Cl(this._delegate,p)}confirmPasswordReset(p,b){return function vo(g,u,p){return Vr.apply(this,arguments)}(this._delegate,p,b)}createUserWithEmailAndPassword(p,b){var k=this;return(0,E.Z)(function*(){return wr(k._delegate,function qi(g,u,p){return Hr.apply(this,arguments)}(k._delegate,p,b))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Ss(g,u){return ss.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function mc(g,u){return"EMAIL_SIGNIN"===Zr.parseLink(u)?.operation}(0,p)}getRedirectResult(){var p=this;return(0,E.Z)(function*(){Sc(Gl(),p._delegate,"operation-not-supported-in-this-environment");const b=yield function yt(g,u){return Lt.apply(this,arguments)}(p._delegate,ho);return b?wr(p._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function hd(g,u){wn(g)._logFramework(u)}(this._delegate,p)}onAuthStateChanged(p,b,k){const{next:U,error:_e,complete:Ve}=Vs(p,b,k);return this._delegate.onAuthStateChanged(U,_e,Ve)}onIdTokenChanged(p,b,k){const{next:U,error:_e,complete:Ve}=Vs(p,b,k);return this._delegate.onIdTokenChanged(U,_e,Ve)}sendSignInLinkToEmail(p,b){return function rs(g,u,p){return Ur.apply(this,arguments)}(this._delegate,p,b)}sendPasswordResetEmail(p,b){return function ai(g,u,p){return io.apply(this,arguments)}(this._delegate,p,b||void 0)}setPersistence(p){var b=this;return(0,E.Z)(function*(){let k;switch(function Vh(g,u){Ic(Object.values(Wo).includes(u),g,"invalid-persistence-type"),(0,j.b$)()?Ic(u!==Wo.SESSION,g,"unsupported-persistence-type"):(0,j.UG)()?Ic(u===Wo.NONE,g,"unsupported-persistence-type"):Lh()?Ic(u===Wo.NONE||u===Wo.LOCAL&&(0,j.hl)(),g,"unsupported-persistence-type"):Ic(u===Wo.NONE||rg(),g,"unsupported-persistence-type")}(b._delegate,p),p){case Wo.SESSION:k=oo;break;case Wo.LOCAL:k=(yield be(Co)._isAvailable())?Co:Do;break;case Wo.NONE:k=zt;break;default:return Ge("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(k)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return wr(this._delegate,function Jn(g){return is.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return wr(this._delegate,Ae(this._delegate,p))}signInWithCustomToken(p){return wr(this._delegate,function ni(g,u){return Ye.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,b){return wr(this._delegate,function wl(g,u,p){return Ae((0,j.m9)(g),Lr.credential(u,p))}(this._delegate,p,b))}signInWithEmailLink(p,b){return wr(this._delegate,function Xa(g,u,p){return qs.apply(this,arguments)}(this._delegate,p,b))}signInWithPhoneNumber(p,b){return sa(this._delegate,function D(g,u,p){return y.apply(this,arguments)}(this._delegate,p,b))}signInWithPopup(p){var b=this;return(0,E.Z)(function*(){return Sc(Gl(),b._delegate,"operation-not-supported-in-this-environment"),wr(b._delegate,function Sa(g,u,p){return ra.apply(this,arguments)}(b._delegate,p,ho))})()}signInWithRedirect(p){var b=this;return(0,E.Z)(function*(){return Sc(Gl(),b._delegate,"operation-not-supported-in-this-environment"),yield ag(b._delegate),function su(g,u,p){return function nd(g,u,p){return I.apply(this,arguments)}(g,u,p)}(b._delegate,p,ho)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Zs(g,u){return Mr.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=Wo,g})();function Vs(g,u,p){let b=g;"function"!=typeof g&&({next:b,error:u,complete:p}=g);const k=b;return{next:_e=>k(_e&&aa.getOrCreate(_e)),error:u,complete:p}}function R_(g,u){const p=function gd(g,u){const p=Hh();if(!p)return[];const b=ui(Bh,g,u);switch(p.getItem(b)){case Wo.NONE:return[zt];case Wo.LOCAL:return[Co,oo];case Wo.SESSION:return[oo];default:return[]}}(g,u);if(typeof self<"u"&&!p.includes(Co)&&p.push(Co),typeof window<"u")for(const b of[Do,oo])p.includes(b)||p.push(b);return p.includes(zt)||p.push(zt),p}class yd{constructor(){this.providerId="phone",this._delegate=new ln(Uh(d.Z.auth()))}static credential(u,p){return ln.credential(u,p)}verifyPhoneNumber(u,p){return this._delegate.verifyPhoneNumber(u,p)}unwrap(){return this._delegate}}yd.PHONE_SIGN_IN_METHOD=ln.PHONE_SIGN_IN_METHOD,yd.PROVIDER_ID=ln.PROVIDER_ID;const bd=ee;class la{constructor(u,p,b=d.Z.app()){var k;bd(null===(k=b.options)||void 0===k?void 0:k.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new lo(u,p,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fl(g){g.INTERNAL.registerComponent(new Te.wA("auth-compat",u=>{const p=u.getProvider("app-compat").getImmediate(),b=u.getProvider("auth");return new $h(p,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Lr,FacebookAuthProvider:Qr,GithubAuthProvider:xo,GoogleAuthProvider:Jr,OAuthProvider:qr,SAMLAuthProvider:Qn,PhoneAuthProvider:yd,PhoneMultiFactorGenerator:$p,RecaptchaVerifier:la,TwitterAuthProvider:Ts,Auth:$h,AuthCredential:sr,Error:j.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.2.18")}(d.Z)},1135:(mt,Oe,x)=>{x.d(Oe,{X:()=>d});var E=x(7579);class d extends E.x{constructor(he){super(),this._value=he}get value(){return this.getValue()}_subscribe(he){const le=super._subscribe(he);return!le.closed&&he.next(this._value),le}getValue(){const{hasError:he,thrownError:le,_value:me}=this;if(he)throw le;return this._throwIfClosed(),me}next(he){super.next(this._value=he)}}},9751:(mt,Oe,x)=>{x.d(Oe,{y:()=>re});var E=x(930),d=x(727),j=x(8822),he=x(9635),le=x(2416),me=x(576),Te=x(2806);let re=(()=>{class ie{constructor(Ce){Ce&&(this._subscribe=Ce)}lift(Ce){const Fe=new ie;return Fe.source=this,Fe.operator=Ce,Fe}subscribe(Ce,Fe,Ze){const Re=function Y(ie){return ie&&ie instanceof E.Lv||function J(ie){return ie&&(0,me.m)(ie.next)&&(0,me.m)(ie.error)&&(0,me.m)(ie.complete)}(ie)&&(0,d.Nn)(ie)}(Ce)?Ce:new E.Hp(Ce,Fe,Ze);return(0,Te.x)(()=>{const{operator:Pe,source:st}=this;Re.add(Pe?Pe.call(Re,st):st?this._subscribe(Re):this._trySubscribe(Re))}),Re}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(Fe){Ce.error(Fe)}}forEach(Ce,Fe){return new(Fe=Se(Fe))((Ze,Re)=>{const Pe=new E.Hp({next:st=>{try{Ce(st)}catch(ht){Re(ht),Pe.unsubscribe()}},error:Re,complete:Ze});this.subscribe(Pe)})}_subscribe(Ce){var Fe;return null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(Ce)}[j.L](){return this}pipe(...Ce){return(0,he.U)(Ce)(this)}toPromise(Ce){return new(Ce=Se(Ce))((Fe,Ze)=>{let Re;this.subscribe(Pe=>Re=Pe,Pe=>Ze(Pe),()=>Fe(Re))})}}return ie.create=Ne=>new ie(Ne),ie})();function Se(ie){var Ne;return null!==(Ne=ie??le.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(mt,Oe,x)=>{x.d(Oe,{x:()=>Te});var E=x(9751),d=x(727);const he=(0,x(3888).d)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=x(8737),me=x(2806);let Te=(()=>{class Se extends E.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const ie=new re(this,this);return ie.operator=Y,ie}_throwIfClosed(){if(this.closed)throw new he}next(Y){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(Y)}})}error(Y){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:ie}=this;for(;ie.length;)ie.shift().error(Y)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:ie,isStopped:Ne,observers:Ce}=this;return ie||Ne?d.Lc:(this.currentObservers=null,Ce.push(Y),new d.w0(()=>{this.currentObservers=null,(0,le.P)(Ce,Y)}))}_checkFinalizedStatuses(Y){const{hasError:ie,thrownError:Ne,isStopped:Ce}=this;ie?Y.error(Ne):Ce&&Y.complete()}asObservable(){const Y=new E.y;return Y.source=this,Y}}return Se.create=(J,Y)=>new re(J,Y),Se})();class re extends Te{constructor(J,Y){super(),this.destination=J,this.source=Y}next(J){var Y,ie;null===(ie=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===ie||ie.call(Y,J)}error(J){var Y,ie;null===(ie=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===ie||ie.call(Y,J)}complete(){var J,Y;null===(Y=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===Y||Y.call(J)}_subscribe(J){var Y,ie;return null!==(ie=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(J))&&void 0!==ie?ie:d.Lc}}},930:(mt,Oe,x)=>{x.d(Oe,{Hp:()=>Ze,Lv:()=>ie});var E=x(576),d=x(727),j=x(2416),he=x(7849),le=x(5032);const me=Se("C",void 0,void 0);function Se(Ge,ke,Ue){return{kind:Ge,value:ke,error:Ue}}var J=x(3410),Y=x(2806);class ie extends d.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,d.Nn)(ke)&&ke.add(this)):this.destination=ht}static create(ke,Ue,tt){return new Ze(ke,Ue,tt)}next(ke){this.isStopped?st(function re(Ge){return Se("N",Ge,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?st(function Te(Ge){return Se("E",void 0,Ge)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?st(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function Ce(Ge,ke){return Ne.call(Ge,ke)}class Fe{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:Ue}=this;if(Ue.next)try{Ue.next(ke)}catch(tt){Re(tt)}}error(ke){const{partialObserver:Ue}=this;if(Ue.error)try{Ue.error(ke)}catch(tt){Re(tt)}else Re(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(Ue){Re(Ue)}}}class Ze extends ie{constructor(ke,Ue,tt){let rt;if(super(),(0,E.m)(ke)||!ke)rt={next:ke??void 0,error:Ue??void 0,complete:tt??void 0};else{let ee;this&&j.v.useDeprecatedNextContext?(ee=Object.create(ke),ee.unsubscribe=()=>this.unsubscribe(),rt={next:ke.next&&Ce(ke.next,ee),error:ke.error&&Ce(ke.error,ee),complete:ke.complete&&Ce(ke.complete,ee)}):rt=ke}this.destination=new Fe(rt)}}function Re(Ge){j.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Ge):(0,he.h)(Ge)}function st(Ge,ke){const{onStoppedNotification:Ue}=j.v;Ue&&J.z.setTimeout(()=>Ue(Ge,ke))}const ht={closed:!0,next:le.Z,error:function Pe(Ge){throw Ge},complete:le.Z}},727:(mt,Oe,x)=>{x.d(Oe,{Lc:()=>me,w0:()=>le,Nn:()=>Te});var E=x(576);const j=(0,x(3888).d)(Se=>function(Y){Se(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((ie,Ne)=>`${Ne+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var he=x(8737);class le{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Ce of Y)Ce.remove(this);else Y.remove(this);const{initialTeardown:ie}=this;if((0,E.m)(ie))try{ie()}catch(Ce){J=Ce instanceof j?Ce.errors:[Ce]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const Ce of Ne)try{re(Ce)}catch(Fe){J=J??[],Fe instanceof j?J=[...J,...Fe.errors]:J.push(Fe)}}if(J)throw new j(J)}}add(J){var Y;if(J&&J!==this)if(this.closed)re(J);else{if(J instanceof le){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(J)}}_hasParent(J){const{_parentage:Y}=this;return Y===J||Array.isArray(Y)&&Y.includes(J)}_addParent(J){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(J),Y):Y?[Y,J]:J}_removeParent(J){const{_parentage:Y}=this;Y===J?this._parentage=null:Array.isArray(Y)&&(0,he.P)(Y,J)}remove(J){const{_finalizers:Y}=this;Y&&(0,he.P)(Y,J),J instanceof le&&J._removeParent(this)}}le.EMPTY=(()=>{const Se=new le;return Se.closed=!0,Se})();const me=le.EMPTY;function Te(Se){return Se instanceof le||Se&&"closed"in Se&&(0,E.m)(Se.remove)&&(0,E.m)(Se.add)&&(0,E.m)(Se.unsubscribe)}function re(Se){(0,E.m)(Se)?Se():Se.unsubscribe()}},2416:(mt,Oe,x)=>{x.d(Oe,{v:()=>E});const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(mt,Oe,x)=>{x.d(Oe,{a:()=>J});var E=x(9751),d=x(4742),j=x(8996),he=x(4671),le=x(3268),me=x(3269),Te=x(1810),re=x(5403),Se=x(9672);function J(...Ne){const Ce=(0,me.yG)(Ne),Fe=(0,me.jO)(Ne),{args:Ze,keys:Re}=(0,d.D)(Ne);if(0===Ze.length)return(0,j.D)([],Ce);const Pe=new E.y(function Y(Ne,Ce,Fe=he.y){return Ze=>{ie(Ce,()=>{const{length:Re}=Ne,Pe=new Array(Re);let st=Re,ht=Re;for(let Ge=0;Ge<Re;Ge++)ie(Ce,()=>{const ke=(0,j.D)(Ne[Ge],Ce);let Ue=!1;ke.subscribe((0,re.x)(Ze,tt=>{Pe[Ge]=tt,Ue||(Ue=!0,ht--),ht||Ze.next(Fe(Pe.slice()))},()=>{--st||Ze.complete()}))},Ze)},Ze)}}(Ze,Ce,Re?st=>(0,Te.n)(Re,st):he.y));return Fe?Pe.pipe((0,le.Z)(Fe)):Pe}function ie(Ne,Ce,Fe){Ne?(0,Se.f)(Fe,Ne,Ce):Ce()}},7272:(mt,Oe,x)=>{x.d(Oe,{z:()=>le});var E=x(8189),j=x(3269),he=x(8996);function le(...me){return function d(){return(0,E.J)(1)}()((0,he.D)(me,(0,j.yG)(me)))}},515:(mt,Oe,x)=>{x.d(Oe,{E:()=>d});const d=new(x(9751).y)(le=>le.complete())},8996:(mt,Oe,x)=>{x.d(Oe,{D:()=>ke});var E=x(8421),d=x(5363),j=x(9468),me=x(9751),re=x(2202),Se=x(576),J=x(9672);function ie(Ue,tt){if(!Ue)throw new Error("Iterable cannot be null");return new me.y(rt=>{(0,J.f)(rt,tt,()=>{const ee=Ue[Symbol.asyncIterator]();(0,J.f)(rt,tt,()=>{ee.next().then($e=>{$e.done?rt.complete():rt.next($e.value)})},0,!0)})})}var Ne=x(3670),Ce=x(8239),Fe=x(1144),Ze=x(6495),Re=x(2206),Pe=x(4532),st=x(3260);function ke(Ue,tt){return tt?function Ge(Ue,tt){if(null!=Ue){if((0,Ne.c)(Ue))return function he(Ue,tt){return(0,E.Xf)(Ue).pipe((0,j.R)(tt),(0,d.Q)(tt))}(Ue,tt);if((0,Fe.z)(Ue))return function Te(Ue,tt){return new me.y(rt=>{let ee=0;return tt.schedule(function(){ee===Ue.length?rt.complete():(rt.next(Ue[ee++]),rt.closed||this.schedule())})})}(Ue,tt);if((0,Ce.t)(Ue))return function le(Ue,tt){return(0,E.Xf)(Ue).pipe((0,j.R)(tt),(0,d.Q)(tt))}(Ue,tt);if((0,Re.D)(Ue))return ie(Ue,tt);if((0,Ze.T)(Ue))return function Y(Ue,tt){return new me.y(rt=>{let ee;return(0,J.f)(rt,tt,()=>{ee=Ue[re.h](),(0,J.f)(rt,tt,()=>{let $e,de;try{({value:$e,done:de}=ee.next())}catch(ye){return void rt.error(ye)}de?rt.complete():rt.next($e)},0,!0)}),()=>(0,Se.m)(ee?.return)&&ee.return()})}(Ue,tt);if((0,st.L)(Ue))return function ht(Ue,tt){return ie((0,st.Q)(Ue),tt)}(Ue,tt)}throw(0,Pe.z)(Ue)}(Ue,tt):(0,E.Xf)(Ue)}},8421:(mt,Oe,x)=>{x.d(Oe,{Xf:()=>Ne});var E=x(655),d=x(1144),j=x(8239),he=x(9751),le=x(3670),me=x(2206),Te=x(4532),re=x(6495),Se=x(3260),J=x(576),Y=x(7849),ie=x(8822);function Ne(Ge){if(Ge instanceof he.y)return Ge;if(null!=Ge){if((0,le.c)(Ge))return function Ce(Ge){return new he.y(ke=>{const Ue=Ge[ie.L]();if((0,J.m)(Ue.subscribe))return Ue.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,d.z)(Ge))return function Fe(Ge){return new he.y(ke=>{for(let Ue=0;Ue<Ge.length&&!ke.closed;Ue++)ke.next(Ge[Ue]);ke.complete()})}(Ge);if((0,j.t)(Ge))return function Ze(Ge){return new he.y(ke=>{Ge.then(Ue=>{ke.closed||(ke.next(Ue),ke.complete())},Ue=>ke.error(Ue)).then(null,Y.h)})}(Ge);if((0,me.D)(Ge))return Pe(Ge);if((0,re.T)(Ge))return function Re(Ge){return new he.y(ke=>{for(const Ue of Ge)if(ke.next(Ue),ke.closed)return;ke.complete()})}(Ge);if((0,Se.L)(Ge))return function st(Ge){return Pe((0,Se.Q)(Ge))}(Ge)}throw(0,Te.z)(Ge)}function Pe(Ge){return new he.y(ke=>{(function ht(Ge,ke){var Ue,tt,rt,ee;return(0,E.mG)(this,void 0,void 0,function*(){try{for(Ue=(0,E.KL)(Ge);!(tt=yield Ue.next()).done;)if(ke.next(tt.value),ke.closed)return}catch($e){rt={error:$e}}finally{try{tt&&!tt.done&&(ee=Ue.return)&&(yield ee.call(Ue))}finally{if(rt)throw rt.error}}ke.complete()})})(Ge,ke).catch(Ue=>ke.error(Ue))})}},6451:(mt,Oe,x)=>{x.d(Oe,{T:()=>me});var E=x(8189),d=x(8421),j=x(515),he=x(3269),le=x(8996);function me(...Te){const re=(0,he.yG)(Te),Se=(0,he._6)(Te,1/0),J=Te;return J.length?1===J.length?(0,d.Xf)(J[0]):(0,E.J)(Se)((0,le.D)(J,re)):j.E}},9646:(mt,Oe,x)=>{x.d(Oe,{of:()=>j});var E=x(3269),d=x(8996);function j(...he){const le=(0,E.yG)(he);return(0,d.D)(he,le)}},5403:(mt,Oe,x)=>{x.d(Oe,{x:()=>d});var E=x(930);function d(he,le,me,Te,re){return new j(he,le,me,Te,re)}class j extends E.Lv{constructor(le,me,Te,re,Se,J){super(le),this.onFinalize=Se,this.shouldUnsubscribe=J,this._next=me?function(Y){try{me(Y)}catch(ie){le.error(ie)}}:super._next,this._error=re?function(Y){try{re(Y)}catch(ie){le.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(Y){le.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},6590:(mt,Oe,x)=>{x.d(Oe,{d:()=>j});var E=x(4482),d=x(5403);function j(he){return(0,E.e)((le,me)=>{let Te=!1;le.subscribe((0,d.x)(me,re=>{Te=!0,me.next(re)},()=>{Te||me.next(he),me.complete()}))})}},1884:(mt,Oe,x)=>{x.d(Oe,{x:()=>he});var E=x(4671),d=x(4482),j=x(5403);function he(me,Te=E.y){return me=me??le,(0,d.e)((re,Se)=>{let J,Y=!0;re.subscribe((0,j.x)(Se,ie=>{const Ne=Te(ie);(Y||!me(J,Ne))&&(Y=!1,J=Ne,Se.next(ie))}))})}function le(me,Te){return me===Te}},9300:(mt,Oe,x)=>{x.d(Oe,{h:()=>j});var E=x(4482),d=x(5403);function j(he,le){return(0,E.e)((me,Te)=>{let re=0;me.subscribe((0,d.x)(Te,Se=>he.call(le,Se,re++)&&Te.next(Se)))})}},8746:(mt,Oe,x)=>{x.d(Oe,{x:()=>d});var E=x(4482);function d(j){return(0,E.e)((he,le)=>{try{he.subscribe(le)}finally{le.add(j)}})}},590:(mt,Oe,x)=>{x.d(Oe,{P:()=>Te});var E=x(6805),d=x(9300),j=x(5698),he=x(6590),le=x(8068),me=x(4671);function Te(re,Se){const J=arguments.length>=2;return Y=>Y.pipe(re?(0,d.h)((ie,Ne)=>re(ie,Ne,Y)):me.y,(0,j.q)(1),J?(0,he.d)(Se):(0,le.T)(()=>new E.K))}},4004:(mt,Oe,x)=>{x.d(Oe,{U:()=>j});var E=x(4482),d=x(5403);function j(he,le){return(0,E.e)((me,Te)=>{let re=0;me.subscribe((0,d.x)(Te,Se=>{Te.next(he.call(le,Se,re++))}))})}},9718:(mt,Oe,x)=>{x.d(Oe,{h:()=>d});var E=x(4004);function d(j){return(0,E.U)(()=>j)}},8189:(mt,Oe,x)=>{x.d(Oe,{J:()=>j});var E=x(5577),d=x(4671);function j(he=1/0){return(0,E.z)(d.y,he)}},5577:(mt,Oe,x)=>{x.d(Oe,{z:()=>re});var E=x(4004),d=x(8421),j=x(4482),he=x(9672),le=x(5403),Te=x(576);function re(Se,J,Y=1/0){return(0,Te.m)(J)?re((ie,Ne)=>(0,E.U)((Ce,Fe)=>J(ie,Ce,Ne,Fe))((0,d.Xf)(Se(ie,Ne))),Y):("number"==typeof J&&(Y=J),(0,j.e)((ie,Ne)=>function me(Se,J,Y,ie,Ne,Ce,Fe,Ze){const Re=[];let Pe=0,st=0,ht=!1;const Ge=()=>{ht&&!Re.length&&!Pe&&J.complete()},ke=tt=>Pe<ie?Ue(tt):Re.push(tt),Ue=tt=>{Ce&&J.next(tt),Pe++;let rt=!1;(0,d.Xf)(Y(tt,st++)).subscribe((0,le.x)(J,ee=>{Ne?.(ee),Ce?ke(ee):J.next(ee)},()=>{rt=!0},void 0,()=>{if(rt)try{for(Pe--;Re.length&&Pe<ie;){const ee=Re.shift();Fe?(0,he.f)(J,Fe,()=>Ue(ee)):Ue(ee)}Ge()}catch(ee){J.error(ee)}}))};return Se.subscribe((0,le.x)(J,ke,()=>{ht=!0,Ge()})),()=>{Ze?.()}}(ie,Ne,Se,Y)))}},5363:(mt,Oe,x)=>{x.d(Oe,{Q:()=>he});var E=x(9672),d=x(4482),j=x(5403);function he(le,me=0){return(0,d.e)((Te,re)=>{Te.subscribe((0,j.x)(re,Se=>(0,E.f)(re,le,()=>re.next(Se),me),()=>(0,E.f)(re,le,()=>re.complete(),me),Se=>(0,E.f)(re,le,()=>re.error(Se),me)))})}},5026:(mt,Oe,x)=>{x.d(Oe,{R:()=>he});var E=x(4482),d=x(5403);function j(le,me,Te,re,Se){return(J,Y)=>{let ie=Te,Ne=me,Ce=0;J.subscribe((0,d.x)(Y,Fe=>{const Ze=Ce++;Ne=ie?le(Ne,Fe,Ze):(ie=!0,Fe),re&&Y.next(Ne)},Se&&(()=>{ie&&Y.next(Ne),Y.complete()})))}}function he(le,me){return(0,E.e)(j(le,me,arguments.length>=2,!0))}},3099:(mt,Oe,x)=>{x.d(Oe,{B:()=>le});var E=x(8421),d=x(7579),j=x(930),he=x(4482);function le(Te={}){const{connector:re=(()=>new d.x),resetOnError:Se=!0,resetOnComplete:J=!0,resetOnRefCountZero:Y=!0}=Te;return ie=>{let Ne,Ce,Fe,Ze=0,Re=!1,Pe=!1;const st=()=>{Ce?.unsubscribe(),Ce=void 0},ht=()=>{st(),Ne=Fe=void 0,Re=Pe=!1},Ge=()=>{const ke=Ne;ht(),ke?.unsubscribe()};return(0,he.e)((ke,Ue)=>{Ze++,!Pe&&!Re&&st();const tt=Fe=Fe??re();Ue.add(()=>{Ze--,0===Ze&&!Pe&&!Re&&(Ce=me(Ge,Y))}),tt.subscribe(Ue),!Ne&&Ze>0&&(Ne=new j.Hp({next:rt=>tt.next(rt),error:rt=>{Pe=!0,st(),Ce=me(ht,Se,rt),tt.error(rt)},complete:()=>{Re=!0,st(),Ce=me(ht,J),tt.complete()}}),(0,E.Xf)(ke).subscribe(Ne))})(ie)}}function me(Te,re,...Se){if(!0===re)return void Te();if(!1===re)return;const J=new j.Hp({next:()=>{J.unsubscribe(),Te()}});return re(...Se).subscribe(J)}},8675:(mt,Oe,x)=>{x.d(Oe,{O:()=>he});var E=x(7272),d=x(3269),j=x(4482);function he(...le){const me=(0,d.yG)(le);return(0,j.e)((Te,re)=>{(me?(0,E.z)(le,Te,me):(0,E.z)(le,Te)).subscribe(re)})}},9468:(mt,Oe,x)=>{x.d(Oe,{R:()=>d});var E=x(4482);function d(j,he=0){return(0,E.e)((le,me)=>{me.add(j.schedule(()=>le.subscribe(me),he))})}},3900:(mt,Oe,x)=>{x.d(Oe,{w:()=>he});var E=x(8421),d=x(4482),j=x(5403);function he(le,me){return(0,d.e)((Te,re)=>{let Se=null,J=0,Y=!1;const ie=()=>Y&&!Se&&re.complete();Te.subscribe((0,j.x)(re,Ne=>{Se?.unsubscribe();let Ce=0;const Fe=J++;(0,E.Xf)(le(Ne,Fe)).subscribe(Se=(0,j.x)(re,Ze=>re.next(me?me(Ne,Ze,Fe,Ce++):Ze),()=>{Se=null,ie()}))},()=>{Y=!0,ie()}))})}},5698:(mt,Oe,x)=>{x.d(Oe,{q:()=>he});var E=x(515),d=x(4482),j=x(5403);function he(le){return le<=0?()=>E.E:(0,d.e)((me,Te)=>{let re=0;me.subscribe((0,j.x)(Te,Se=>{++re<=le&&(Te.next(Se),le<=re&&Te.complete())}))})}},8505:(mt,Oe,x)=>{x.d(Oe,{b:()=>le});var E=x(576),d=x(4482),j=x(5403),he=x(4671);function le(me,Te,re){const Se=(0,E.m)(me)||Te||re?{next:me,error:Te,complete:re}:me;return Se?(0,d.e)((J,Y)=>{var ie;null===(ie=Se.subscribe)||void 0===ie||ie.call(Se);let Ne=!0;J.subscribe((0,j.x)(Y,Ce=>{var Fe;null===(Fe=Se.next)||void 0===Fe||Fe.call(Se,Ce),Y.next(Ce)},()=>{var Ce;Ne=!1,null===(Ce=Se.complete)||void 0===Ce||Ce.call(Se),Y.complete()},Ce=>{var Fe;Ne=!1,null===(Fe=Se.error)||void 0===Fe||Fe.call(Se,Ce),Y.error(Ce)},()=>{var Ce,Fe;Ne&&(null===(Ce=Se.unsubscribe)||void 0===Ce||Ce.call(Se)),null===(Fe=Se.finalize)||void 0===Fe||Fe.call(Se)}))}):he.y}},8068:(mt,Oe,x)=>{x.d(Oe,{T:()=>he});var E=x(6805),d=x(4482),j=x(5403);function he(me=le){return(0,d.e)((Te,re)=>{let Se=!1;Te.subscribe((0,j.x)(re,J=>{Se=!0,re.next(J)},()=>Se?re.complete():re.error(me())))})}function le(){return new E.K}},4408:(mt,Oe,x)=>{x.d(Oe,{o:()=>le});var E=x(727);class d extends E.w0{constructor(Te,re){super()}schedule(Te,re=0){return this}}const j={setInterval(me,Te,...re){const{delegate:Se}=j;return Se?.setInterval?Se.setInterval(me,Te,...re):setInterval(me,Te,...re)},clearInterval(me){const{delegate:Te}=j;return(Te?.clearInterval||clearInterval)(me)},delegate:void 0};var he=x(8737);class le extends d{constructor(Te,re){super(Te,re),this.scheduler=Te,this.work=re,this.pending=!1}schedule(Te,re=0){if(this.closed)return this;this.state=Te;const Se=this.id,J=this.scheduler;return null!=Se&&(this.id=this.recycleAsyncId(J,Se,re)),this.pending=!0,this.delay=re,this.id=this.id||this.requestAsyncId(J,this.id,re),this}requestAsyncId(Te,re,Se=0){return j.setInterval(Te.flush.bind(Te,this),Se)}recycleAsyncId(Te,re,Se=0){if(null!=Se&&this.delay===Se&&!1===this.pending)return re;j.clearInterval(re)}execute(Te,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Se=this._execute(Te,re);if(Se)return Se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,re){let J,Se=!1;try{this.work(Te)}catch(Y){Se=!0,J=Y||new Error("Scheduled action threw falsy error")}if(Se)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:Te,scheduler:re}=this,{actions:Se}=re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(Se,this),null!=Te&&(this.id=this.recycleAsyncId(re,Te,null)),this.delay=null,super.unsubscribe()}}}},7565:(mt,Oe,x)=>{x.d(Oe,{v:()=>j});var E=x(6063);class d{constructor(le,me=d.now){this.schedulerActionCtor=le,this.now=me}schedule(le,me=0,Te){return new this.schedulerActionCtor(this,le).schedule(Te,me)}}d.now=E.l.now;class j extends d{constructor(le,me=d.now){super(le,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(le){const{actions:me}=this;if(this._active)return void me.push(le);let Te;this._active=!0;do{if(Te=le.execute(le.state,le.delay))break}while(le=me.shift());if(this._active=!1,Te){for(;le=me.shift();)le.unsubscribe();throw Te}}}},4986:(mt,Oe,x)=>{x.d(Oe,{P:()=>he,z:()=>j});var E=x(4408);const j=new(x(7565).v)(E.o),he=j},6063:(mt,Oe,x)=>{x.d(Oe,{l:()=>E});const E={now:()=>(E.delegate||Date).now(),delegate:void 0}},3410:(mt,Oe,x)=>{x.d(Oe,{z:()=>E});const E={setTimeout(d,j,...he){const{delegate:le}=E;return le?.setTimeout?le.setTimeout(d,j,...he):setTimeout(d,j,...he)},clearTimeout(d){const{delegate:j}=E;return(j?.clearTimeout||clearTimeout)(d)},delegate:void 0}},2202:(mt,Oe,x)=>{x.d(Oe,{h:()=>d});const d=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,Oe,x)=>{x.d(Oe,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(mt,Oe,x)=>{x.d(Oe,{K:()=>d});const d=(0,x(3888).d)(j=>function(){j(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(mt,Oe,x)=>{x.d(Oe,{_6:()=>me,jO:()=>he,yG:()=>le});var E=x(576),d=x(3532);function j(Te){return Te[Te.length-1]}function he(Te){return(0,E.m)(j(Te))?Te.pop():void 0}function le(Te){return(0,d.K)(j(Te))?Te.pop():void 0}function me(Te,re){return"number"==typeof j(Te)?Te.pop():re}},4742:(mt,Oe,x)=>{x.d(Oe,{D:()=>le});const{isArray:E}=Array,{getPrototypeOf:d,prototype:j,keys:he}=Object;function le(Te){if(1===Te.length){const re=Te[0];if(E(re))return{args:re,keys:null};if(function me(Te){return Te&&"object"==typeof Te&&d(Te)===j}(re)){const Se=he(re);return{args:Se.map(J=>re[J]),keys:Se}}}return{args:Te,keys:null}}},8737:(mt,Oe,x)=>{function E(d,j){if(d){const he=d.indexOf(j);0<=he&&d.splice(he,1)}}x.d(Oe,{P:()=>E})},3888:(mt,Oe,x)=>{function E(d){const he=d(le=>{Error.call(le),le.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}x.d(Oe,{d:()=>E})},1810:(mt,Oe,x)=>{function E(d,j){return d.reduce((he,le,me)=>(he[le]=j[me],he),{})}x.d(Oe,{n:()=>E})},2806:(mt,Oe,x)=>{x.d(Oe,{O:()=>he,x:()=>j});var E=x(2416);let d=null;function j(le){if(E.v.useDeprecatedSynchronousErrorHandling){const me=!d;if(me&&(d={errorThrown:!1,error:null}),le(),me){const{errorThrown:Te,error:re}=d;if(d=null,Te)throw re}}else le()}function he(le){E.v.useDeprecatedSynchronousErrorHandling&&d&&(d.errorThrown=!0,d.error=le)}},9672:(mt,Oe,x)=>{function E(d,j,he,le=0,me=!1){const Te=j.schedule(function(){he(),me?d.add(this.schedule(null,le)):this.unsubscribe()},le);if(d.add(Te),!me)return Te}x.d(Oe,{f:()=>E})},4671:(mt,Oe,x)=>{function E(d){return d}x.d(Oe,{y:()=>E})},1144:(mt,Oe,x)=>{x.d(Oe,{z:()=>E});const E=d=>d&&"number"==typeof d.length&&"function"!=typeof d},2206:(mt,Oe,x)=>{x.d(Oe,{D:()=>d});var E=x(576);function d(j){return Symbol.asyncIterator&&(0,E.m)(j?.[Symbol.asyncIterator])}},576:(mt,Oe,x)=>{function E(d){return"function"==typeof d}x.d(Oe,{m:()=>E})},3670:(mt,Oe,x)=>{x.d(Oe,{c:()=>j});var E=x(8822),d=x(576);function j(he){return(0,d.m)(he[E.L])}},6495:(mt,Oe,x)=>{x.d(Oe,{T:()=>j});var E=x(2202),d=x(576);function j(he){return(0,d.m)(he?.[E.h])}},8239:(mt,Oe,x)=>{x.d(Oe,{t:()=>d});var E=x(576);function d(j){return(0,E.m)(j?.then)}},3260:(mt,Oe,x)=>{x.d(Oe,{L:()=>he,Q:()=>j});var E=x(655),d=x(576);function j(le){return(0,E.FC)(this,arguments,function*(){const Te=le.getReader();try{for(;;){const{value:re,done:Se}=yield(0,E.qq)(Te.read());if(Se)return yield(0,E.qq)(void 0);yield yield(0,E.qq)(re)}}finally{Te.releaseLock()}})}function he(le){return(0,d.m)(le?.getReader)}},3532:(mt,Oe,x)=>{x.d(Oe,{K:()=>d});var E=x(576);function d(j){return j&&(0,E.m)(j.schedule)}},4482:(mt,Oe,x)=>{x.d(Oe,{A:()=>d,e:()=>j});var E=x(576);function d(he){return(0,E.m)(he?.lift)}function j(he){return le=>{if(d(le))return le.lift(function(me){try{return he(me,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(mt,Oe,x)=>{x.d(Oe,{Z:()=>he});var E=x(4004);const{isArray:d}=Array;function he(le){return(0,E.U)(me=>function j(le,me){return d(me)?le(...me):le(me)}(le,me))}},5032:(mt,Oe,x)=>{function E(){}x.d(Oe,{Z:()=>E})},9635:(mt,Oe,x)=>{x.d(Oe,{U:()=>j,z:()=>d});var E=x(4671);function d(...he){return j(he)}function j(he){return 0===he.length?E.y:1===he.length?he[0]:function(me){return he.reduce((Te,re)=>re(Te),me)}}},7849:(mt,Oe,x)=>{x.d(Oe,{h:()=>j});var E=x(2416),d=x(3410);function j(he){d.z.setTimeout(()=>{const{onUnhandledError:le}=E.v;if(!le)throw he;le(he)})}},4532:(mt,Oe,x)=>{function E(d){return new TypeError(`You provided ${null!==d&&"object"==typeof d?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(Oe,{z:()=>E})},655:(mt,Oe,x)=>{function he(de,ye){var be={};for(var Be in de)Object.prototype.hasOwnProperty.call(de,Be)&&ye.indexOf(Be)<0&&(be[Be]=de[Be]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(Be=Object.getOwnPropertySymbols(de);De<Be.length;De++)ye.indexOf(Be[De])<0&&Object.prototype.propertyIsEnumerable.call(de,Be[De])&&(be[Be[De]]=de[Be[De]])}return be}function re(de,ye,be,Be){return new(be||(be=Promise))(function(Qe,lt){function It(Ot){try{ze(Be.next(Ot))}catch(Zt){lt(Zt)}}function Dt(Ot){try{ze(Be.throw(Ot))}catch(Zt){lt(Zt)}}function ze(Ot){Ot.done?Qe(Ot.value):function De(Qe){return Qe instanceof be?Qe:new be(function(lt){lt(Qe)})}(Ot.value).then(It,Dt)}ze((Be=Be.apply(de,ye||[])).next())})}function Re(de){return this instanceof Re?(this.v=de,this):new Re(de)}function Pe(de,ye,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,Be=be.apply(de,ye||[]),Qe=[];return De={},lt("next"),lt("throw"),lt("return"),De[Symbol.asyncIterator]=function(){return this},De;function lt(Ft){Be[Ft]&&(De[Ft]=function(Rt){return new Promise(function(fn,pt){Qe.push([Ft,Rt,fn,pt])>1||It(Ft,Rt)})})}function It(Ft,Rt){try{!function Dt(Ft){Ft.value instanceof Re?Promise.resolve(Ft.value.v).then(ze,Ot):Zt(Qe[0][2],Ft)}(Be[Ft](Rt))}catch(fn){Zt(Qe[0][3],fn)}}function ze(Ft){It("next",Ft)}function Ot(Ft){It("throw",Ft)}function Zt(Ft,Rt){Ft(Rt),Qe.shift(),Qe.length&&It(Qe[0][0],Qe[0][1])}}function ht(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,ye=de[Symbol.asyncIterator];return ye?ye.call(de):(de=function ie(de){var ye="function"==typeof Symbol&&Symbol.iterator,be=ye&&de[ye],Be=0;if(be)return be.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&Be>=de.length&&(de=void 0),{value:de&&de[Be++],done:!de}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),be={},Be("next"),Be("throw"),Be("return"),be[Symbol.asyncIterator]=function(){return this},be);function Be(Qe){be[Qe]=de[Qe]&&function(lt){return new Promise(function(It,Dt){!function De(Qe,lt,It,Dt){Promise.resolve(Dt).then(function(ze){Qe({value:ze,done:It})},lt)}(It,Dt,(lt=de[Qe](lt)).done,lt.value)})}}}x.d(Oe,{FC:()=>Pe,KL:()=>ht,_T:()=>he,mG:()=>re,qq:()=>Re})},6895:(mt,Oe,x)=>{x.d(Oe,{$G:()=>vr,Do:()=>Ge,EM:()=>to,HT:()=>le,JF:()=>Di,K0:()=>Te,Mx:()=>mo,NF:()=>bi,Nd:()=>Lr,O5:()=>$n,Ov:()=>Tt,PM:()=>_o,S$:()=>Re,V_:()=>J,Ye:()=>ke,b0:()=>ht,bD:()=>Qn,ez:()=>Br,q:()=>j,sg:()=>xi,tP:()=>Po,w_:()=>me});var E=x(4650);let d=null;function j(){return d}function le(N){d||(d=N)}class me{}const Te=new E.OlP("DocumentToken");let re=(()=>{class N{historyGo(M){throw new Error("Not implemented")}}return N.\u0275fac=function(M){return new(M||N)},N.\u0275prov=E.Yz7({token:N,factory:function(){return function Se(){return(0,E.LFG)(Y)}()},providedIn:"platform"}),N})();const J=new E.OlP("Location Initialized");let Y=(()=>{class N extends re{constructor(M){super(),this._doc=M,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(M){const G=j().getGlobalEventTarget(this._doc,"window");return G.addEventListener("popstate",M,!1),()=>G.removeEventListener("popstate",M)}onHashChange(M){const G=j().getGlobalEventTarget(this._doc,"window");return G.addEventListener("hashchange",M,!1),()=>G.removeEventListener("hashchange",M)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(M){this.location.pathname=M}pushState(M,G,se){ie()?this._history.pushState(M,G,se):this.location.hash=se}replaceState(M,G,se){ie()?this._history.replaceState(M,G,se):this.location.hash=se}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return N.\u0275fac=function(M){return new(M||N)(E.LFG(Te))},N.\u0275prov=E.Yz7({token:N,factory:function(){return function Ne(){return new Y((0,E.LFG)(Te))}()},providedIn:"platform"}),N})();function ie(){return!!window.history.pushState}function Ce(N,H){if(0==N.length)return H;if(0==H.length)return N;let M=0;return N.endsWith("/")&&M++,H.startsWith("/")&&M++,2==M?N+H.substring(1):1==M?N+H:N+"/"+H}function Fe(N){const H=N.match(/#|\?|$/),M=H&&H.index||N.length;return N.slice(0,M-("/"===N[M-1]?1:0))+N.slice(M)}function Ze(N){return N&&"?"!==N[0]?"?"+N:N}let Re=(()=>{class N{historyGo(M){throw new Error("Not implemented")}}return N.\u0275fac=function(M){return new(M||N)},N.\u0275prov=E.Yz7({token:N,factory:function(){return function Pe(){const N=(0,E.LFG)(Te).location;return new ht((0,E.LFG)(re),N&&N.origin||"")}()},providedIn:"root"}),N})();const st=new E.OlP("appBaseHref");let ht=(()=>{class N extends Re{constructor(M,G){if(super(),this._platformLocation=M,this._removeListenerFns=[],null==G&&(G=this._platformLocation.getBaseHrefFromDOM()),null==G)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=G}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return Ce(this._baseHref,M)}path(M=!1){const G=this._platformLocation.pathname+Ze(this._platformLocation.search),se=this._platformLocation.hash;return se&&M?`${G}${se}`:G}pushState(M,G,se,He){const Ae=this.prepareExternalUrl(se+Ze(He));this._platformLocation.pushState(M,G,Ae)}replaceState(M,G,se,He){const Ae=this.prepareExternalUrl(se+Ze(He));this._platformLocation.replaceState(M,G,Ae)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return N.\u0275fac=function(M){return new(M||N)(E.LFG(re),E.LFG(st,8))},N.\u0275prov=E.Yz7({token:N,factory:N.\u0275fac}),N})(),Ge=(()=>{class N extends Re{constructor(M,G){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=G&&(this._baseHref=G)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let G=this._platformLocation.hash;return null==G&&(G="#"),G.length>0?G.substring(1):G}prepareExternalUrl(M){const G=Ce(this._baseHref,M);return G.length>0?"#"+G:G}pushState(M,G,se,He){let Ae=this.prepareExternalUrl(se+Ze(He));0==Ae.length&&(Ae=this._platformLocation.pathname),this._platformLocation.pushState(M,G,Ae)}replaceState(M,G,se,He){let Ae=this.prepareExternalUrl(se+Ze(He));0==Ae.length&&(Ae=this._platformLocation.pathname),this._platformLocation.replaceState(M,G,Ae)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return N.\u0275fac=function(M){return new(M||N)(E.LFG(re),E.LFG(st,8))},N.\u0275prov=E.Yz7({token:N,factory:N.\u0275fac}),N})(),ke=(()=>{class N{constructor(M){this._subject=new E.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const G=this._locationStrategy.getBaseHref();this._baseHref=Fe(rt(G)),this._locationStrategy.onPopState(se=>{this._subject.emit({url:this.path(!0),pop:!0,state:se.state,type:se.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,G=""){return this.path()==this.normalize(M+Ze(G))}normalize(M){return N.stripTrailingSlash(function tt(N,H){return N&&H.startsWith(N)?H.substring(N.length):H}(this._baseHref,rt(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,G="",se=null){this._locationStrategy.pushState(se,"",M,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ze(G)),se)}replaceState(M,G="",se=null){this._locationStrategy.replaceState(se,"",M,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ze(G)),se)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(G=>{this._notifyUrlChangeListeners(G.url,G.state)})),()=>{const G=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(G,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",G){this._urlChangeListeners.forEach(se=>se(M,G))}subscribe(M,G,se){return this._subject.subscribe({next:M,error:G,complete:se})}}return N.normalizeQueryParams=Ze,N.joinWithSlash=Ce,N.stripTrailingSlash=Fe,N.\u0275fac=function(M){return new(M||N)(E.LFG(Re))},N.\u0275prov=E.Yz7({token:N,factory:function(){return function Ue(){return new ke((0,E.LFG)(Re))}()},providedIn:"root"}),N})();function rt(N){return N.replace(/\/index.html$/,"")}function mo(N,H){H=encodeURIComponent(H);for(const M of N.split(";")){const G=M.indexOf("="),[se,He]=-1==G?[M,""]:[M.slice(0,G),M.slice(G+1)];if(se.trim()===H)return decodeURIComponent(He)}return null}let vr=(()=>{class N{constructor(M){this._viewContainerRef=M,this.ngComponentOutlet=null}ngOnChanges(M){const{_viewContainerRef:G,ngComponentOutletNgModule:se,ngComponentOutletNgModuleFactory:He}=this;if(G.clear(),this._componentRef=void 0,this.ngComponentOutlet){const Ae=this.ngComponentOutletInjector||G.parentInjector;(M.ngComponentOutletNgModule||M.ngComponentOutletNgModuleFactory)&&(this._moduleRef&&this._moduleRef.destroy(),this._moduleRef=se?(0,E.Lck)(se,yr(Ae)):He?He.create(yr(Ae)):void 0),this._componentRef=G.createComponent(this.ngComponentOutlet,{index:G.length,injector:Ae,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return N.\u0275fac=function(M){return new(M||N)(E.Y36(E.s_b))},N.\u0275dir=E.lG2({type:N,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[E.TTD]}),N})();function yr(N){return N.get(E.h0i).injector}class br{constructor(H,M,G,se){this.$implicit=H,this.ngForOf=M,this.index=G,this.count=se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xi=(()=>{class N{constructor(M,G,se){this._viewContainer=M,this._template=G,this._differs=se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const G=this._viewContainer;M.forEachOperation((se,He,Ae)=>{if(null==se.previousIndex)G.createEmbeddedView(this._template,new br(se.item,this._ngForOf,-1,-1),null===Ae?void 0:Ae);else if(null==Ae)G.remove(null===He?void 0:He);else if(null!==He){const Pt=G.get(He);G.move(Pt,Ae),yn(Pt,se)}});for(let se=0,He=G.length;se<He;se++){const Pt=G.get(se).context;Pt.index=se,Pt.count=He,Pt.ngForOf=this._ngForOf}M.forEachIdentityChange(se=>{yn(G.get(se.currentIndex),se)})}static ngTemplateContextGuard(M,G){return!0}}return N.\u0275fac=function(M){return new(M||N)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36(E.ZZ4))},N.\u0275dir=E.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),N})();function yn(N,H){N.context.$implicit=H.item}let $n=(()=>{class N{constructor(M,G){this._viewContainer=M,this._context=new vi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=G}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){hi("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){hi("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,G){return!0}}return N.\u0275fac=function(M){return new(M||N)(E.Y36(E.s_b),E.Y36(E.Rgc))},N.\u0275dir=E.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),N})();class vi{constructor(){this.$implicit=null,this.ngIf=null}}function hi(N,H){if(H&&!H.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,E.AaK)(H)}'.`)}let Po=(()=>{class N{constructor(M){this._viewContainerRef=M,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(M){if(M.ngTemplateOutlet||M.ngTemplateOutletInjector){const G=this._viewContainerRef;if(this._viewRef&&G.remove(G.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:se,ngTemplateOutletContext:He,ngTemplateOutletInjector:Ae}=this;this._viewRef=G.createEmbeddedView(se,He,Ae?{injector:Ae}:void 0)}else this._viewRef=null}else this._viewRef&&M.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return N.\u0275fac=function(M){return new(M||N)(E.Y36(E.s_b))},N.\u0275dir=E.lG2({type:N,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[E.TTD]}),N})();class ve{createSubscription(H,M){return H.subscribe({next:M,error:G=>{throw G}})}dispose(H){H.unsubscribe()}}class xe{createSubscription(H,M){return H.then(M,G=>{throw G})}dispose(H){}}const qe=new xe,dt=new ve;let Tt=(()=>{class N{constructor(M){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=M}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(M){return this._obj?M!==this._obj?(this._dispose(),this.transform(M)):this._latestValue:(M&&this._subscribe(M),this._latestValue)}_subscribe(M){this._obj=M,this._strategy=this._selectStrategy(M),this._subscription=this._strategy.createSubscription(M,G=>this._updateLatestValue(M,G))}_selectStrategy(M){if((0,E.QGY)(M))return qe;if((0,E.F4k)(M))return dt;throw function ge(N,H){return new E.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(M,G){M===this._obj&&(this._latestValue=G,this._ref.markForCheck())}}return N.\u0275fac=function(M){return new(M||N)(E.Y36(E.sBO,16))},N.\u0275pipe=E.Yjl({name:"async",type:N,pure:!1,standalone:!0}),N})(),Lr=(()=>{class N{constructor(M){this.differs=M,this.keyValues=[],this.compareFn=$i}transform(M,G=$i){if(!M||!(M instanceof Map)&&"object"!=typeof M)return null;this.differ||(this.differ=this.differs.find(M).create());const se=this.differ.diff(M),He=G!==this.compareFn;return se&&(this.keyValues=[],se.forEachItem(Ae=>{this.keyValues.push(function Zi(N,H){return{key:N,value:H}}(Ae.key,Ae.currentValue))})),(se||He)&&(this.keyValues.sort(G),this.compareFn=G),this.keyValues}}return N.\u0275fac=function(M){return new(M||N)(E.Y36(E.aQg,16))},N.\u0275pipe=E.Yjl({name:"keyvalue",type:N,pure:!1,standalone:!0}),N})();function $i(N,H){const M=N.key,G=H.key;if(M===G)return 0;if(void 0===M)return 1;if(void 0===G)return-1;if(null===M)return 1;if(null===G)return-1;if("string"==typeof M&&"string"==typeof G)return M<G?-1:1;if("number"==typeof M&&"number"==typeof G)return M-G;if("boolean"==typeof M&&"boolean"==typeof G)return M<G?-1:1;const se=String(M),He=String(G);return se==He?0:se<He?-1:1}let Br=(()=>{class N{}return N.\u0275fac=function(M){return new(M||N)},N.\u0275mod=E.oAB({type:N}),N.\u0275inj=E.cJS({}),N})();const Qn="browser";function bi(N){return N===Qn}function _o(N){return"server"===N}let to=(()=>{class N{}return N.\u0275prov=(0,E.Yz7)({token:N,providedIn:"root",factory:()=>new fi((0,E.LFG)(Te),window)}),N})();class fi{constructor(H,M){this.document=H,this.window=M,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const M=function ko(N,H){const M=N.getElementById(H)||N.getElementsByName(H)[0];if(M)return M;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const G=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let se=G.currentNode;for(;se;){const He=se.shadowRoot;if(He){const Ae=He.getElementById(H)||He.querySelector(`[name="${H}"]`);if(Ae)return Ae}se=G.nextNode()}}return null}(this.document,H);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(H){if(this.supportScrollRestoration()){const M=this.window.history;M&&M.scrollRestoration&&(M.scrollRestoration=H)}}scrollToElement(H){const M=H.getBoundingClientRect(),G=M.left+this.window.pageXOffset,se=M.top+this.window.pageYOffset,He=this.offset();this.window.scrollTo(G-He[0],se-He[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const H=Ks(this.window.history)||Ks(Object.getPrototypeOf(this.window.history));return!(!H||!H.writable&&!H.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ks(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class Di{}},4650:(mt,Oe,x)=>{x.d(Oe,{$8M:()=>ks,$Z:()=>hv,AFp:()=>B0,ALo:()=>sh,AaK:()=>re,BQk:()=>Hc,CHM:()=>fr,CRH:()=>cc,CZH:()=>Qo,CqO:()=>Cn,D6c:()=>QE,EJc:()=>Cw,EpF:()=>am,F$t:()=>fo,F4k:()=>zn,FYo:()=>Ht,FiY:()=>et,G48:()=>n,Gf:()=>Wm,GfV:()=>Dd,Gpc:()=>Y,Gre:()=>py,Hsn:()=>ty,Ikx:()=>qo,JOm:()=>gl,KtG:()=>cr,LFG:()=>ki,LMc:()=>ob,LSH:()=>hl,Lbi:()=>PE,Lck:()=>Yy,MAs:()=>Qv,MGl:()=>Ao,MMx:()=>lp,NdJ:()=>Ha,O4$:()=>Os,OlP:()=>rn,PXZ:()=>_h,Q6J:()=>Tf,QGY:()=>Xn,QP$:()=>Tr,Qsj:()=>Li,QtT:()=>$y,R0b:()=>Jo,RDi:()=>kp,Rgc:()=>ch,SBq:()=>ut,SDv:()=>eh,Sil:()=>FE,Suo:()=>v0,TTD:()=>$i,TgZ:()=>Wd,Tol:()=>fm,Udp:()=>Pf,VKq:()=>fp,W1O:()=>Qc,WLB:()=>oh,X6Q:()=>ZE,XFs:()=>ft,Xpm:()=>Q,Xts:()=>fd,Y36:()=>Rc,YKP:()=>Ky,YNc:()=>Zv,Yjl:()=>qt,Yz7:()=>Rt,ZZ4:()=>gc,_Bn:()=>zy,_UZ:()=>Af,_Vd:()=>U,_c5:()=>qE,_uU:()=>Uc,aQg:()=>ed,c2e:()=>H0,cJS:()=>pt,cg1:()=>ic,dDg:()=>$E,deG:()=>na,dqk:()=>nt,eFA:()=>d_,ekj:()=>xf,eoX:()=>W0,f3M:()=>nd,g9A:()=>s_,h0i:()=>Kc,hGG:()=>ib,hij:()=>qd,iGM:()=>Dp,ifc:()=>Wt,ip1:()=>L0,kEZ:()=>lc,kL8:()=>Ey,lG2:()=>ui,lcZ:()=>Zu,lqb:()=>sa,lri:()=>G0,n5z:()=>sl,oAB:()=>wt,oxw:()=>Vi,pQV:()=>Fm,q4F:()=>Nc,qLn:()=>Td,qOj:()=>bf,qZA:()=>Sf,rWj:()=>$0,s9C:()=>Kd,sBO:()=>l,sIi:()=>Fc,s_b:()=>yp,soG:()=>Mp,tb:()=>V0,tp0:()=>Lt,uIk:()=>im,vHH:()=>Fe,vpe:()=>za,wAp:()=>Jt,xp6:()=>Zl,ynx:()=>zd,z2F:()=>Op,zSh:()=>jh,zs3:()=>Du});var E=x(7579),d=x(727),j=x(9751),he=x(6451),le=x(3099);function me(i){for(let r in i)if(i[r]===me)return r;throw Error("Could not find renamed property on target object.")}function Te(i,r){for(const o in r)r.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=r[o])}function re(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(re).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const r=i.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Se(i,r){return null==i||""===i?null===r?"":r:null==r||""===r?i:i+" "+r}const J=me({__forward_ref__:me});function Y(i){return i.__forward_ref__=Y,i.toString=function(){return re(this())},i}function ie(i){return Ne(i)?i():i}function Ne(i){return"function"==typeof i&&i.hasOwnProperty(J)&&i.__forward_ref__===Y}class Fe extends Error{constructor(r,o){super(function Ze(i,r){return`NG0${Math.abs(i)}${r?": "+r.trim():""}`}(r,o)),this.code=r}}function Re(i){return"string"==typeof i?i:null==i?"":String(i)}function ke(i,r){throw new Fe(-201,!1)}function ze(i,r,o,a){throw new Error(`ASSERTION ERROR: ${i}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}function Rt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function pt(i){return{providers:i.providers||[],imports:i.imports||[]}}function $t(i){return Yn(i,xn)||Yn(i,ti)}function Yn(i,r){return i.hasOwnProperty(r)?i[r]:null}function An(i){return i&&(i.hasOwnProperty(pi)||i.hasOwnProperty(Gn))?i[pi]:null}const xn=me({\u0275prov:me}),pi=me({\u0275inj:me}),ti=me({ngInjectableDef:me}),Gn=me({ngInjectorDef:me});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let Ut;function gn(i){const r=Ut;return Ut=i,r}function ji(i,r,o){const a=$t(i);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&ft.Optional?null:void 0!==r?r:void ke(re(i))}function Bn(i){return{toString:i}.toString()}var ri=(()=>((ri=ri||{})[ri.OnPush=0]="OnPush",ri[ri.Default=1]="Default",ri))(),Wt=(()=>{return(i=Wt||(Wt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Wt;var i})();const nt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),St={},At=[],Ai=me({\u0275cmp:me}),kn=me({\u0275dir:me}),oi=me({\u0275pipe:me}),pn=me({\u0275mod:me}),Ni=me({\u0275fac:me}),te=me({__NG_ELEMENT_ID__:me});let ae=0;function Q(i){return Bn(()=>{const o=!0===i.standalone,a={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===ri.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||At,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Wt.Emulated,id:"c"+ae++,styles:i.styles||At,_:null,setInput:null,schemas:i.schemas||null,tView:null},h=i.dependencies,m=i.features;return c.inputs=zt(i.inputs,a),c.outputs=zt(i.outputs),m&&m.forEach(C=>C(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(oe).filter(Xe):null,c.pipeDefs=h?()=>("function"==typeof h?h():h).map(si).filter(Xe):null,c})}function oe(i){return Xt(i)||Mn(i)}function Xe(i){return null!==i}const ct={};function wt(i){return Bn(()=>{const r={type:i.type,bootstrap:i.bootstrap||At,declarations:i.declarations||At,imports:i.imports||At,exports:i.exports||At,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(ct[i.id]=i.type),r})}function zt(i,r){if(null==i)return St;const o={};for(const a in i)if(i.hasOwnProperty(a)){let c=i[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=a,r&&(r[c]=h)}return o}const ui=Q;function qt(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Xt(i){return i[Ai]||null}function Mn(i){return i[kn]||null}function si(i){return i[oi]||null}function di(i,r){const o=i[pn]||null;if(!o&&!0===r)throw new Error(`Type ${re(i)} does not have '\u0275mod' property.`);return o}function $n(i){return Array.isArray(i)&&"object"==typeof i[1]}function vi(i){return Array.isArray(i)&&!0===i[1]}function hi(i){return 0!=(8&i.flags)}function tr(i){return 2==(2&i.flags)}function Sr(i){return 1==(1&i.flags)}function Ar(i){return null!==i.template}function Oo(i){return 0!=(256&i[2])}function Zi(i,r){return i.hasOwnProperty(Ni)?i[Ni]:null}class Lr{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function $i(){return Er}function Er(i){return i.type.prototype.ngOnChanges&&(i.setInput=Qr),qr}function qr(){const i=xo(this),r=i?.current;if(r){const o=i.previous;if(o===St)i.previous=r;else for(let a in r)o[a]=r[a];i.current=null,this.ngOnChanges(r)}}function Qr(i,r,o,a){const c=xo(i)||function ws(i,r){return i[Jr]=r}(i,{previous:St,current:null}),h=c.current||(c.current={}),m=c.previous,C=this.declaredInputs[o],w=m[C];h[C]=new Lr(w&&w.currentValue,r,m===St),i[a]=r}$i.ngInherit=!0;const Jr="__ngSimpleChanges__";function xo(i){return i[Jr]||null}function Jn(i){for(;Array.isArray(i);)i=i[0];return i}function to(i,r){return Jn(r[i])}function fi(i,r){return Jn(r[i.index])}function ko(i,r){return i.data[r]}function no(i,r){return i[r]}function Di(i,r){const o=r[i];return $n(o)?o:o[0]}function N(i){return 4==(4&i[2])}function H(i){return 64==(64&i[2])}function G(i,r){return null==r?null:i[r]}function se(i){i[18]=0}function He(i,r){i[5]+=r;let o=i,a=i[3];for(;null!==a&&(1===r&&1===o[5]||-1===r&&0===o[5]);)a[5]+=r,o=a,a=a[3]}const Ae={lFrame:Ms(null),bindingsEnabled:!0};function Ei(){return Ae.bindingsEnabled}function Ye(){return Ae.lFrame.lView}function Kt(){return Ae.lFrame.tView}function fr(i){return Ae.lFrame.contextLView=i,i[8]}function cr(i){return Ae.lFrame.contextLView=null,i}function ai(){let i=io();for(;null!==i&&64===i.type;)i=i.parent;return i}function io(){return Ae.lFrame.currentTNode}function vo(){const i=Ae.lFrame,r=i.currentTNode;return i.isParent?r:r.parent}function Vr(i,r){const o=Ae.lFrame;o.currentTNode=i,o.isParent=r}function ma(){return Ae.lFrame.isParent}function Ys(){Ae.lFrame.isParent=!1}function qi(){const i=Ae.lFrame;let r=i.bindingRootIndex;return-1===r&&(r=i.bindingRootIndex=i.tView.bindingStartIndex),r}function rs(){return Ae.lFrame.bindingIndex++}function Ur(i){const r=Ae.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+i,o}function Xa(i){Ae.lFrame.inI18n=i}function qs(i,r){const o=Ae.lFrame;o.bindingIndex=o.bindingRootIndex=i,os(r)}function os(i){Ae.lFrame.currentDirectiveIndex=i}function ss(){return Ae.lFrame.currentQueryIndex}function As(i){Ae.lFrame.currentQueryIndex=i}function Ns(i){const r=i[1];return 2===r.type?r.declTNode:1===r.type?i[6]:null}function as(i,r,o){if(o&ft.SkipSelf){let c=r,h=i;for(;!(c=c.parent,null!==c||o&ft.Host||(c=Ns(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;r=c,i=h}const a=Ae.lFrame=va();return a.currentTNode=r,a.lView=i,!0}function Fo(i){const r=va(),o=i[1];Ae.lFrame=r,r.currentTNode=o.firstChild,r.lView=i,r.tView=o,r.contextLView=i,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function va(){const i=Ae.lFrame,r=null===i?null:i.child;return null===r?Ms(i):r}function Ms(i){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=r),r}function ya(){const i=Ae.lFrame;return Ae.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const yo=ya;function Qs(){const i=ya();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ci(){return Ae.lFrame.selectedIndex}function ro(i){Ae.lFrame.selectedIndex=i}function Rn(){const i=Ae.lFrame;return ko(i.tView,i.selectedIndex)}function Os(){Ae.lFrame.currentNamespace="svg"}function cs(i,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const h=i.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:C,ngAfterViewInit:w,ngAfterViewChecked:P,ngOnDestroy:V}=h;m&&(i.contentHooks||(i.contentHooks=[])).push(-o,m),C&&((i.contentHooks||(i.contentHooks=[])).push(o,C),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,C)),w&&(i.viewHooks||(i.viewHooks=[])).push(-o,w),P&&((i.viewHooks||(i.viewHooks=[])).push(o,P),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,P)),null!=V&&(i.destroyHooks||(i.destroyHooks=[])).push(o,V)}}function Al(i,r,o){Ps(i,r,3,o)}function Rs(i,r,o,a){(3&i[2])===o&&Ps(i,r,o,a)}function Nl(i,r){let o=i[2];(3&o)===r&&(o&=2047,o+=1,i[2]=o)}function Ps(i,r,o,a){const h=a??-1,m=r.length-1;let C=0;for(let w=void 0!==a?65535&i[18]:0;w<m;w++)if("number"==typeof r[w+1]){if(C=r[w],null!=a&&C>=a)break}else r[w]<0&&(i[18]+=65536),(C<h||-1==h)&&(nl(i,o,r,w),i[18]=(4294901760&i[18])+w+2),w++}function nl(i,r,o,a){const c=o[a]<0,h=o[a+1],C=i[c?-o[a]:o[a]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===r){i[2]+=2048;try{h.call(C)}finally{}}}else try{h.call(C)}finally{}}class Da{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function jr(i,r,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const h=o[a++],m=o[a++],C=o[a++];i.setAttribute(r,m,C,h)}else{const h=c,m=o[++a];Bo(h)?i.setProperty(r,h,m):i.setAttribute(r,h,m),a++}}return a}function Pl(i){return 3===i||4===i||6===i}function Bo(i){return 64===i.charCodeAt(0)}function Xs(i,r){if(null!==r&&0!==r.length)if(null===i||0===i.length)i=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?o=c:0===o||il(i,o,c,null,-1===o||2===o?r[++a]:null)}}return i}function il(i,r,o,a,c){let h=0,m=i.length;if(-1===r)m=-1;else for(;h<i.length;){const C=i[h++];if("number"==typeof C){if(C===r){m=-1;break}if(C>r){m=h-1;break}}}for(;h<i.length;){const C=i[h];if("number"==typeof C)break;if(C===o){if(null===a)return void(null!==c&&(i[h+1]=c));if(a===i[h+1])return void(i[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==m&&(i.splice(m,0,r),h=m+1),i.splice(h++,0,o),null!==a&&i.splice(h++,0,a),null!==c&&i.splice(h++,0,c)}function _c(i){return-1!==i}function xs(i){return 32767&i}function Do(i,r){let o=function Cr(i){return i>>16}(i),a=r;for(;o>0;)a=a[15],o--;return a}let xl=!0;function oo(i){const r=xl;return xl=i,r}let Fl=0;const Wn={};function hs(i,r){const o=ta(i,r);if(-1!==o)return o;const a=r[1];a.firstCreatePass&&(i.injectorIndex=r.length,Ca(a.data,i),Ca(r,null),Ca(a.blueprint,null));const c=fs(i,r),h=i.injectorIndex;if(_c(c)){const m=xs(c),C=Do(c,r),w=C[1].data;for(let P=0;P<8;P++)r[h+P]=C[m+P]|w[m+P]}return r[h+8]=c,h}function Ca(i,r){i.push(0,0,0,0,0,0,0,0,r)}function ta(i,r){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===r[i.injectorIndex+8]?-1:i.injectorIndex}function fs(i,r){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,a=null,c=r;for(;null!==c;){if(a=Co(c),null===a)return-1;if(o++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return-1}function Hn(i,r,o){!function ea(i,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(te)&&(a=o[te]),null==a&&(a=o[te]=Fl++);const c=255&a;r.data[i+(c>>5)]|=1<<c}(i,r,o)}function Ta(i,r,o){if(o&ft.Optional)return i;ke()}function wi(i,r,o,a){if(o&ft.Optional&&void 0===a&&(a=null),0==(o&(ft.Self|ft.Host))){const c=i[9],h=gn(void 0);try{return c?c.get(r,a,o&ft.Optional):ji(r,a,o&ft.Optional)}finally{gn(h)}}return Ta(a,0,o)}function ur(i,r,o,a=ft.Default,c){if(null!==i){if(1024&r[2]){const m=function Ll(i,r,o,a,c){let h=i,m=r;for(;null!==h&&null!==m&&1024&m[2]&&!(256&m[2]);){const C=Wi(h,m,o,a|ft.Self,Wn);if(C!==Wn)return C;let w=h.parent;if(!w){const P=m[21];if(P){const V=P.get(o,Wn,a);if(V!==Wn)return V}w=Co(m),m=m[15]}h=w}return c}(i,r,o,a,Wn);if(m!==Wn)return m}const h=Wi(i,r,o,a,Wn);if(h!==Wn)return h}return wi(r,o,a,c)}function Wi(i,r,o,a,c){const h=function so(i){if("string"==typeof i)return i.charCodeAt(0)||0;const r=i.hasOwnProperty(te)?i[te]:void 0;return"number"==typeof r?r>=0?255&r:Vo:r}(o);if("function"==typeof h){if(!as(r,i,a))return a&ft.Host?Ta(c,0,a):wi(r,o,a,c);try{const m=h(a);if(null!=m||a&ft.Optional)return m;ke()}finally{yo()}}else if("number"==typeof h){let m=null,C=ta(i,r),w=-1,P=a&ft.Host?r[16][6]:null;for((-1===C||a&ft.SkipSelf)&&(w=-1===C?fs(i,r):r[C+8],-1!==w&&ol(a,!1)?(m=r[1],C=xs(w),r=Do(w,r)):C=-1);-1!==C;){const V=r[1];if(ps(h,C,V.data)){const $=nr(C,r,o,m,a,P);if($!==Wn)return $}w=r[C+8],-1!==w&&ol(a,r[1].data[C+8]===P)&&ps(h,C,r)?(m=V,C=xs(w),r=Do(w,r)):C=-1}}return c}function nr(i,r,o,a,c,h){const m=r[1],C=m.data[i+8],V=Eo(C,m,o,null==a?tr(C)&&xl:a!=m&&0!=(3&C.type),c&ft.Host&&h===C);return null!==V?Gr(r,m,V,C):Wn}function Eo(i,r,o,a,c){const h=i.providerIndexes,m=r.data,C=1048575&h,w=i.directiveStart,V=h>>20,fe=c?C+V:i.directiveEnd;for(let Me=a?C:C+V;Me<fe;Me++){const Je=m[Me];if(Me<w&&o===Je||Me>=w&&Je.type===o)return Me}if(c){const Me=m[w];if(Me&&Ar(Me)&&Me.type===o)return w}return null}function Gr(i,r,o,a){let c=i[o];const h=r.data;if(function Js(i){return i instanceof Da}(c)){const m=c;m.resolving&&function st(i,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${i}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${i}${o}`)}(function Pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Re(i)}(h[o]));const C=oo(m.canSeeViewProviders);m.resolving=!0;const w=m.injectImpl?gn(m.injectImpl):null;as(i,a,ft.Default);try{c=i[o]=m.factory(void 0,h,i,a),r.firstCreatePass&&o>=a.directiveStart&&function nu(i,r,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=r.type.prototype;if(a){const m=Er(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,m)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,c),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,h))}(o,h[o],r)}finally{null!==w&&gn(w),oo(C),m.resolving=!1,yo()}}return c}function ps(i,r,o){return!!(o[r+(i>>5)]&1<<i)}function ol(i,r){return!(i&ft.Self||i&ft.Host&&r)}class Or{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return ur(this._tNode,this._lView,r,a,o)}}function Vo(){return new Or(ai(),Ye())}function sl(i){return Bn(()=>{const r=i.prototype.constructor,o=r[Ni]||Rr(r),a=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==a;){const h=c[Ni]||Rr(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Rr(i){return Ne(i)?()=>{const r=Rr(ie(i));return r&&r()}:Zi(i)}function Co(i){const r=i[1],o=r.type;return 2===o?r.declTNode:1===o?i[6]:null}function ks(i){return function wa(i,r){if("class"===r)return i.classes;if("style"===r)return i.styles;const o=i.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const h=o[c];if(Pl(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(h===r)return o[c+1];c+=2}}}return null}(ai(),i)}const pr="__parameters__";function Ho(i,r,o){return Bn(()=>{const a=function ms(i){return function(...o){if(i){const a=i(...o);for(const c in a)this[c]=a[c]}}}(r);function c(...h){if(this instanceof c)return a.apply(this,h),this;const m=new c(...h);return C.annotation=m,C;function C(w,P,V){const $=w.hasOwnProperty(pr)?w[pr]:Object.defineProperty(w,pr,{value:[]})[pr];for(;$.length<=V;)$.push(null);return($[V]=$[V]||[]).push(m),w}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class rn{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Rt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const na=new rn("AnalyzeForEntryComponents");function y(i,r){void 0===r&&(r=i);for(let o=0;o<i.length;o++){let a=i[o];Array.isArray(a)?(r===i&&(r=i.slice(0,o)),y(a,r)):r!==i&&r.push(a)}return r}function _(i,r){i.forEach(o=>Array.isArray(o)?_(o,r):r(o))}function T(i,r,o){r>=i.length?i.push(o):i.splice(r,0,o)}function A(i,r){return r>=i.length-1?i.pop():i.splice(r,1)[0]}function L(i,r){const o=[];for(let a=0;a<i;a++)o.push(r);return o}function on(i,r,o){let a=Ti(i,r);return a>=0?i[1|a]=o:(a=~a,function je(i,r,o,a){let c=i.length;if(c==r)i.push(o,a);else if(1===c)i.push(a,i[0]),i[0]=o;else{for(c--,i.push(i[c-1],i[c]);c>r;)i[c]=i[c-2],c--;i[r]=o,i[r+1]=a}}(i,a,r,o)),a}function ir(i,r){const o=Ti(i,r);if(o>=0)return i[1|o]}function Ti(i,r){return function Qi(i,r,o){let a=0,c=i.length>>o;for(;c!==a;){const h=a+(c-a>>1),m=i[h<<o];if(r===m)return h<<o;m>r?c=h:a=h+1}return~(c<<o)}(i,r,1)}const Pr={},Ls="__NG_DI_FLAG__",Na="ngTempTokenPath",ys=/\n/gm,Go="__source";let Vl;function oa(i){const r=Vl;return Vl=i,r}function Dc(i,r=ft.Default){if(void 0===Vl)throw new Fe(-203,!1);return null===Vl?ji(i,void 0,r):Vl.get(i,r&ft.Optional?null:void 0,r)}function ki(i,r=ft.Default){return(function nn(){return Ut}()||Dc)(ie(i),r)}function nd(i,r=ft.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),ki(i,r)}function I(i){const r=[];for(let o=0;o<i.length;o++){const a=ie(i[o]);if(Array.isArray(a)){if(0===a.length)throw new Fe(900,!1);let c,h=ft.Default;for(let m=0;m<a.length;m++){const C=a[m],w=B(C);"number"==typeof w?-1===w?c=C.token:h|=w:c=C}r.push(ki(c,h))}else r.push(ki(a))}return r}function O(i,r){return i[Ls]=r,i.prototype[Ls]=r,i}function B(i){return i[Ls]}const et=O(Ho("Optional"),8),Lt=O(Ho("SkipSelf"),4);let rd,lu;function kp(i){rd=i}function Ul(i){return function Cc(){if(void 0===lu&&(lu=null,nt.trustedTypes))try{lu=nt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return lu}()?.createHTML(i)||i}class Mh{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ul(i){return i instanceof Mh?i.changingThisBreaksApplicationSecurity:i}class dl{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(Ul(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class T_{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const a=this.inertDocument.createElement("body");o.appendChild(a)}}getInertBodyElement(r){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Ul(r),o;const a=this.inertDocument.createElement("body");return a.innerHTML=Ul(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const o=r.attributes;for(let c=o.length-1;0<c;c--){const m=o.item(c).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&r.removeAttribute(m)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const ld=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,cd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function cu(i){return(i=String(i)).match(ld)||i.match(cd)?i:"unsafe:"+i}function Yp(i){return(i=String(i)).split(",").map(r=>cu(r.trim())).join(", ")}function $o(i){const r={};for(const o of i.split(","))r[o]=!0;return r}function wc(...i){const r={};for(const o of i)for(const a in o)o.hasOwnProperty(a)&&(r[a]=!0);return r}const Rh=$o("area,br,col,hr,img,wbr"),uu=$o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ph=$o("rp,rt"),ud=wc(Rh,wc(uu,$o("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wc(Ph,$o("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wc(Ph,uu)),du=$o("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Tc=$o("srcset"),hu=wc(du,Tc,$o("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$o("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var rr=(()=>((rr=rr||{})[rr.NONE=0]="NONE",rr[rr.HTML=1]="HTML",rr[rr.STYLE=2]="STYLE",rr[rr.SCRIPT=3]="SCRIPT",rr[rr.URL=4]="URL",rr[rr.RESOURCE_URL=5]="RESOURCE_URL",rr))();function hl(i){const r=function Gl(){const i=Ye();return i&&i[12]}();return r?r.sanitize(rr.URL,i)||"":function jl(i,r){const o=function $p(i){return i instanceof Mh&&i.getTypeName()||null}(i);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}(i,"URL")?ul(i):cu(Re(i))}const fd=new rn("ENVIRONMENT_INITIALIZER"),og=new rn("INJECTOR",-1),mu=new rn("INJECTOR_DEF_TYPES");class sg{get(r,o=Pr){if(o===Pr){const a=new Error(`NullInjectorError: No provider for ${re(r)}!`);throw a.name="NullInjectorError",a}return o}}function Wo(...i){return{\u0275providers:Ic(0,i)}}function Ic(i,...r){const o=[],a=new Set;let c;return _(r,h=>{const m=h;Vh(m,o,[],a)&&(c||(c=[]),c.push(m))}),void 0!==c&&Bh(c,o),o}function Bh(i,r){for(let o=0;o<i.length;o++){const{providers:c}=i[o];_(c,h=>{r.push(h)})}}function Vh(i,r,o,a){if(!(i=ie(i)))return!1;let c=null,h=An(i);const m=!h&&Xt(i);if(h||m){if(m&&!m.standalone)return!1;c=i}else{const w=i.ngModule;if(h=An(w),!h)return!1;c=w}const C=a.has(c);if(m){if(C)return!1;if(a.add(c),m.dependencies){const w="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const P of w)Vh(P,r,o,a)}}else{if(!h)return!1;{if(null!=h.imports&&!C){let P;a.add(c);try{_(h.imports,V=>{Vh(V,r,o,a)&&(P||(P=[]),P.push(V))})}finally{}void 0!==P&&Bh(P,r)}if(!C){const P=Zi(c)||(()=>new c);r.push({provide:c,useFactory:P,deps:At},{provide:mu,useValue:c,multi:!0},{provide:fd,useValue:()=>ki(c),multi:!0})}const w=h.providers;null==w||C||_(w,V=>{r.push(V)})}}return c!==i&&void 0!==i.providers}const pd=me({provide:String,useValue:me});function gd(i){return null!==i&&"object"==typeof i&&pd in i}function ho(i){return"function"==typeof i}const jh=new rn("Set Injector scope."),md={},cg={};let _d;function wr(){return void 0===_d&&(_d=new sg),_d}class sa{}class vd extends sa{constructor(r,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ac(r,m=>this.processProvider(m)),this.records.set(og,Vs(void 0,this)),c.has("environment")&&this.records.set(sa,Vs(void 0,this));const h=this.records.get(jh);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(mu.multi,At,ft.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const o=oa(this),a=gn(void 0);try{return r()}finally{oa(o),gn(a)}}get(r,o=Pr,a=ft.Default){this.assertNotDestroyed();const c=oa(this),h=gn(void 0);try{if(!(a&ft.SkipSelf)){let C=this.records.get(r);if(void 0===C){const w=function bd(i){return"function"==typeof i||"object"==typeof i&&i instanceof rn}(r)&&$t(r);C=w&&this.injectableDefInScope(w)?Vs(Gh(r),md):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(a&ft.Self?wr():this.parent).get(r,o=a&ft.Optional&&o===Pr?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Na]=m[Na]||[]).unshift(re(r)),c)throw m;return function Z(i,r,o,a){const c=i[Na];throw r[Go]&&c.unshift(r[Go]),i.message=function Ee(i,r,o,a=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let c=re(r);if(Array.isArray(r))c=r.map(re).join(" -> ");else if("object"==typeof r){let h=[];for(let m in r)if(r.hasOwnProperty(m)){let C=r[m];h.push(m+":"+("string"==typeof C?JSON.stringify(C):re(C)))}c=`{${h.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${i.replace(ys,"\n  ")}`}("\n"+i.message,c,o,a),i.ngTokenPath=c,i[Na]=null,i}(m,r,"R3InjectorError",this.source)}throw m}finally{gn(h),oa(c)}}resolveInjectorInitializers(){const r=oa(this),o=gn(void 0);try{const a=this.get(fd.multi,At,ft.Self);for(const c of a)c()}finally{oa(r),gn(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(re(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processProvider(r){let o=ho(r=ie(r))?r:ie(r&&r.provide);const a=function Sc(i){return gd(i)?Vs(void 0,i.useValue):Vs($h(i),md)}(r);if(ho(r)||!0!==r.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Vs(void 0,md,!0),c.factory=()=>I(c.multi),this.records.set(o,c)),o=r,c.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===md&&(o.value=cg,o.value=o.factory()),"object"==typeof o.value&&o.value&&function yd(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=ie(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Gh(i){const r=$t(i),o=null!==r?r.factory:Zi(i);if(null!==o)return o;if(i instanceof rn)throw new Fe(204,!1);if(i instanceof Function)return function aa(i){const r=i.length;if(r>0)throw L(r,"?"),new Fe(204,!1);const o=function Zn(i){const r=i&&(i[xn]||i[ti]);if(r){const o=function li(i){if(i.hasOwnProperty("name"))return i.name;const r=(""+i).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Fe(204,!1)}function $h(i,r,o){let a;if(ho(i)){const c=ie(i);return Zi(c)||Gh(c)}if(gd(i))a=()=>ie(i.useValue);else if(function lg(i){return!(!i||!i.useFactory)}(i))a=()=>i.useFactory(...I(i.deps||[]));else if(function Hh(i){return!(!i||!i.useExisting)}(i))a=()=>ki(ie(i.useExisting));else{const c=ie(i&&(i.useClass||i.provide));if(!function R_(i){return!!i.deps}(i))return Zi(c)||Gh(c);a=()=>new c(...I(i.deps))}return a}function Vs(i,r,o=!1){return{factory:i,value:r,multi:o?[]:void 0}}function la(i){return!!i.\u0275providers}function Ac(i,r){for(const o of i)Array.isArray(o)?Ac(o,r):la(o)?Ac(o.\u0275providers,r):r(o)}class g{}class k{resolveComponentFactory(r){throw function u(i){const r=Error(`No component factory found for ${re(i)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=i,r}(r)}}let U=(()=>{class i{}return i.NULL=new k,i})();function _e(){return Ve(ai(),Ye())}function Ve(i,r){return new ut(fi(i,r))}let ut=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=_e,i})();function Mt(i){return i instanceof ut?i.nativeElement:i}class Ht{}let Li=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Ii(){const i=Ye(),o=Di(ai().index,i);return($n(o)?o:i)[11]}(),i})(),_u=(()=>{class i{}return i.\u0275prov=Rt({token:i,providedIn:"root",factory:()=>null}),i})();class Dd{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Nc=new Dd("14.1.0"),pl={};function fg(i){return i.ngOriginalError}class Td{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&fg(r);for(;o&&fg(o);)o=fg(o);return o||null}}const db=/^>|^->|<!--|-->|--!>|<!-$/g,hb=/(<|>)/;const B_=new Map;let V_=0;const U_="__ngContext__";function So(i,r){$n(r)?(i[U_]=r[20],function gC(i){B_.set(i[20],i)}(r)):i[U_]=r}function Yh(i){const r=i[U_];return"number"==typeof r?function fb(i){return B_.get(i)||null}(r):r||null}function j_(i){const r=Yh(i);return r?$n(r)?r:r.lView:null}const bb=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(nt))();function Kl(i){return i instanceof Function?i():i}var gl=(()=>((gl=gl||{})[gl.Important=1]="Important",gl[gl.DashCase=2]="DashCase",gl))();let $_;function W_(i,r){return $_(i,r)}function Sd(i){const r=i[3];return vi(r)?r[3]:r}function qh(i){return z_(i[13])}function mg(i){return z_(i[4])}function z_(i){for(;null!==i&&!vi(i);)i=i[4];return i}function vu(i,r,o,a,c){if(null!=a){let h,m=!1;vi(a)?h=a:$n(a)&&(m=!0,a=a[0]);const C=Jn(a);0===i&&null!==o?null==c?Rb(r,o,C):yu(r,o,C,c||null,!0):1===i&&null!==o?yu(r,o,C,c||null,!0):2===i?Vb(r,C,m):3===i&&r.destroyNode(C),null!=h&&function OC(i,r,o,a,c){const h=o[7];h!==Jn(o)&&vu(r,i,a,h,c);for(let C=10;C<o.length;C++){const w=o[C];Jh(w[1],w,i,r,a,h)}}(r,i,h,o,c)}}function _g(i,r){return i.createText(r)}function K_(i,r,o){i.setValue(r,o)}function wb(i,r){return i.createComment(function F_(i){return i.replace(db,r=>r.replace(hb,"\u200b$1\u200b"))}(r))}function vg(i,r,o){return i.createElement(r,o)}function yg(i,r){const o=i[9],a=o.indexOf(r),c=r[3];512&r[2]&&(r[2]&=-513,He(c,-1)),o.splice(a,1)}function bg(i,r){if(i.length<=10)return;const o=10+r,a=i[o];if(a){const c=a[17];null!==c&&c!==i&&yg(c,a),r>0&&(i[o-1][4]=a[4]);const h=A(i,10+r);!function Tb(i,r){Jh(i,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const m=h[19];null!==m&&m.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Mb(i,r){if(!(128&r[2])){const o=r[11];o.destroyNode&&Jh(i,r,o,3,null,null),function Ab(i){let r=i[13];if(!r)return Dg(i[1],i);for(;r;){let o=null;if($n(r))o=r[13];else{const a=r[10];a&&(o=a)}if(!o){for(;r&&!r[4]&&r!==i;)$n(r)&&Dg(r[1],r),r=r[3];null===r&&(r=i),$n(r)&&Dg(r[1],r),o=r&&r[4]}r=o}}(r)}}function Dg(i,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function SC(i,r){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let a=0;a<o.length;a+=2){const c=r[o[a]];if(!(c instanceof Da)){const h=o[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const C=c[h[m]],w=h[m+1];try{w.call(C)}finally{}}else try{h.call(c)}finally{}}}}(i,r),function IC(i,r){const o=i.cleanup,a=r[7];let c=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],C="function"==typeof m?m(r):Jn(r[m]),w=a[c=o[h+2]],P=o[h+3];"boolean"==typeof P?C.removeEventListener(o[h],w,P):P>=0?a[c=P]():a[c=-P].unsubscribe(),h+=2}else{const m=a[c=o[h+1]];o[h].call(m)}if(null!==a){for(let h=c+1;h<a.length;h++)(0,a[h])();r[7]=null}}(i,r),1===r[1].type&&r[11].destroy();const o=r[17];if(null!==o&&vi(r[3])){o!==r[3]&&yg(o,r);const a=r[19];null!==a&&a.detachView(i)}!function pb(i){B_.delete(i[20])}(r)}}function Z_(i,r,o){return Ob(i,r.parent,o)}function Ob(i,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[0];if(2&a.flags){const c=i.data[a.directiveStart].encapsulation;if(c===Wt.None||c===Wt.Emulated)return null}return fi(a,o)}function yu(i,r,o,a,c){i.insertBefore(r,o,a,c)}function Rb(i,r,o){i.appendChild(r,o)}function Pb(i,r,o,a,c){null!==a?yu(i,r,o,a,c):Rb(i,r,o)}function Eg(i,r){return i.parentNode(r)}function xb(i,r,o){return Fb(i,r,o)}function kb(i,r,o){return 40&i.type?fi(i,o):null}let q_,Fb=kb;function Lb(i,r){Fb=i,q_=r}function Cg(i,r,o,a){const c=Z_(i,a,r),h=r[11],C=xb(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(o))for(let w=0;w<o.length;w++)Pb(h,c,o[w],C,!1);else Pb(h,c,o,C,!1);void 0!==q_&&q_(h,a,r,o,c)}function Qh(i,r){if(null!==r){const o=r.type;if(3&o)return fi(r,i);if(4&o)return Q_(-1,i[r.index]);if(8&o){const a=r.child;if(null!==a)return Qh(i,a);{const c=i[r.index];return vi(c)?Q_(-1,c):Jn(c)}}if(32&o)return W_(r,i)()||Jn(i[r.index]);{const a=Bb(i,r);return null!==a?Array.isArray(a)?a[0]:Qh(Sd(i[16]),a):Qh(i,r.next)}}return null}function Bb(i,r){return null!==r?i[16][6].projection[r.projection]:null}function Q_(i,r){const o=10+i+1;if(o<r.length){const a=r[o],c=a[1].firstChild;if(null!==c)return Qh(a,c)}return r[7]}function Vb(i,r,o){const a=Eg(i,r);a&&function AC(i,r,o,a){i.removeChild(r,o,a)}(i,a,r,o)}function J_(i,r,o,a,c,h,m){for(;null!=o;){const C=a[o.index],w=o.type;if(m&&0===r&&(C&&So(Jn(C),a),o.flags|=4),64!=(64&o.flags))if(8&w)J_(i,r,o.child,a,c,h,!1),vu(r,i,c,C,h);else if(32&w){const P=W_(o,a);let V;for(;V=P();)vu(r,i,c,V,h);vu(r,i,c,C,h)}else 16&w?wg(i,r,a,o,c,h):vu(r,i,c,C,h);o=m?o.projectionNext:o.next}}function Jh(i,r,o,a,c,h){J_(o,a,i.firstChild,r,c,h,!1)}function wg(i,r,o,a,c,h){const m=o[16],w=m[6].projection[a.projection];if(Array.isArray(w))for(let P=0;P<w.length;P++)vu(r,i,c,w[P],h);else J_(i,r,w,m[3],c,h,!0)}function Bi(i,r,o){i.setAttribute(r,"style",o)}function Ad(i,r,o){""===o?i.removeAttribute(r,"class"):i.setAttribute(r,"class",o)}function Tg(i,r,o){let a=i.length;for(;;){const c=i.indexOf(r,o);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const h=r.length;if(c+h===a||i.charCodeAt(c+h)<=32)return c}o=c+1}}const ev="ng-template";function Hb(i,r,o){let a=0;for(;a<i.length;){let c=i[a++];if(o&&"class"===c){if(c=i[a],-1!==Tg(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<i.length&&"string"==typeof(c=i[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function Xh(i){return 4===i.type&&i.value!==ev}function RC(i,r,o){return r===(4!==i.type||o?i.value:ev)}function Nd(i,r,o){let a=4;const c=i.attrs||[],h=function jb(i){for(let r=0;r<i.length;r++)if(Pl(i[r]))return r;return i.length}(c);let m=!1;for(let C=0;C<r.length;C++){const w=r[C];if("number"!=typeof w){if(!m)if(4&a){if(a=2|1&a,""!==w&&!RC(i,w,o)||""===w&&1===r.length){if(Ko(a))return!1;m=!0}}else{const P=8&a?w:r[++C];if(8&a&&null!==i.attrs){if(!Hb(i.attrs,P,o)){if(Ko(a))return!1;m=!0}continue}const $=tv(8&a?"class":w,c,Xh(i),o);if(-1===$){if(Ko(a))return!1;m=!0;continue}if(""!==P){let fe;fe=$>h?"":c[$+1].toLowerCase();const Me=8&a?fe:null;if(Me&&-1!==Tg(Me,P,0)||2&a&&P!==fe){if(Ko(a))return!1;m=!0}}}}else{if(!m&&!Ko(a)&&!Ko(w))return!1;if(m&&Ko(w))continue;m=!1,a=w|1&a}}return Ko(a)||m}function Ko(i){return 0==(1&i)}function tv(i,r,o,a){if(null===r)return-1;let c=0;if(a||!o){let h=!1;for(;c<r.length;){const m=r[c];if(m===i)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let C=r[++c];for(;"string"==typeof C;)C=r[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function Gb(i,r){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const a=i[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,i)}function nv(i,r,o=!1){for(let a=0;a<r.length;a++)if(Nd(i,r[a],o))return!0;return!1}function bu(i,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(i.length===a.length){for(let c=0;c<i.length;c++)if(i[c]!==a[c])continue e;return!0}}return!1}function Yl(i,r){return i?":not("+r.trim()+")":r}function Md(i){let r=i[0],o=1,a=2,c="",h=!1;for(;o<i.length;){let m=i[o];if("string"==typeof m)if(2&a){const C=i[++o];c+="["+m+(C.length>0?'="'+C+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!Ko(m)&&(r+=Yl(h,c),c=""),a=m,h=h||!Ko(a);o++}return""!==c&&(r+=Yl(h,c)),r}const un={};function Zl(i){Ig(Kt(),Ye(),Ci()+i,!1)}function Ig(i,r,o,a){if(!a)if(3==(3&r[2])){const h=i.preOrderCheckHooks;null!==h&&Al(r,h,o)}else{const h=i.preOrderHooks;null!==h&&Rs(r,h,0,o)}ro(o)}function Kb(i,r=null,o=null,a){const c=Yb(i,r,o,a);return c.resolveInjectorInitializers(),c}function Yb(i,r=null,o=null,a,c=new Set){const h=[o||At,Wo(i)];return a=a||("object"==typeof i?void 0:re(i)),new vd(h,r||wr(),a||null,c)}let Du=(()=>{class i{static create(o,a){if(Array.isArray(o))return Kb({name:""},a,o,"");{const c=o.name??"";return Kb({name:c},o.parent,o.providers,c)}}}return i.THROW_IF_NOT_FOUND=Pr,i.NULL=new sg,i.\u0275prov=Rt({token:i,providedIn:"any",factory:()=>ki(og)}),i.__NG_ELEMENT_ID__=-1,i})();function Rc(i,r=ft.Default){const o=Ye();return null===o?ki(i,r):ur(ai(),o,ie(i),r)}function hv(){throw new Error("invalid")}function Eu(i,r){return i<<17|r<<2}function ka(i){return i>>17&32767}function Og(i){return 2|i}function Fa(i){return(131068&i)>>2}function sf(i,r){return-131069&i|r<<2}function af(i){return 1|i}function hD(i,r){const o=i.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const c=o[a],h=o[a+1];if(-1!==h){const m=i.data[h];As(c),m.contentQueries(2,r[h],h)}}}function Ug(i,r,o,a,c,h,m,C,w,P,V){const $=r.blueprint.slice();return $[0]=c,$[2]=76|a,(null!==V||i&&1024&i[2])&&($[2]|=1024),se($),$[3]=$[15]=i,$[8]=o,$[10]=m||i&&i[10],$[11]=C||i&&i[11],$[12]=w||i&&i[12]||null,$[9]=P||i&&i[9]||null,$[6]=h,$[20]=function xa(){return V_++}(),$[21]=V,$[16]=2==r.type?i[16]:$,$}function xd(i,r,o,a,c){let h=i.data[r];if(null===h)h=Dv(i,r,o,a,c),function mc(){return Ae.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=a,h.attrs=c;const m=vo();h.injectorIndex=null===m?-1:m.injectorIndex}return Vr(h,!0),h}function Dv(i,r,o,a,c){const h=io(),m=ma(),w=i.data[r]=function Tv(i,r,o,a,c,h){return{type:o,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,r,a,c);return null===i.firstChild&&(i.firstChild=w),null!==h&&(m?null==h.child&&null!==w.parent&&(h.child=w):null===h.next&&(h.next=w)),w}function Cu(i,r,o,a){if(0===o)return-1;const c=r.length;for(let h=0;h<o;h++)r.push(a),i.blueprint.push(a),i.data.push(null);return c}function jg(i,r,o){Fo(r);try{const a=i.viewQuery;null!==a&&qg(1,a,o);const c=i.template;null!==c&&fD(i,r,c,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&hD(i,r),i.staticViewQueries&&qg(2,i.viewQuery,o);const h=i.components;null!==h&&function QC(i,r){for(let o=0;o<r.length;o++)kc(i,r[o])}(r,h)}catch(a){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),a}finally{r[2]&=-5,Qs()}}function uf(i,r,o,a){const c=r[2];if(128!=(128&c)){Fo(r);try{se(r),function wl(i){return Ae.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&fD(i,r,o,2,a);const m=3==(3&c);if(m){const P=i.preOrderCheckHooks;null!==P&&Al(r,P,null)}else{const P=i.preOrderHooks;null!==P&&Rs(r,P,0,null),Nl(r,0)}if(function Rv(i){for(let r=qh(i);null!==r;r=mg(r)){if(!r[2])continue;const o=r[9];for(let a=0;a<o.length;a++){const c=o[a],h=c[3];0==(512&c[2])&&He(h,1),c[2]|=512}}}(r),function Iu(i){for(let r=qh(i);null!==r;r=mg(r))for(let o=10;o<r.length;o++){const a=r[o],c=a[1];H(a)&&uf(c,a,c.template,a[8])}}(r),null!==i.contentQueries&&hD(i,r),m){const P=i.contentCheckHooks;null!==P&&Al(r,P)}else{const P=i.contentHooks;null!==P&&Rs(r,P,1),Nl(r,1)}!function qC(i,r){const o=i.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const c=o[a];if(c<0)ro(~c);else{const h=c,m=o[++a],C=o[++a];qs(m,h),C(2,r[h])}}}finally{ro(-1)}}(i,r);const C=i.components;null!==C&&function bv(i,r){for(let o=0;o<r.length;o++)Pv(i,r[o])}(r,C);const w=i.viewQuery;if(null!==w&&qg(2,w,a),m){const P=i.viewCheckHooks;null!==P&&Al(r,P)}else{const P=i.viewHooks;null!==P&&Rs(r,P,2),Nl(r,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,He(r[3],-1))}finally{Qs()}}}function JC(i,r,o,a){const c=r[10],m=N(r);try{!m&&c.begin&&c.begin(),m&&jg(i,r,a),uf(i,r,o,a)}finally{!m&&c.end&&c.end()}}function fD(i,r,o,a,c){const h=Ci(),m=2&a;try{ro(-1),m&&r.length>22&&Ig(i,r,22,!1),o(a,c)}finally{ro(h)}}function Gg(i,r,o){if(hi(r)){const c=r.directiveEnd;for(let h=r.directiveStart;h<c;h++){const m=i.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}function Ev(i,r,o){!Ei()||(function tw(i,r,o,a){const c=o.directiveStart,h=o.directiveEnd;i.firstCreatePass||hs(o,r),So(a,r);const m=o.initialInputs;for(let C=c;C<h;C++){const w=i.data[C],P=Ar(w);P&&Kg(r,o,w);const V=Gr(r,i,C,o);So(V,r),null!==m&&bD(0,C-c,V,w,0,m),P&&(Di(o.index,r)[8]=V)}}(i,r,o,fi(o,r)),128==(128&o.flags)&&function vD(i,r,o){const a=o.directiveStart,c=o.directiveEnd,h=o.index,m=function Tl(){return Ae.lFrame.currentDirectiveIndex}();try{ro(h);for(let C=a;C<c;C++){const w=i.data[C],P=r[C];os(C),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&wu(w,P)}}finally{ro(-1),os(m)}}(i,r,o))}function Cv(i,r,o=fi){const a=r.localNames;if(null!==a){let c=r.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],C=-1===m?o(r,i):i[m];i[c++]=C}}}function pD(i){const r=i.tView;return null===r||r.incompleteFirstPass?i.tView=wv(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):r}function wv(i,r,o,a,c,h,m,C,w,P){const V=22+a,$=V+c,fe=function XC(i,r){const o=[];for(let a=0;a<r;a++)o.push(a<i?null:un);return o}(V,$),Me="function"==typeof P?P():P;return fe[1]={type:i,blueprint:fe,template:o,queries:null,viewQuery:C,declTNode:r,data:fe.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:Me,incompleteFirstPass:!1}}function gD(i,r,o,a){const c=ec(r);null===o?c.push(a):(c.push(o),i.firstCreatePass&&kv(i).push(a,c.length-1))}function Iv(i,r,o){for(let a in i)if(i.hasOwnProperty(a)){const c=i[a];(o=null===o?{}:o).hasOwnProperty(a)?o[a].push(r,c):o[a]=[r,c]}return o}function Sv(i,r){const a=r.directiveEnd,c=i.data,h=r.attrs,m=[];let C=null,w=null;for(let P=r.directiveStart;P<a;P++){const V=c[P],$=V.inputs,fe=null===h||Xh(r)?null:Ov($,h);m.push(fe),C=Iv($,P,C),w=Iv(V.outputs,P,w)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=16),C.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=m,r.inputs=C,r.outputs=w}function Yo(i,r,o,a,c,h,m,C){const w=fi(r,o);let V,P=r.inputs;!C&&null!=P&&(V=P[a])?(gf(i,o,V,a,c),tr(r)&&Nv(o,r.index)):3&r.type&&(a=function Av(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(a),c=null!=m?m(c,r.value||"",a):c,h.setProperty(w,a,c))}function Nv(i,r){const o=Di(r,i);16&o[2]||(o[2]|=32)}function df(i,r,o,a){let c=!1;if(Ei()){const h=function yD(i,r,o){const a=i.directiveRegistry;let c=null;if(a)for(let h=0;h<a.length;h++){const m=a[h];nv(o,m.selectors,!1)&&(c||(c=[]),Hn(hs(o,r),i,m.type),Ar(m)?(Fd(i,o),c.unshift(m)):c.push(m))}return c}(i,r,o),m=null===a?null:{"":-1};if(null!==h){c=!0,Wg(o,i.data.length,h.length);for(let V=0;V<h.length;V++){const $=h[V];$.providersResolver&&$.providersResolver($)}let C=!1,w=!1,P=Cu(i,r,h.length,null);for(let V=0;V<h.length;V++){const $=h[V];o.mergedAttrs=Xs(o.mergedAttrs,$.hostAttrs),zg(i,o,r,P,$),$g(P,$,m),null!==$.contentQueries&&(o.flags|=8),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(o.flags|=128);const fe=$.type.prototype;!C&&(fe.ngOnChanges||fe.ngOnInit||fe.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),C=!0),!w&&(fe.ngOnChanges||fe.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),w=!0),P++}Sv(i,o)}m&&function K(i,r,o){if(r){const a=i.localNames=[];for(let c=0;c<r.length;c+=2){const h=o[r[c+1]];if(null==h)throw new Fe(-301,!1);a.push(r[c],h)}}}(o,a,m)}return o.mergedAttrs=Xs(o.mergedAttrs,o.attrs),c}function Mv(i,r,o,a,c,h){const m=h.hostBindings;if(m){let C=i.hostBindingOpCodes;null===C&&(C=i.hostBindingOpCodes=[]);const w=~r.index;(function Jl(i){let r=i.length;for(;r>0;){const o=i[--r];if("number"==typeof o&&o<0)return o}return 0})(C)!=w&&C.push(w),C.push(a,c,m)}}function wu(i,r){null!==i.hostBindings&&i.hostBindings(1,r)}function Fd(i,r){r.flags|=2,(i.components||(i.components=[])).push(r.index)}function $g(i,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=i;Ar(r)&&(o[""]=i)}}function Wg(i,r,o){i.flags|=1,i.directiveStart=r,i.directiveEnd=r+o,i.providerIndexes=r}function zg(i,r,o,a,c){i.data[a]=c;const h=c.factory||(c.factory=Zi(c.type)),m=new Da(h,Ar(c),Rc);i.blueprint[a]=m,o[a]=m,Mv(i,r,0,a,Cu(i,o,c.hostVars,un),c)}function Kg(i,r,o){const a=fi(r,i),c=pD(o),h=i[10],m=Ld(i,Ug(i,c,null,o.onPush?32:16,a,r,h,h.createRenderer(a,o),null,null,null));i[r.index]=m}function Yg(i,r,o,a,c,h,m){if(null==h)i.removeAttribute(r,c,o);else{const C=null==m?Re(h):m(h,a||"",c);i.setAttribute(r,c,C,o)}}function bD(i,r,o,a,c,h){const m=h[r];if(null!==m){const C=a.setInput;for(let w=0;w<m.length;){const P=m[w++],V=m[w++],$=m[w++];null!==C?a.setInput(o,$,P,V):o[V]=$}}}function Ov(i,r){let o=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,i[c],r[a+1])),a+=2}else a+=2;else a+=4}return o}function hf(i,r,o,a){return new Array(i,!0,!1,r,null,0,a,o,null,null)}function Pv(i,r){const o=Di(r,i);if(H(o)){const a=o[1];48&o[2]?uf(a,o,a.template,o[8]):o[5]>0&&xc(o)}}function xc(i){for(let a=qh(i);null!==a;a=mg(a))for(let c=10;c<a.length;c++){const h=a[c];if(512&h[2]){const m=h[1];uf(m,h,m.template,h[8])}else h[5]>0&&xc(h)}const o=i[1].components;if(null!==o)for(let a=0;a<o.length;a++){const c=Di(o[a],i);H(c)&&c[5]>0&&xc(c)}}function kc(i,r){const o=Di(r,i),a=o[1];(function xv(i,r){for(let o=r.length;o<i.blueprint.length;o++)r.push(i.blueprint[o])})(a,o),jg(a,o,o[8])}function Ld(i,r){return i[13]?i[14][4]=r:i[13]=r,i[14]=r,r}function mr(i){for(;i;){i[2]|=32;const r=Sd(i);if(Oo(i)&&!r)return i;i=r}return null}function Wr(i){!function ff(i){for(let r=0;r<i.components.length;r++){const o=i.components[r],a=j_(o);if(null!==a){const c=a[1];JC(c,a,c.template,o)}}}(i[8])}function qg(i,r,o){As(0),r(i,o)}const La=(()=>Promise.resolve(null))();function ec(i){return i[7]||(i[7]=[])}function kv(i){return i.cleanup||(i.cleanup=[])}function pf(i,r){const o=i[9],a=o?o.get(Td,null):null;a&&a.handleError(r)}function gf(i,r,o,a,c){for(let h=0;h<o.length;){const m=o[h++],C=o[h++],w=r[m],P=i.data[m];null!==P.setInput?P.setInput(w,c,a,C):w[C]=c}}function Vd(i,r,o){let a=o?i.styles:null,c=o?i.classes:null,h=0;if(null!==r)for(let m=0;m<r.length;m++){const C=r[m];"number"==typeof C?h=C:1==h?c=Se(c,C):2==h&&(a=Se(a,C+": "+r[++m]+";"))}o?i.styles=a:i.stylesWithoutHost=a,o?i.classes=c:i.classesWithoutHost=c}function mf(i,r,o,a,c=!1){for(;null!==o;){const h=r[o.index];if(null!==h&&a.push(Jn(h)),vi(h))for(let C=10;C<h.length;C++){const w=h[C],P=w[1].firstChild;null!==P&&mf(w[1],w,P,a)}const m=o.type;if(8&m)mf(i,r,o.child,a);else if(32&m){const C=W_(o,r);let w;for(;w=C();)a.push(w)}else if(16&m){const C=Bb(r,o);if(Array.isArray(C))a.push(...C);else{const w=Sd(r[16]);mf(w[1],w,C,a,!0)}}o=c?o.projectionNext:o.next}return a}class Hd{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return mf(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(vi(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(bg(r,a),A(o,a))}this._attachedToViewContainer=!1}Mb(this._lView[1],this._lView)}onDestroy(r){gD(this._lView[1],this._lView,null,r)}markForCheck(){mr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Hs(i,r,o){const a=r[10];a.begin&&a.begin();try{uf(i,r,i.template,o)}catch(c){throw pf(r,c),c}finally{a.end&&a.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sb(i,r){Jh(i,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Fe(902,!1);this._appRef=r}}class DD extends Hd{constructor(r){super(r),this._view=r}detectChanges(){Wr(this._view)}checkNoChanges(){}get context(){return null}}class Qg extends U{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Xt(r);return new Ba(o,this.ngModule)}}function Jg(i){const r=[];for(let o in i)i.hasOwnProperty(o)&&r.push({propName:i[o],templateName:o});return r}class _f{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){const c=this.injector.get(r,pl,a);return c!==pl||o===pl?c:this.parentInjector.get(r,o,a)}}class Ba extends g{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function ef(i){return i.map(Md).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Jg(this.componentDef.inputs)}get outputs(){return Jg(this.componentDef.outputs)}create(r,o,a,c){let h=(c=c||this.ngModule)instanceof sa?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new _f(r,h):r,C=m.get(Ht,null);if(null===C)throw new Fe(407,!1);const w=m.get(_u,null),P=C.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",$=a?function ew(i,r,o){return i.selectRootElement(r,o===Wt.ShadowDom)}(P,a,this.componentDef.encapsulation):vg(C.createRenderer(null,this.componentDef),V,function Xg(i){const r=i.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(V)),fe=this.componentDef.onPush?288:272,Me=function Fv(i,r){return{components:[],scheduler:i||bb,clean:La,playerHandler:r||null,flags:0}}(),Je=wv(0,null,null,1,0,null,null,null,null,null),at=Ug(null,Je,Me,fe,null,null,C,P,w,m,null);let Et,xt;Fo(at);try{const an=function Ud(i,r,o,a,c,h){const m=o[1];o[22]=i;const w=xd(m,22,2,"#host",null),P=w.mergedAttrs=r.hostAttrs;null!==P&&(Vd(w,P,!0),null!==i&&(jr(c,i,P),null!==w.classes&&Ad(c,i,w.classes),null!==w.styles&&Bi(c,i,w.styles)));const V=a.createRenderer(i,r),$=Ug(o,pD(r),null,r.onPush?32:16,o[22],w,a,V,h||null,null,null);return m.firstCreatePass&&(Hn(hs(w,o),m,r.type),Fd(m,w),Wg(w,o.length,1)),Ld(o,$),o[22]=$}($,this.componentDef,at,C,P);if($)if(a)jr(P,$,["ng-version",Nc.full]);else{const{attrs:it,classes:Yt}=function iv(i){const r=[],o=[];let a=1,c=2;for(;a<i.length;){let h=i[a];if("string"==typeof h)2===c?""!==h&&r.push(h,i[++a]):8===c&&o.push(h);else{if(!Ko(c))break;c=h}a++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);it&&jr(P,$,it),Yt&&Yt.length>0&&Ad(P,$,Yt.join(" "))}if(xt=ko(Je,22),void 0!==o){const it=xt.projection=[];for(let Yt=0;Yt<this.ngContentSelectors.length;Yt++){const jn=o[Yt];it.push(null!=jn?Array.from(jn):null)}}Et=function yf(i,r,o,a,c){const h=o[1],m=function _D(i,r,o){const a=ai();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),zg(i,a,r,Cu(i,r,1,null),o),Sv(i,a));const c=Gr(r,i,a.directiveStart,a);So(c,r);const h=fi(a,r);return h&&So(h,r),c}(h,o,r);if(a.components.push(m),i[8]=m,null!==c)for(const w of c)w(m,r);if(r.contentQueries){const w=ai();r.contentQueries(1,m,w.directiveStart)}const C=ai();return!h.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(ro(C.index),Mv(o[1],C,0,C.directiveStart,C.directiveEnd,r),wu(r,m)),m}(an,this.componentDef,at,Me,[Lv]),jg(Je,at,null)}finally{Qs()}return new CD(this.componentType,Et,Ve(xt,at),at,xt)}}class CD extends class fl{}{constructor(r,o,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new DD(c),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){const h=this._rootLView;gf(h[1],h,c,r,o),Nv(h,this._tNode.index)}}get injector(){return new Or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Lv(){const i=ai();cs(Ye()[1],i)}function bf(i){let r=function em(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const a=[i];for(;r;){let c;if(Ar(i))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Fe(903,!1);c=r.\u0275dir}if(c){if(o){a.push(c);const m=i;m.inputs=Df(i.inputs),m.declaredInputs=Df(i.declaredInputs),m.outputs=Df(i.outputs);const C=c.hostBindings;C&&Hv(i,C);const w=c.viewQuery,P=c.contentQueries;if(w&&tm(i,w),P&&Vv(i,P),Te(i.inputs,c.inputs),Te(i.declaredInputs,c.declaredInputs),Te(i.outputs,c.outputs),Ar(c)&&c.data.animation){const V=i.data;V.animation=(V.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const C=h[m];C&&C.ngInherit&&C(i),C===bf&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Bv(i){let r=0,o=null;for(let a=i.length-1;a>=0;a--){const c=i[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Xs(c.hostAttrs,o=Xs(o,c.hostAttrs))}}(a)}function Df(i){return i===St?{}:i===At?[]:i}function tm(i,r){const o=i.viewQuery;i.viewQuery=o?(a,c)=>{r(a,c),o(a,c)}:r}function Vv(i,r){const o=i.contentQueries;i.contentQueries=o?(a,c,h)=>{r(a,c,h),o(a,c,h)}:r}function Hv(i,r){const o=i.hostBindings;i.hostBindings=o?(a,c)=>{r(a,c),o(a,c)}:r}let Ef=null;function ml(){if(!Ef){const i=nt.Symbol;if(i&&i.iterator)Ef=i.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const a=r[o];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Ef=a)}}}return Ef}function Fc(i){return!!Cf(i)&&(Array.isArray(i)||!(i instanceof Map)&&ml()in i)}function Cf(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Va(i,r,o){return i[r]=o}function zr(i,r,o){return!Object.is(i[r],o)&&(i[r]=o,!0)}function tc(i,r,o,a){const c=zr(i,r,o);return zr(i,r+1,a)||c}function im(i,r,o,a){const c=Ye();return zr(c,rs(),r)&&(Kt(),function ua(i,r,o,a,c,h){const m=fi(i,r);Yg(r[11],m,h,i.value,o,a,c)}(Rn(),c,i,r,o,a)),im}function Nu(i,r,o,a){return zr(i,rs(),o)?r+Re(o)+a:un}function Zv(i,r,o,a,c,h,m,C){const w=Ye(),P=Kt(),V=i+22,$=P.firstCreatePass?function Yv(i,r,o,a,c,h,m,C,w){const P=r.consts,V=xd(r,i,4,m||null,G(P,C));df(r,o,V,G(P,w)),cs(r,V);const $=V.tViews=wv(2,V,a,c,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,P);return null!==r.queries&&(r.queries.template(r,V),$.queries=r.queries.embeddedTView(V)),V}(V,P,w,r,o,a,c,h,m):P.data[V];Vr($,!1);const fe=w[11].createComment("");Cg(P,w,fe,$),So(fe,w),Ld(w,w[V]=hf(fe,w,fe,$)),Sr($)&&Ev(P,w,$),null!=m&&Cv(w,$,C)}function Qv(i){return no(function _a(){return Ae.lFrame.contextLView}(),22+i)}function Tf(i,r,o){const a=Ye();return zr(a,rs(),r)&&Yo(Kt(),Rn(),a,i,r,a[11],o,!1),Tf}function If(i,r,o,a,c){const m=c?"class":"style";gf(i,o,r.inputs[m],m,a)}function Wd(i,r,o,a){const c=Ye(),h=Kt(),m=22+i,C=c[11],w=c[m]=vg(C,r,function tl(){return Ae.lFrame.currentNamespace}()),P=h.firstCreatePass?function Jv(i,r,o,a,c,h,m){const C=r.consts,P=xd(r,i,2,c,G(C,h));return df(r,o,P,G(C,m)),null!==P.attrs&&Vd(P,P.attrs,!1),null!==P.mergedAttrs&&Vd(P,P.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,P),P}(m,h,c,0,r,o,a):h.data[m];Vr(P,!0);const V=P.mergedAttrs;null!==V&&jr(C,w,V);const $=P.classes;null!==$&&Ad(C,w,$);const fe=P.styles;return null!==fe&&Bi(C,w,fe),64!=(64&P.flags)&&Cg(h,c,w,P),0===function On(){return Ae.lFrame.elementDepthCount}()&&So(w,c),function Sn(){Ae.lFrame.elementDepthCount++}(),Sr(P)&&(Ev(h,c,P),Gg(h,P,c)),null!==a&&Cv(c,P),Wd}function Sf(){let i=ai();ma()?Ys():(i=i.parent,Vr(i,!1));const r=i;!function _n(){Ae.lFrame.elementDepthCount--}();const o=Kt();return o.firstCreatePass&&(cs(o,i),hi(i)&&o.queries.elementEnd(i)),null!=r.classesWithoutHost&&function Ea(i){return 0!=(16&i.flags)}(r)&&If(o,r,Ye(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Ml(i){return 0!=(32&i.flags)}(r)&&If(o,r,Ye(),r.stylesWithoutHost,!1),Sf}function Af(i,r,o,a){return Wd(i,r,o,a),Sf(),Af}function zd(i,r,o){const a=Ye(),c=Kt(),h=i+22,m=c.firstCreatePass?function Xv(i,r,o,a,c){const h=r.consts,m=G(h,a),C=xd(r,i,8,"ng-container",m);return null!==m&&Vd(C,m,!0),df(r,o,C,G(h,c)),null!==r.queries&&r.queries.elementStart(r,C),C}(h,c,a,r,o):c.data[h];Vr(m,!0);const C=a[h]=a[11].createComment("");return Cg(c,a,C,m),So(C,a),Sr(m)&&(Ev(c,a,m),Gg(c,m,a)),null!=o&&Cv(a,m),zd}function Hc(){let i=ai();const r=Kt();return ma()?Ys():(i=i.parent,Vr(i,!1)),r.firstCreatePass&&(cs(r,i),hi(i)&&r.queries.elementEnd(i)),Hc}function am(){return Ye()}function Xn(i){return!!i&&"function"==typeof i.then}function zn(i){return!!i&&"function"==typeof i.subscribe}const Cn=zn;function Ha(i,r,o,a){const c=Ye(),h=Kt(),m=ai();return function ey(i,r,o,a,c,h,m,C){const w=Sr(a),V=i.firstCreatePass&&kv(i),$=r[8],fe=ec(r);let Me=!0;if(3&a.type||C){const Et=fi(a,r),xt=C?C(Et):Et,an=fe.length,it=C?jn=>C(Jn(jn[a.index])):a.index;let Yt=null;if(!C&&w&&(Yt=function lm(i,r,o,a){const c=i.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===o&&c[h+1]===a){const C=r[7],w=c[h+2];return C.length>w?C[w]:null}"string"==typeof m&&(h+=2)}return null}(i,r,c,a.index)),null!==Yt)(Yt.__ngLastListenerFn__||Yt).__ngNextListenerFn__=h,Yt.__ngLastListenerFn__=h,Me=!1;else{h=cm(a,r,$,h,!1);const jn=o.listen(xt,c,h);fe.push(h,jn),V&&V.push(c,it,an,an+1)}}else h=cm(a,r,$,h,!1);const Je=a.outputs;let at;if(Me&&null!==Je&&(at=Je[c])){const Et=at.length;if(Et)for(let xt=0;xt<Et;xt+=2){const Ji=r[at[xt]][at[xt+1]].subscribe(h),wh=fe.length;fe.push(h,Ji),V&&V.push(c,a.index,wh,-(wh+1))}}}(h,c,c[11],m,i,r,0,a),Ha}function xu(i,r,o,a){try{return!1!==o(a)}catch(c){return pf(i,c),!1}}function cm(i,r,o,a,c){return function h(m){if(m===Function)return a;mr(2&i.flags?Di(i.index,r):r);let w=xu(r,0,a,m),P=h.__ngNextListenerFn__;for(;P;)w=xu(r,0,P,m)&&w,P=P.__ngNextListenerFn__;return c&&!1===w&&(m.preventDefault(),m.returnValue=!1),w}}function Vi(i=1){return function ba(i){return(Ae.lFrame.contextLView=function ls(i,r){for(;i>0;)r=r[15],i--;return r}(i,Ae.lFrame.contextLView))[8]}(i)}function Tn(i,r){let o=null;const a=function Ub(i){const r=i.attrs;if(null!=r){const o=r.indexOf(5);if(0==(1&o))return r[o+1]}return null}(i);for(let c=0;c<r.length;c++){const h=r[c];if("*"!==h){if(null===a?nv(i,h,!0):bu(a,h))return c}else o=c}return o}function fo(i){const r=Ye()[16][6];if(!r.projection){const a=r.projection=L(i?i.length:1,null),c=a.slice();let h=r.child;for(;null!==h;){const m=i?Tn(h,i):0;null!==m&&(c[m]?c[m].projectionNext=h:a[m]=h,c[m]=h),h=h.next}}}function ty(i,r=0,o){const a=Ye(),c=Kt(),h=xd(c,22+i,16,null,o||null);null===h.projection&&(h.projection=r),Ys(),64!=(64&h.flags)&&function MC(i,r,o){wg(r[11],0,r,o,Z_(i,o,r),xb(o.parent||r[6],o,r))}(c,a,h)}function Kd(i,r,o){return Ao(i,"",r,"",o),Kd}function Ao(i,r,o,a,c){const h=Ye(),m=Nu(h,r,o,a);return m!==un&&Yo(Kt(),Rn(),h,i,m,h[11],c,!1),Ao}function sy(i,r,o,a,c){const h=i[o+1],m=null===r;let C=a?ka(h):Fa(h),w=!1;for(;0!==C&&(!1===w||m);){const V=i[C+1];ay(i[C],r)&&(w=!0,i[C+1]=a?af(V):Og(V)),C=a?ka(V):Fa(V)}w&&(i[o+1]=a?Og(h):af(h))}function ay(i,r){return null===i||null==r||(Array.isArray(i)?i[1]:i)===r||!(!Array.isArray(i)||"string"!=typeof r)&&Ti(i,r)>=0}const Hi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function In(i){return i.substring(Hi.key,Hi.keyEnd)}function dm(i,r){const o=Hi.textEnd;return o===r?-1:(r=Hi.keyEnd=function Zo(i,r,o){for(;r<o&&i.charCodeAt(r)>32;)r++;return r}(i,Hi.key=r,o),Fu(i,r,o))}function Fu(i,r,o){for(;r<o&&i.charCodeAt(r)<=32;)r++;return r}function Pf(i,r,o){return da(i,r,o,!1),Pf}function xf(i,r){return da(i,r,null,!0),xf}function fm(i){ha(on,ja,i,!0)}function ja(i,r){for(let o=function Of(i){return function js(i){Hi.key=0,Hi.keyEnd=0,Hi.value=0,Hi.valueEnd=0,Hi.textEnd=i.length}(i),dm(i,Fu(i,0,Hi.textEnd))}(r);o>=0;o=dm(r,o))on(i,In(r),!0)}function da(i,r,o,a){const c=Ye(),h=Kt(),m=Ur(2);h.firstUpdatePass&&uy(h,i,m,a),r!==un&&zr(c,m,r)&&hy(h,h.data[Ci()],c,c[11],i,c[m+1]=function FD(i,r){return null==i||("string"==typeof r?i+=r:"object"==typeof i&&(i=re(ul(i)))),i}(r,o),a,m)}function ha(i,r,o,a){const c=Kt(),h=Ur(2);c.firstUpdatePass&&uy(c,null,h,a);const m=Ye();if(o!==un&&zr(m,h,o)){const C=c.data[Ci()];if(Ff(C,a)&&!Si(c,h)){let w=a?C.classesWithoutHost:C.stylesWithoutHost;null!==w&&(o=Se(w,o||"")),If(c,C,m,o,a)}else!function Zd(i,r,o,a,c,h,m,C){c===un&&(c=At);let w=0,P=0,V=0<c.length?c[0]:null,$=0<h.length?h[0]:null;for(;null!==V||null!==$;){const fe=w<c.length?c[w+1]:void 0,Me=P<h.length?h[P+1]:void 0;let at,Je=null;V===$?(w+=2,P+=2,fe!==Me&&(Je=$,at=Me)):null===$||null!==V&&V<$?(w+=2,Je=V):(P+=2,Je=$,at=Me),null!==Je&&hy(i,r,o,a,Je,at,m,C),V=w<c.length?c[w]:null,$=P<h.length?h[P]:null}}(c,C,m,m[11],m[h+1],m[h+1]=function mn(i,r,o){if(null==o||""===o)return At;const a=[],c=ul(o);if(Array.isArray(c))for(let h=0;h<c.length;h++)i(a,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&i(a,h,c[h]);else"string"==typeof c&&r(a,c);return a}(i,r,o),a,h)}}function Si(i,r){return r>=i.expandoStartIndex}function uy(i,r,o,a){const c=i.data;if(null===c[o+1]){const h=c[Ci()],m=Si(i,o);Ff(h,a)&&null===r&&!m&&(r=!1),r=function kD(i,r,o,a){const c=function Ss(i){const r=Ae.lFrame.currentDirectiveIndex;return-1===r?null:i[r]}(i);let h=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(o=_l(o=fa(null,i,r,o,a),r.attrs,a),h=null);else{const m=r.directiveStylingLast;if(-1===m||i[m]!==c)if(o=fa(c,i,r,o,a),null===h){let w=function kf(i,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==Fa(a))return i[ka(a)]}(i,r,a);void 0!==w&&Array.isArray(w)&&(w=fa(null,i,r,w[1],a),w=_l(w,r.attrs,a),function pm(i,r,o,a){i[ka(o?r.classBindings:r.styleBindings)]=a}(i,r,a,w))}else h=function Lu(i,r,o){let a;const c=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<c;h++)a=_l(a,i[h].hostAttrs,o);return _l(a,r.attrs,o)}(i,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),o}(c,h,r,a),function OD(i,r,o,a,c,h){let m=h?r.classBindings:r.styleBindings,C=ka(m),w=Fa(m);i[a]=o;let V,P=!1;if(Array.isArray(o)){const $=o;V=$[1],(null===V||Ti($,V)>0)&&(P=!0)}else V=o;if(c)if(0!==w){const fe=ka(i[C+1]);i[a+1]=Eu(fe,C),0!==fe&&(i[fe+1]=sf(i[fe+1],a)),i[C+1]=function pv(i,r){return 131071&i|r<<17}(i[C+1],a)}else i[a+1]=Eu(C,0),0!==C&&(i[C+1]=sf(i[C+1],a)),C=a;else i[a+1]=Eu(w,0),0===C?C=a:i[w+1]=sf(i[w+1],a),w=a;P&&(i[a+1]=Og(i[a+1])),sy(i,V,a,!0),sy(i,V,a,!1),function RD(i,r,o,a,c){const h=c?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof r&&Ti(h,r)>=0&&(o[a+1]=af(o[a+1]))}(r,V,i,a,h),m=Eu(C,w),h?r.classBindings=m:r.styleBindings=m}(c,h,r,o,m,a)}}function fa(i,r,o,a,c){let h=null;const m=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<m&&(h=r[C],a=_l(a,h.hostAttrs,c),h!==i);)C++;return null!==i&&(o.directiveStylingLast=C),a}function _l(i,r,o){const a=o?1:2;let c=-1;if(null!==r)for(let h=0;h<r.length;h++){const m=r[h];"number"==typeof m?c=m:c===a&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),on(i,m,!!o||r[++h]))}return void 0===i?null:i}function hy(i,r,o,a,c,h,m,C){if(!(3&r.type))return;const w=i.data,P=w[C+1];Bu(function Rg(i){return 1==(1&i)}(P)?Ki(w,r,o,c,Fa(P),m):void 0)||(Bu(h)||function iD(i){return 2==(2&i)}(P)&&(h=Ki(w,null,o,c,C,m)),function ca(i,r,o,a,c){if(r)c?i.addClass(o,a):i.removeClass(o,a);else{let h=-1===a.indexOf("-")?void 0:gl.DashCase;null==c?i.removeStyle(o,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=gl.Important),i.setStyle(o,a,c,h))}}(a,m,to(Ci(),o),c,h))}function Ki(i,r,o,a,c,h){const m=null===r;let C;for(;c>0;){const w=i[c],P=Array.isArray(w),V=P?w[1]:w,$=null===V;let fe=o[c+1];fe===un&&(fe=$?At:void 0);let Me=$?ir(fe,a):V===a?fe:void 0;if(P&&!Bu(Me)&&(Me=ir(w,a)),Bu(Me)&&(C=Me,m))return C;const Je=i[c+1];c=m?ka(Je):Fa(Je)}if(null!==r){let w=h?r.residualClasses:r.residualStyles;null!=w&&(C=ir(w,a))}return C}function Bu(i){return void 0!==i}function Ff(i,r){return 0!=(i.flags&(r?16:32))}function Uc(i,r=""){const o=Ye(),a=Kt(),c=i+22,h=a.firstCreatePass?xd(a,c,1,r,null):a.data[c],m=o[c]=_g(o[11],r);Cg(a,o,m,h),Vr(h,!1)}function qd(i,r,o){const a=Ye(),c=Nu(a,i,r,o);return c!==un&&function Mi(i,r,o){const a=to(r,i);K_(i[11],a,o)}(a,Ci(),c),qd}function py(i,r,o){ha(on,ja,Nu(Ye(),i,r,o),!0)}function qo(i,r,o){const a=Ye();return zr(a,rs(),r)&&Yo(Kt(),Rn(),a,i,r,a[11],o,!0),qo}const vl=void 0;var Wf=["en",[["a","p"],["AM","PM"],vl],[["AM","PM"],vl,vl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vl,"{1} 'at' {0}",vl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Cm(i){const o=Math.floor(Math.abs(i)),a=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Ga={};function ic(i){const r=function $D(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=Cy(r);if(o)return o;const a=r.split("-")[0];if(o=Cy(a),o)return o;if("en"===a)return Wf;throw new Fe(701,!1)}function Ey(i){return ic(i)[Jt.PluralCase]}function Cy(i){return i in Ga||(Ga[i]=nt.ng&&nt.ng.common&&nt.ng.common.locales&&nt.ng.common.locales[i]),Ga[i]}var Jt=(()=>((Jt=Jt||{})[Jt.LocaleId=0]="LocaleId",Jt[Jt.DayPeriodsFormat=1]="DayPeriodsFormat",Jt[Jt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Jt[Jt.DaysFormat=3]="DaysFormat",Jt[Jt.DaysStandalone=4]="DaysStandalone",Jt[Jt.MonthsFormat=5]="MonthsFormat",Jt[Jt.MonthsStandalone=6]="MonthsStandalone",Jt[Jt.Eras=7]="Eras",Jt[Jt.FirstDayOfWeek=8]="FirstDayOfWeek",Jt[Jt.WeekendRange=9]="WeekendRange",Jt[Jt.DateFormat=10]="DateFormat",Jt[Jt.TimeFormat=11]="TimeFormat",Jt[Jt.DateTimeFormat=12]="DateTimeFormat",Jt[Jt.NumberSymbols=13]="NumberSymbols",Jt[Jt.NumberFormats=14]="NumberFormats",Jt[Jt.CurrencyCode=15]="CurrencyCode",Jt[Jt.CurrencySymbol=16]="CurrencySymbol",Jt[Jt.CurrencyName=17]="CurrencyName",Jt[Jt.Currencies=18]="Currencies",Jt[Jt.Directionality=19]="Directionality",Jt[Jt.PluralCase=20]="PluralCase",Jt[Jt.ExtraData=21]="ExtraData",Jt))();const Kf=["zero","one","two","few","many"],Wc="en-US",$a={marker:"element"},ju={marker:"ICU"};var or=(()=>((or=or||{})[or.SHIFT=2]="SHIFT",or[or.APPEND_EAGERLY=1]="APPEND_EAGERLY",or[or.COMMENT=2]="COMMENT",or))();let Gs=Wc;function Gu(i){(function Dt(i,r){null==i&&ze(r,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(Gs=i.toLowerCase().replace(/_/g,"-"))}function Tm(i,r,o){const a=r.insertBeforeIndex,c=Array.isArray(a)?a[0]:a;return null===c?kb(i,0,o):Jn(o[c])}function Zf(i,r,o,a,c){const h=r.insertBeforeIndex;if(Array.isArray(h)){let m=a,C=null;if(3&r.type||(C=m,m=c),null!==m&&0==(2&r.flags))for(let w=1;w<h.length;w++)yu(i,m,o[h[w]],C,!1)}}function rc(i,r){if(i.push(r),i.length>1)for(let o=i.length-2;o>=0;o--){const a=i[o];Im(a)||oc(a,r)&&null===Sm(a)&&$u(a,r.index)}}function Im(i){return!(64&i.type)}function oc(i,r){return Im(r)||i.index>r.index}function Sm(i){const r=i.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function $u(i,r){const o=i.insertBeforeIndex;Array.isArray(o)?o[0]=r:(Lb(Tm,Zf),i.insertBeforeIndex=r)}function Wu(i,r){const o=i.data[r];return null===o||"string"==typeof o?null:o.hasOwnProperty("currentCaseLViewIndex")?o:o.value}function zD(i,r,o){const a=Dv(i,o,64,null,null);return rc(r,a),a}function Qf(i,r){const o=r[i.currentCaseLViewIndex];return null===o?o:o<0?~o:o}function wy(i){return i>>>17}function Ty(i){return(131070&i)>>>1}let zu=0,Ku=0;function Sy(i,r,o,a){const c=o[11];let m,h=null;for(let C=0;C<r.length;C++){const w=r[C];if("string"==typeof w){const P=r[++C];null===o[P]&&(o[P]=_g(c,w))}else if("number"==typeof w)switch(1&w){case 0:const P=wy(w);let V,$;if(null===h&&(h=P,m=Eg(c,a)),P===h?(V=a,$=m):(V=null,$=Jn(o[P])),null!==$){const at=Ty(w);yu(c,$,o[at],V,!1);const xt=Wu(i,at);if(null!==xt&&"object"==typeof xt){const an=Qf(xt,o);null!==an&&Sy(i,xt.create[an],o,o[xt.anchorIdx])}}break;case 1:const Me=r[++C],Je=r[++C];Yg(c,to(w>>>1,o),null,null,Me,Je,null)}else switch(w){case ju:const P=r[++C],V=r[++C];null===o[V]&&So(o[V]=wb(c,P),o);break;case $a:const $=r[++C],fe=r[++C];null===o[fe]&&So(o[fe]=vg(c,$,null),o)}}}function Ay(i,r,o,a,c){for(let h=0;h<o.length;h++){const m=o[h],C=o[++h];if(m&c){let w="";for(let P=h+1;P<=h+C;P++){const V=o[P];if("string"==typeof V)w+=V;else if("number"==typeof V)if(V<0)w+=Re(r[a-V]);else{const $=V>>>2;switch(3&V){case 1:const fe=o[++P],Me=o[++P],Je=i.data[$];"string"==typeof Je?Yg(r[11],r[$],null,Je,fe,w,Me):Yo(i,Je,r,fe,w,r[11],Me,!1);break;case 0:const at=r[$];null!==at&&K_(r[11],at,w);break;case 2:Jf(i,Wu(i,$),r,w);break;case 3:Ny(i,Wu(i,$),a,r)}}}}else{const w=o[h+1];if(w>0&&3==(3&w)){const V=Wu(i,w>>>2);r[V.currentCaseLViewIndex]<0&&Ny(i,V,a,r)}}h+=C}}function Ny(i,r,o,a){let c=a[r.currentCaseLViewIndex];if(null!==c){let h=zu;c<0&&(c=a[r.currentCaseLViewIndex]=~c,h=-1),Ay(i,a,r.update[c],o,h)}}function Jf(i,r,o,a){const c=function My(i,r){let o=i.cases.indexOf(r);if(-1===o)switch(i.type){case 1:{const a=function Jd(i,r){const o=Ey(r)(parseInt(i,10)),a=Kf[o];return void 0!==a?a:"other"}(r,function wm(){return Gs}());o=i.cases.indexOf(a),-1===o&&"other"!==a&&(o=i.cases.indexOf("other"));break}case 0:o=i.cases.indexOf("other")}return-1===o?null:o}(r,a);if(Qf(r,o)!==c&&(Xf(i,r,o),o[r.currentCaseLViewIndex]=null===c?null:~c,null!==c)){const m=o[r.anchorIdx];m&&Sy(i,r.create[c],o,m)}}function Xf(i,r,o){let a=Qf(r,o);if(null!==a){const c=r.remove[a];for(let h=0;h<c.length;h++){const m=c[h];if(m>0){const C=to(m,o);null!==C&&Vb(o[11],C)}else Xf(i,Wu(i,~m),o)}}}function ep(){const i=[];let o,a,r=-1;function h(C,w){r=0;const P=Qf(C,w);a=null!==P?C.remove[P]:At}function m(){if(r<a.length){const C=a[r++];return C>0?o[C]:(i.push(r,a),h(o[1].data[~C],o),m())}return 0===i.length?null:(a=i.pop(),r=i.pop(),m())}return function c(C,w){for(o=w;i.length;)i.pop();return h(C.value,w),m}}const tp=/\ufffd(\d+):?\d*\ufffd/gi,Am=/\ufffd(\d+)\ufffd/,xy=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,XD=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,eE=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ky=/\uE500/g;function Mm(i,r,o,a,c,h,m){const C=Cu(i,a,1,null);let w=C<<or.SHIFT,P=vo();r===P&&(P=null),null===P&&(w|=or.APPEND_EAGERLY),m&&(w|=or.COMMENT,function Zh(i){void 0===$_&&($_=i())}(ep)),c.push(w,null===h?"":h);const V=Dv(i,C,m?32:1,null===h?"":h,null);rc(o,V);const $=V.index;return Vr(V,!1),null!==P&&r!==P&&function WD(i,r){let o=i.insertBeforeIndex;null===o?(Lb(Tm,Zf),o=i.insertBeforeIndex=[null,r]):(function $e(i,r,o){i!=r&&ze(o,i,r,"==")}(Array.isArray(o),!0,"Expecting array here"),o.push(r))}(P,$),V}function tE(i,r,o,a,c,h,m){const C=m.match(tp),w=Mm(i,r,o,h,a,C?null:m,!1);C&&sc(c,m,w.index,null,0,null)}function sc(i,r,o,a,c,h){const m=i.length,C=m+1;i.push(null,null);const w=m+2,P=r.split(tp);let V=0;for(let $=0;$<P.length;$++){const fe=P[$];if(1&$){const Me=c+parseInt(fe,10);i.push(-1-Me),V|=Ly(Me)}else""!==fe&&i.push(fe)}return i.push(o<<2|(a?1:0)),a&&i.push(a,h),i[m]=V,i[C]=i.length-w,V}function Ly(i){return 1<<Math.min(i,31)}function By(i){let r,h,o="",a=0,c=!1;for(;null!==(r=XD.exec(i));)c?r[0]===`\ufffd/*${h}\ufffd`&&(a=r.index,c=!1):(o+=i.substring(a,r.index+r[0].length),h=r[1],c=!0);return o+=i.slice(a),o}function Vy(i,r,o,a,c,h){let m=0;const C={type:c.type,currentCaseLViewIndex:Cu(i,r,1,null),anchorIdx:h,cases:[],create:[],remove:[],update:[]};(function Hy(i,r,o){i.push(Ly(r.mainBinding),2,-1-r.mainBinding,o<<2|2)})(o,c,h),function qf(i,r,o){const a=i.data[r];null===a?i.data[r]=o:a.value=o}(i,h,C);const w=c.values;for(let P=0;P<w.length;P++){const V=w[P],$=[];for(let fe=0;fe<V.length;fe++){const Me=V[fe];if("string"!=typeof Me){const Je=$.push(Me)-1;V[fe]=`\x3c!--\ufffd${Je}\ufffd--\x3e`}}m=sE(i,C,r,o,a,c.cases[P],V.join(""),$)|m}m&&function rp(i,r,o){i.push(r,1,o<<2|3)}(o,m,h)}function oE(i){const r=[],o=[];let a=1,c=0;const h=ip(i=i.replace(xy,function(m,C,w){return a="select"===w?0:1,c=parseInt(C.slice(1),10),""}));for(let m=0;m<h.length;){let C=h[m++].trim();1===a&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&r.push(C);const w=ip(h[m++]);r.length>o.length&&o.push(w)}return{type:a,mainBinding:c,cases:r,values:o}}function ip(i){if(!i)return[];let r=0;const o=[],a=[],c=/[{}]/g;let h;for(c.lastIndex=0;h=c.exec(i);){const C=h.index;if("}"==h[0]){if(o.pop(),0==o.length){const w=i.substring(r,C);xy.test(w)?a.push(oE(w)):a.push(w),r=C+1}}else{if(0==o.length){const w=i.substring(r,C);a.push(w),r=C+1}o.push("{")}}const m=i.substring(r);return a.push(m),a}function sE(i,r,o,a,c,h,m,C){const w=[],P=[],V=[];r.cases.push(h),r.create.push(w),r.remove.push(P),r.update.push(V);const fe=function zp(i){const r=new T_(i);return function Kp(){try{return!!(new window.DOMParser).parseFromString(Ul(""),"text/html")}catch{return!1}}()?new dl(r):r}(function Fp(){return void 0!==rd?rd:typeof document<"u"?document:void 0}()).getInertBodyElement(m),Me=function gu(i){return"content"in i&&function hd(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}(fe)||fe;return Me?Om(i,r,o,a,w,P,V,Me,c,C,0):0}function Om(i,r,o,a,c,h,m,C,w,P,V){let $=0,fe=C.firstChild;for(;fe;){const Me=Cu(i,o,1,null);switch(fe.nodeType){case Node.ELEMENT_NODE:const Je=fe,at=Je.tagName.toLowerCase();if(ud.hasOwnProperty(at)){op(c,$a,at,w,Me),i.data[Me]=at;const it=Je.attributes;for(let Yt=0;Yt<it.length;Yt++){const jn=it.item(Yt),Ji=jn.name.toLowerCase();jn.value.match(tp)?hu.hasOwnProperty(Ji)&&sc(m,jn.value,Me,jn.name,0,du[Ji]?cu:Tc[Ji]?Yp:null):lE(c,Me,jn)}$=Om(i,r,o,a,c,h,m,fe,Me,P,V+1)|$,Rm(h,Me,V)}break;case Node.TEXT_NODE:const Et=fe.textContent||"",xt=Et.match(tp);op(c,null,xt?"":Et,w,Me),Rm(h,Me,V),xt&&($=sc(m,Et,Me,null,0,null)|$);break;case Node.COMMENT_NODE:const an=Am.exec(fe.textContent||"");if(an){const Yt=P[parseInt(an[1],10)];op(c,ju,"",w,Me),Vy(i,o,a,w,Yt,Me),aE(h,Me,V)}}fe=fe.nextSibling}return $}function Rm(i,r,o){0===o&&i.push(r)}function aE(i,r,o){0===o&&(i.push(~r),i.push(r))}function op(i,r,o,a,c){null!==r&&i.push(r),i.push(o,c,function KD(i,r,o){return i|r<<17|o<<1}(0,a,c))}function lE(i,r,o){i.push(r<<1|1,o.name,o.value)}function km(i,r,o=-1){const a=Kt(),c=Ye(),h=22+i,m=G(a.consts,r),C=vo();a.firstCreatePass&&function Nm(i,r,o,a,c,h){const m=vo(),C=[],w=[],P=[[]];c=function rE(i,r){if(function iE(i){return-1===i}(r))return By(i);{const o=i.indexOf(`:${r}\ufffd`)+2+r.toString().length,a=i.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return By(i.substring(o,a))}}(c,h);const V=function np(i){return i.replace(ky," ")}(c).split(eE);for(let $=0;$<V.length;$++){let fe=V[$];if(0==(1&$)){const Me=ip(fe);for(let Je=0;Je<Me.length;Je++){let at=Me[Je];if(0==(1&Je)){const Et=at;""!==Et&&tE(i,m,P[0],C,w,o,Et)}else{const Et=at;if("object"!=typeof Et)throw new Error(`Unable to parse ICU expression in "${c}" message.`);Vy(i,o,w,r,Et,Mm(i,m,P[0],o,C,"",!0).index)}}}else{const Me=47===fe.charCodeAt(0),at=(fe.charCodeAt(Me?1:0),22+Number.parseInt(fe.substring(Me?2:1)));if(Me)P.shift(),Vr(vo(),!1);else{const Et=zD(i,P[0],at);P.unshift([]),Vr(Et,!0)}}}i.data[a]={create:C,update:w}}(a,null===C?0:C.index,c,h,m,o);const w=a.data[h],V=Ob(a,C===c[6]?null:C,c);(function qD(i,r,o,a){const c=i[11];for(let h=0;h<r.length;h++){const m=r[h++],C=r[h],w=(m&or.COMMENT)===or.COMMENT,P=(m&or.APPEND_EAGERLY)===or.APPEND_EAGERLY,V=m>>>or.SHIFT;let $=i[V];null===$&&($=i[V]=w?c.createComment(C):_g(c,C)),P&&null!==o&&yu(c,o,$,a,!1)}})(c,w.create,V,C&&8&C.type?c[C.index]:null),Xa(!0)}function eh(i,r,o){km(i,r,o),function yl(){Xa(!1)}()}function Fm(i){return function YD(i){i&&(zu|=1<<Math.min(Ku,31)),Ku++}(zr(Ye(),rs(),i)),Fm}function $y(i){!function ZD(i,r,o){if(Ku>0){const a=i.data[o];Ay(i,r,Array.isArray(a)?a:a.update,function Hr(){return Ae.lFrame.bindingIndex}()-Ku-1,zu)}zu=0,Ku=0}(Kt(),Ye(),i+22)}function th(i,r,o,a,c){if(i=ie(i),Array.isArray(i))for(let h=0;h<i.length;h++)th(i[h],r,o,a,c);else{const h=Kt(),m=Ye();let C=ho(i)?i:ie(i.provide),w=$h(i);const P=ai(),V=1048575&P.providerIndexes,$=P.directiveStart,fe=P.providerIndexes>>20;if(ho(i)||!i.multi){const Me=new Da(w,c,Rc),Je=zc(C,r,c?V:V+fe,$);-1===Je?(Hn(hs(P,m),h,C),Lm(h,i,r.length),r.push(C),P.directiveStart++,P.directiveEnd++,c&&(P.providerIndexes+=1048576),o.push(Me),m.push(Me)):(o[Je]=Me,m[Je]=Me)}else{const Me=zc(C,r,V+fe,$),Je=zc(C,r,V,V+fe),at=Me>=0&&o[Me],Et=Je>=0&&o[Je];if(c&&!Et||!c&&!at){Hn(hs(P,m),h,C);const xt=function ap(i,r,o,a,c){const h=new Da(i,o,Rc);return h.multi=[],h.index=r,h.componentProviders=0,bl(h,c,a&&!o),h}(c?pE:fE,o.length,c,a,w);!c&&Et&&(o[Je].providerFactory=xt),Lm(h,i,r.length,0),r.push(C),P.directiveStart++,P.directiveEnd++,c&&(P.providerIndexes+=1048576),o.push(xt),m.push(xt)}else Lm(h,i,Me>-1?Me:Je,bl(o[c?Je:Me],w,!c&&a));!c&&a&&Et&&o[Je].componentProviders++}}}function Lm(i,r,o,a){const c=ho(r),h=function Uh(i){return!!i.useClass}(r);if(c||h){const w=(h?ie(r.useClass):r).prototype.ngOnDestroy;if(w){const P=i.destroyHooks||(i.destroyHooks=[]);if(!c&&r.multi){const V=P.indexOf(o);-1===V?P.push(o,[a,w]):P[V+1].push(a,w)}else P.push(o,w)}}}function bl(i,r,o){return o&&i.componentProviders++,i.multi.push(r)-1}function zc(i,r,o,a){for(let c=o;c<a;c++)if(r[c]===i)return c;return-1}function fE(i,r,o,a){return Bm(this.multi,[])}function pE(i,r,o,a){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,C=Gr(o,o[1],this.providerFactory.index,a);h=C.slice(0,m),Bm(c,h);for(let w=m;w<C.length;w++)h.push(C[w])}else h=[],Bm(c,h);return h}function Bm(i,r){for(let o=0;o<i.length;o++)r.push((0,i[o])());return r}function zy(i,r=[]){return o=>{o.providersResolver=(a,c)=>function Wy(i,r,o){const a=Kt();if(a.firstCreatePass){const c=Ar(i);th(o,a.data,a.blueprint,c,!0),th(r,a.data,a.blueprint,c,!1)}}(a,c?c(i):i,r)}}class Kc{}class Ky{}function Yy(i,r){return new nh(i,r??null)}class nh extends Kc{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qg(this);const a=di(r);this._bootstrapComponents=Kl(a.bootstrap),this._r3Injector=Yb(r,o,[{provide:Kc,useValue:this},{provide:U,useValue:this.componentFactoryResolver}],re(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Vm extends Ky{constructor(r){super(),this.moduleType=r}create(r){return new nh(this.moduleType,r)}}class Yu extends Kc{constructor(r,o,a){super(),this.componentFactoryResolver=new Qg(this),this.instance=null;const c=new vd([...r,{provide:Kc,useValue:this},{provide:U,useValue:this.componentFactoryResolver}],o||wr(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function lp(i,r,o=null){return new Yu(i,r,o).injector}function fp(i,r,o,a){return gp(Ye(),qi(),i,r,o,a)}function oh(i,r,o,a,c){return function r0(i,r,o,a,c,h,m){const C=r+o;return tc(i,C,c,h)?Va(i,C+2,m?a.call(m,c,h):a(c,h)):Dl(i,C+2)}(Ye(),qi(),i,r,o,a,c)}function lc(i,r,o,a,c,h){return function o0(i,r,o,a,c,h,m,C){const w=r+o;return function Gd(i,r,o,a,c){const h=tc(i,r,o,a);return zr(i,r+2,c)||h}(i,w,c,h,m)?Va(i,w+3,C?a.call(C,c,h,m):a(c,h,m)):Dl(i,w+3)}(Ye(),qi(),i,r,o,a,c,h)}function Dl(i,r){const o=i[r];return o===un?void 0:o}function gp(i,r,o,a,c,h){const m=r+o;return zr(i,m,c)?Va(i,m+1,h?a.call(h,c):a(c)):Dl(i,m+1)}function sh(i,r){const o=Kt();let a;const c=i+22;o.firstCreatePass?(a=function a0(i,r){if(r)for(let o=r.length-1;o>=0;o--){const a=r[o];if(i===a.name)return a}}(r,o.pipeRegistry),o.data[c]=a,a.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,a.onDestroy)):a=o.data[c];const h=a.factory||(a.factory=Zi(a.type)),m=gn(Rc);try{const C=oo(!1),w=h();return oo(C),function qv(i,r,o,a){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),r[o]=a}(o,Ye(),c,w),w}finally{gn(m)}}function Zu(i,r,o){const a=i+22,c=Ye(),h=no(c,a);return function Zc(i,r){return i[1].data[r].pure}(c,a)?gp(c,qi(),r,h.transform,o,h):h.transform(o)}function qc(i){return r=>{setTimeout(i,void 0,r)}}const za=class lh extends E.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let c=r,h=o||(()=>null),m=a;if(r&&"object"==typeof r){const w=r;c=w.next?.bind(w),h=w.error?.bind(w),m=w.complete?.bind(w)}this.__isAsync&&(h=qc(h),c&&(c=qc(c)),m&&(m=qc(m)));const C=super.subscribe({next:c,error:h,complete:m});return r instanceof d.w0&&r.add(C),C}};function $s(){return this._results[ml()]()}class _p{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ml(),a=_p.prototype;a[o]||(a[o]=$s)}get changes(){return this._changes||(this._changes=new za)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const c=y(r);(this._changesDetected=!function D(i,r,o){if(i.length!==r.length)return!1;for(let a=0;a<i.length;a++){let c=i[a],h=r[a];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(a._results,c,o))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ch=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ws,i})();const vp=ch,c0=class extends vp{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}createEmbeddedView(r,o){const a=this._declarationTContainer.tViews,c=Ug(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,o||null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(a)),jg(a,c,r),new Hd(c)}};function Ws(){return uh(ai(),Ye())}function uh(i,r){return 4&i.type?new c0(r,i,Ve(i,r)):null}let yp=(()=>{class i{}return i.__NG_ELEMENT_ID__=u0,i})();function u0(){return qu(ai(),Ye())}const CE=yp,d0=class extends CE{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return Ve(this._hostTNode,this._hostLView)}get injector(){return new Or(this._hostTNode,this._hostLView)}get parentInjector(){const r=fs(this._hostTNode,this._hostLView);if(_c(r)){const o=Do(r,this._hostLView),a=xs(r);return new Or(o[1].data[a+8],o)}return new Or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=h0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const m=r.createEmbeddedView(o||{},h);return this.insert(m,c),m}createComponent(r,o,a,c,h){const m=r&&!function ia(i){return"function"==typeof i}(r);let C;if(m)C=o;else{const $=o||{};C=$.index,a=$.injector,c=$.projectableNodes,h=$.environmentInjector||$.ngModuleRef}const w=m?r:new Ba(Xt(r)),P=a||this.parentInjector;if(!h&&null==w.ngModule){const fe=(m?P:this.parentInjector).get(sa,null);fe&&(h=fe)}const V=w.create(P,c,void 0,h);return this.insert(V.hostView,C),V}insert(r,o){const a=r._lView,c=a[1];if(function M(i){return vi(i[3])}(a)){const V=this.indexOf(r);if(-1!==V)this.detach(V);else{const $=a[3],fe=new d0($,$[6],$[3]);fe.detach(fe.indexOf(r))}}const h=this._adjustIndex(o),m=this._lContainer;!function Nb(i,r,o,a){const c=10+a,h=o.length;a>0&&(o[c-1][4]=r),a<h-10?(r[4]=o[c],T(o,10+a,r)):(o.push(r),r[4]=null),r[3]=o;const m=r[17];null!==m&&o!==m&&function Y_(i,r){const o=i[9];r[16]!==r[3][3][16]&&(i[2]=!0),null===o?i[9]=[r]:o.push(r)}(m,r);const C=r[19];null!==C&&C.insertView(i),r[2]|=64}(c,a,m,h);const C=Q_(h,m),w=a[11],P=Eg(w,m[7]);return null!==P&&function Ib(i,r,o,a,c,h){a[0]=c,a[6]=r,Jh(i,a,o,1,c,h)}(c,m[6],w,a,P,C),r.attachToViewContainerRef(),T(bp(m),h,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=h0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=bg(this._lContainer,o);a&&(A(bp(this._lContainer),o),Mb(a[1],a))}detach(r){const o=this._adjustIndex(r,-1),a=bg(this._lContainer,o);return a&&null!=A(bp(this._lContainer),o)?new Hd(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function h0(i){return i[8]}function bp(i){return i[8]||(i[8]=[])}function qu(i,r){let o;const a=r[i.index];if(vi(a))o=a;else{let c;if(8&i.type)c=Jn(a);else{const h=r[11];c=h.createComment("");const m=fi(i,r);yu(h,Eg(h,m),c,function NC(i,r){return i.nextSibling(r)}(h,m),!1)}r[i.index]=o=hf(a,r,c,i),Ld(r,o)}return new d0(o,i,r)}class dh{constructor(r){this.queryList=r,this.matches=null}clone(){return new dh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qu{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,c=[];for(let h=0;h<a;h++){const m=o.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new Qu(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==b0(r,o).matches&&this.queries[o].setDirty()}}class g0{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class hh{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,h=this.getByIndex(a).embeddedTView(r,c);h&&(h.indexInDeclarationView=a,null!==o?o.push(h):o=[h])}return null!==o?new hh(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Gm{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new Gm(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(r,o,wE(o,h)),this.matchTNodeWithReadOption(r,o,Eo(o,r,h,!1,!1))}else a===ch?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Eo(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===ut||c===yp||c===ch&&4&o.type)this.addMatch(o.index,-2);else{const h=Eo(o,r,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function wE(i,r){const o=i.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function m0(i,r,o,a){return-1===o?function TE(i,r){return 11&i.type?Ve(i,r):4&i.type?uh(i,r):null}(r,i):-2===o?function IE(i,r,o){return o===ut?Ve(r,i):o===ch?uh(r,i):o===yp?qu(r,i):void 0}(i,r,a):Gr(i,i[1],o,r)}function _0(i,r,o,a){const c=r[19].queries[a];if(null===c.matches){const h=i.data,m=o.matches,C=[];for(let w=0;w<m.length;w+=2){const P=m[w];C.push(P<0?null:m0(r,h[P],m[w+1],o.metadata.read))}c.matches=C}return c.matches}function $m(i,r,o,a){const c=i.queries.getByIndex(o),h=c.matches;if(null!==h){const m=_0(i,r,c,o);for(let C=0;C<h.length;C+=2){const w=h[C];if(w>0)a.push(m[C/2]);else{const P=h[C+1],V=r[-w];for(let $=10;$<V.length;$++){const fe=V[$];fe[17]===fe[3]&&$m(fe[1],fe,P,a)}if(null!==V[9]){const $=V[9];for(let fe=0;fe<$.length;fe++){const Me=$[fe];$m(Me[1],Me,P,a)}}}}}return a}function Dp(i){const r=Ye(),o=Kt(),a=ss();As(a+1);const c=b0(o,a);if(i.dirty&&N(r)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const h=c.crossesNgTemplate?$m(o,r,a,[]):_0(o,r,c,a);i.reset(h,Mt),i.notifyOnChanges()}return!0}return!1}function Wm(i,r,o){const a=Kt();a.firstCreatePass&&(Ep(a,new g0(i,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),y0(a,Ye(),r)}function v0(i,r,o,a){const c=Kt();if(c.firstCreatePass){const h=ai();Ep(c,new g0(r,o,a),h.index),function Cp(i,r){const o=i.contentQueries||(i.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,r)}(c,i),2==(2&o)&&(c.staticContentQueries=!0)}y0(c,Ye(),o)}function cc(){return function uc(i,r){return i[19].queries[r].queryList}(Ye(),ss())}function y0(i,r,o){const a=new _p(4==(4&o));gD(i,r,a,a.destroy),null===r[19]&&(r[19]=new Qu),r[19].queries.push(new dh(a))}function Ep(i,r,o){null===i.queries&&(i.queries=new hh),i.queries.track(new Gm(r,o))}function b0(i,r){return i.queries.getByIndex(r)}function Qc(i,r){return uh(i,r)}function Tr(i){const r=Xt(i)||Mn(i)||si(i);return null!==r&&r.standalone}function Ap(...i){}const L0=new rn("Application Initializer");let Qo=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Ap,this.reject=Ap,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Xn(h))o.push(h);else if(Cn(h)){const m=new Promise((C,w)=>{h.subscribe({complete:C,error:w})});o.push(m)}}Promise.all(o).then(()=>{a()}).catch(c=>{this.reject(c)}),0===o.length&&a(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(ki(L0,8))},i.\u0275prov=Rt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const B0=new rn("AppId",{providedIn:"root",factory:function Np(){return`${o_()}${o_()}${o_()}`}});function o_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const s_=new rn("Platform Initializer"),PE=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),V0=new rn("appBootstrapListener");let H0=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Rt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Mp=new rn("LocaleId",{providedIn:"root",factory:()=>nd(Mp,ft.Optional|ft.SkipSelf)||function xE(){return typeof $localize<"u"&&$localize.locale||Wc}()}),Cw=new rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class kE{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let FE=(()=>{class i{compileModuleSync(o){return new Vm(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),h=Kl(di(o).declarations).reduce((m,C)=>{const w=Xt(C);return w&&m.push(new Ba(w)),m},[]);return new kE(a,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Rt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const VE=(()=>Promise.resolve(0))();function a_(i){typeof Zone>"u"?VE.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Jo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new za(!1),this.onMicrotaskEmpty=new za(!1),this.onStable=new za(!1),this.onError=new za(!1),typeof Zone>"u")throw new Fe(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function HE(){let i=nt.requestAnimationFrame,r=nt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&r){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function GE(i){const r=()=>{!function jE(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(nt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,qa(i),i.isCheckStableRunning=!0,l_(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),qa(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,h,m,C)=>{try{return kr(i),o.invokeTask(c,h,m,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&r(),Xo(i)}},onInvoke:(o,a,c,h,m,C,w)=>{try{return kr(i),o.invoke(c,h,m,C,w)}finally{i.shouldCoalesceRunChangeDetection&&r(),Xo(i)}},onHasTask:(o,a,c,h)=>{o.hasTask(c,h),a===c&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,qa(i),l_(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,a,c,h)=>(o.handleError(c,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Jo.isInAngularZone())throw new Fe(909,!1)}static assertNotInAngularZone(){if(Jo.isInAngularZone())throw new Fe(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,r,UE,Ap,Ap);try{return h.runTask(m,o,a)}finally{h.cancelTask(m)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const UE={};function l_(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function qa(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function kr(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Xo(i){i._nesting--,l_(i)}class mh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new za,this.onMicrotaskEmpty=new za,this.onStable=new za,this.onError=new za}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,c){return r.apply(o,a)}}const G0=new rn(""),$0=new rn("");let c_,$E=(()=>{class i{constructor(o,a,c){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,c_||(function hc(i){c_=i}(c),c.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Jo.assertNotInAngularZone(),a_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())a_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:c})}whenStable(o,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,c){return[]}}return i.\u0275fac=function(o){return new(o||i)(ki(Jo),ki(W0),ki($0))},i.\u0275prov=Rt({token:i,factory:i.\u0275fac}),i})(),W0=(()=>{class i{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return c_?.findTestabilityInTree(this,o,a)??null}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Rt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),fc=null;const z0=new rn("AllowMultipleToken"),u_=new rn("PlatformDestroyListeners");class _h{constructor(r,o){this.name=r,this.token=o}}function d_(i,r,o=[]){const a=`Platform: ${r}`,c=new rn(a);return(h=[])=>{let m=f_();if(!m||m.injector.get(z0,!1)){const C=[...o,...h,{provide:c,useValue:!0}];i?i(C):function zE(i){if(fc&&!fc.get(z0,!1))throw new Fe(400,!1);fc=i;const r=i.get(J0);(function q0(i){const r=i.get(s_,null);r&&r.forEach(o=>o())})(i)}(function h_(i=[],r){return Du.create({name:r,providers:[{provide:jh,useValue:"platform"},{provide:u_,useValue:new Set([()=>fc=null])},...i]})}(C,a))}return function Q0(i){const r=f_();if(!r)throw new Fe(401,!1);return r}()}}function f_(){return fc?.get(J0)??null}let J0=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const c=function KE(i,r){let o;return o="noop"===i?new mh:("zone.js"===i?void 0:i)||new Jo(r),o}(a?.ngZone,function p_(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:Jo,useValue:c}];return c.run(()=>{const m=Du.create({providers:h,parent:this.injector,name:o.moduleType.name}),C=o.create(m),w=C.injector.get(Td,null);if(!w)throw new Fe(402,!1);return c.runOutsideAngular(()=>{const P=c.onError.subscribe({next:V=>{w.handleError(V)}});C.onDestroy(()=>{Rp(this._modules,C),P.unsubscribe()})}),function X0(i,r,o){try{const a=o();return Xn(a)?a.catch(c=>{throw r.runOutsideAngular(()=>i.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>i.handleError(a)),a}}(w,c,()=>{const P=C.injector.get(Qo);return P.runInitializers(),P.donePromise.then(()=>(Gu(C.injector.get(Mp,Wc)||Wc),this._moduleDoBootstrap(C),C))})})}bootstrapModule(o,a=[]){const c=g_({},a);return function K0(i,r,o){const a=new Vm(o);return Promise.resolve(a)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(o){const a=o.injector.get(Op);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Fe(403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(u_,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(ki(Du))},i.\u0275prov=Rt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function g_(i,r){return Array.isArray(r)?r.reduce(g_,i):{...i,...r}}let Op=(()=>{class i{constructor(o,a,c){this._zone=o,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new j.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),m=new j.y(C=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{Jo.assertNotInAngularZone(),a_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Jo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{w.unsubscribe(),P.unsubscribe()}});this.isStable=(0,he.T)(h,m.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const c=o instanceof g;if(!this._injector.get(Qo).done)throw!c&&Tr(o),new Fe(405,false);let m;m=c?o:this._injector.get(U).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const C=function Y0(i){return i.isBoundToModule}(m)?void 0:this._injector.get(Kc),P=m.create(Du.NULL,[],a||m.selector,C),V=P.location.nativeElement,$=P.injector.get(G0,null);return $?.registerApplication(V),P.onDestroy(()=>{this.detachView(P.hostView),Rp(this.components,P),$?.unregisterApplication(V)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new Fe(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Rp(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(V0,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Rp(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Fe(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(o){return new(o||i)(ki(Jo),ki(sa),ki(Td))},i.\u0275prov=Rt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Rp(i,r){const o=i.indexOf(r);o>-1&&i.splice(o,1)}let tb=!0,m_=!1;function ZE(){return m_=!0,tb}function n(){if(m_)throw new Error("Cannot enable prod mode after platform setup.");tb=!1}let l=(()=>{class i{}return i.__NG_ELEMENT_ID__=f,i})();function f(i){return function v(i,r,o){if(tr(i)&&!o){const a=Di(i.index,r);return new Hd(a,a)}return 47&i.type?new Hd(r[16],r):null}(ai(),Ye(),16==(16&i))}class es{constructor(){}supports(r){return Fc(r)}create(r){return new yh(r)}}const vh=(i,r)=>r;class yh{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||vh}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,c=0,h=null;for(;o||a;){const m=!a||o&&o.currentIndex<pc(a,c,h)?o:a,C=pc(m,c,h),w=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{h||(h=[]);const P=C-c,V=w-c;if(P!=V){for(let fe=0;fe<P;fe++){const Me=fe<h.length?h[fe]:h[fe]=0,Je=Me+fe;V<=Je&&Je<P&&(h[fe]=Me+1)}h[m.previousIndex]=V-P}}C!==w&&r(m,C,w)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Fc(r))throw new Fe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,h,m,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let C=0;C<this.length;C++)h=r[C],m=this._trackByFn(C,h),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,h,m,C)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,C),a=!0),o=o._next}else c=0,function SD(i,r){if(Array.isArray(i))for(let o=0;o<i.length;o++)r(i[o]);else{const o=i[ml()]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,C=>{m=this._trackByFn(c,C),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,C,m,c)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,m,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,c){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,h,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,h,c)):r=this._addAfter(new Es(o,a),h,c),r}_verifyReinsertion(r,o,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,h=r._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const c=null===o?this._itHead:o._next;return r._next=c,r._prev=o,null===c?this._itTail=r:c._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new bh),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bh),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Es{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ga{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class bh{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new ga,this.map.set(o,a)),a.add(r)}get(r,o){const c=this.map.get(r);return c?c.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pc(i,r,o){const a=i.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+r+c}class Dh{constructor(){}supports(r){return r instanceof Map||Cf(r)}create(){return new __}}class __{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Cf(r)))throw new Fe(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,o);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const a=new Eh(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class Eh{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ch(){return new gc([new es])}let gc=(()=>{class i{constructor(o){this.factories=o}static create(o,a){if(null!=a){const c=a.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:a=>i.create(o,a||Ch()),deps:[[i,new Lt,new et]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(null!=a)return a;throw new Fe(901,!1)}}return i.\u0275prov=Rt({token:i,providedIn:"root",factory:Ch}),i})();function Xu(){return new ed([new Dh])}let ed=(()=>{class i{constructor(o){this.factories=o}static create(o,a){if(a){const c=a.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:a=>i.create(o,a||Xu()),deps:[[i,new Lt,new et]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(a)return a;throw new Fe(901,!1)}}return i.\u0275prov=Rt({token:i,providedIn:"root",factory:Xu}),i})();const qE=d_(null,"core",[]);let ib=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(ki(Op))},i.\u0275mod=wt({type:i}),i.\u0275inj=pt({}),i})();function QE(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function ob(i,r){const o=Xt(i),a=r.elementInjector||wr();return new Ba(o).create(a,r.projectableNodes,r.hostElement,r.environmentInjector)}},1481:(mt,Oe,x)=>{x.d(Oe,{Dx:()=>Dn,b2:()=>ji,q6:()=>ft});var E=x(6895),d=x(4650);class j extends E.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class he extends j{static makeCurrent(){(0,E.HT)(new he)}onAndCancel(X,q,Ie){return X.addEventListener(q,Ie,!1),()=>{X.removeEventListener(q,Ie,!1)}}dispatchEvent(X,q){X.dispatchEvent(q)}remove(X){X.parentNode&&X.parentNode.removeChild(X)}createElement(X,q){return(q=q||this.getDefaultDocument()).createElement(X)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(X){return X.nodeType===Node.ELEMENT_NODE}isShadowRoot(X){return X instanceof DocumentFragment}getGlobalEventTarget(X,q){return"window"===q?window:"document"===q?X:"body"===q?X.body:null}getBaseHref(X){const q=function me(){return le=le||document.querySelector("base"),le?le.getAttribute("href"):null}();return null==q?null:function re(pe){Te=Te||document.createElement("a"),Te.setAttribute("href",pe);const X=Te.pathname;return"/"===X.charAt(0)?X:`/${X}`}(q)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(X){return(0,E.Mx)(document.cookie,X)}}let Te,le=null;const Se=new d.OlP("TRANSITION_ID"),Y=[{provide:d.ip1,useFactory:function J(pe,X,q){return()=>{q.get(d.CZH).donePromise.then(()=>{const Ie=(0,E.q)(),Ke=X.querySelectorAll(`style[ng-transition="${pe}"]`);for(let bt=0;bt<Ke.length;bt++)Ie.remove(Ke[bt])})}},deps:[Se,E.K0,d.zs3],multi:!0}];let Ne=(()=>{class pe{build(){return new XMLHttpRequest}}return pe.\u0275fac=function(q){return new(q||pe)},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const Ce=new d.OlP("EventManagerPlugins");let Fe=(()=>{class pe{constructor(q,Ie){this._zone=Ie,this._eventNameToPlugin=new Map,q.forEach(Ke=>Ke.manager=this),this._plugins=q.slice().reverse()}addEventListener(q,Ie,Ke){return this._findPluginFor(Ie).addEventListener(q,Ie,Ke)}addGlobalEventListener(q,Ie,Ke){return this._findPluginFor(Ie).addGlobalEventListener(q,Ie,Ke)}getZone(){return this._zone}_findPluginFor(q){const Ie=this._eventNameToPlugin.get(q);if(Ie)return Ie;const Ke=this._plugins;for(let bt=0;bt<Ke.length;bt++){const en=Ke[bt];if(en.supports(q))return this._eventNameToPlugin.set(q,en),en}throw new Error(`No event manager plugin found for event ${q}`)}}return pe.\u0275fac=function(q){return new(q||pe)(d.LFG(Ce),d.LFG(d.R0b))},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class Ze{constructor(X){this._doc=X}addGlobalEventListener(X,q,Ie){const Ke=(0,E.q)().getGlobalEventTarget(this._doc,X);if(!Ke)throw new Error(`Unsupported event target ${Ke} for event ${q}`);return this.addEventListener(Ke,q,Ie)}}let Re=(()=>{class pe{constructor(){this._stylesSet=new Set}addStyles(q){const Ie=new Set;q.forEach(Ke=>{this._stylesSet.has(Ke)||(this._stylesSet.add(Ke),Ie.add(Ke))}),this.onStylesAdded(Ie)}onStylesAdded(q){}getAllStyles(){return Array.from(this._stylesSet)}}return pe.\u0275fac=function(q){return new(q||pe)},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),pe})(),Pe=(()=>{class pe extends Re{constructor(q){super(),this._doc=q,this._hostNodes=new Map,this._hostNodes.set(q.head,[])}_addStylesToHost(q,Ie,Ke){q.forEach(bt=>{const en=this._doc.createElement("style");en.textContent=bt,Ke.push(Ie.appendChild(en))})}addHost(q){const Ie=[];this._addStylesToHost(this._stylesSet,q,Ie),this._hostNodes.set(q,Ie)}removeHost(q){const Ie=this._hostNodes.get(q);Ie&&Ie.forEach(st),this._hostNodes.delete(q)}onStylesAdded(q){this._hostNodes.forEach((Ie,Ke)=>{this._addStylesToHost(q,Ke,Ie)})}ngOnDestroy(){this._hostNodes.forEach(q=>q.forEach(st))}}return pe.\u0275fac=function(q){return new(q||pe)(d.LFG(E.K0))},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),pe})();function st(pe){(0,E.q)().remove(pe)}const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ge=/%COMP%/g;function de(pe,X,q){for(let Ie=0;Ie<X.length;Ie++){let Ke=X[Ie];Array.isArray(Ke)?de(pe,Ke,q):(Ke=Ke.replace(Ge,pe),q.push(Ke))}return q}function ye(pe){return X=>{if("__ngUnwrap__"===X)return pe;!1===pe(X)&&(X.preventDefault(),X.returnValue=!1)}}let Be=(()=>{class pe{constructor(q,Ie,Ke){this.eventManager=q,this.sharedStylesHost=Ie,this.appId=Ke,this.rendererByCompId=new Map,this.defaultRenderer=new De(q)}createRenderer(q,Ie){if(!q||!Ie)return this.defaultRenderer;switch(Ie.encapsulation){case d.ifc.Emulated:{let Ke=this.rendererByCompId.get(Ie.id);return Ke||(Ke=new Dt(this.eventManager,this.sharedStylesHost,Ie,this.appId),this.rendererByCompId.set(Ie.id,Ke)),Ke.applyToHost(q),Ke}case 1:case d.ifc.ShadowDom:return new ze(this.eventManager,this.sharedStylesHost,q,Ie);default:if(!this.rendererByCompId.has(Ie.id)){const Ke=de(Ie.id,Ie.styles,[]);this.sharedStylesHost.addStyles(Ke),this.rendererByCompId.set(Ie.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return pe.\u0275fac=function(q){return new(q||pe)(d.LFG(Fe),d.LFG(Pe),d.LFG(d.AFp))},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class De{constructor(X){this.eventManager=X,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(X,q){return q?document.createElementNS(ht[q]||q,X):document.createElement(X)}createComment(X){return document.createComment(X)}createText(X){return document.createTextNode(X)}appendChild(X,q){(It(X)?X.content:X).appendChild(q)}insertBefore(X,q,Ie){X&&(It(X)?X.content:X).insertBefore(q,Ie)}removeChild(X,q){X&&X.removeChild(q)}selectRootElement(X,q){let Ie="string"==typeof X?document.querySelector(X):X;if(!Ie)throw new Error(`The selector "${X}" did not match any elements`);return q||(Ie.textContent=""),Ie}parentNode(X){return X.parentNode}nextSibling(X){return X.nextSibling}setAttribute(X,q,Ie,Ke){if(Ke){q=Ke+":"+q;const bt=ht[Ke];bt?X.setAttributeNS(bt,q,Ie):X.setAttribute(q,Ie)}else X.setAttribute(q,Ie)}removeAttribute(X,q,Ie){if(Ie){const Ke=ht[Ie];Ke?X.removeAttributeNS(Ke,q):X.removeAttribute(`${Ie}:${q}`)}else X.removeAttribute(q)}addClass(X,q){X.classList.add(q)}removeClass(X,q){X.classList.remove(q)}setStyle(X,q,Ie,Ke){Ke&(d.JOm.DashCase|d.JOm.Important)?X.style.setProperty(q,Ie,Ke&d.JOm.Important?"important":""):X.style[q]=Ie}removeStyle(X,q,Ie){Ie&d.JOm.DashCase?X.style.removeProperty(q):X.style[q]=""}setProperty(X,q,Ie){X[q]=Ie}setValue(X,q){X.nodeValue=q}listen(X,q,Ie){return"string"==typeof X?this.eventManager.addGlobalEventListener(X,q,ye(Ie)):this.eventManager.addEventListener(X,q,ye(Ie))}}function It(pe){return"TEMPLATE"===pe.tagName&&void 0!==pe.content}class Dt extends De{constructor(X,q,Ie,Ke){super(X),this.component=Ie;const bt=de(Ke+"-"+Ie.id,Ie.styles,[]);q.addStyles(bt),this.contentAttr=function ee(pe){return"_ngcontent-%COMP%".replace(Ge,pe)}(Ke+"-"+Ie.id),this.hostAttr=function $e(pe){return"_nghost-%COMP%".replace(Ge,pe)}(Ke+"-"+Ie.id)}applyToHost(X){super.setAttribute(X,this.hostAttr,"")}createElement(X,q){const Ie=super.createElement(X,q);return super.setAttribute(Ie,this.contentAttr,""),Ie}}class ze extends De{constructor(X,q,Ie,Ke){super(X),this.sharedStylesHost=q,this.hostEl=Ie,this.shadowRoot=Ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const bt=de(Ke.id,Ke.styles,[]);for(let en=0;en<bt.length;en++){const Fn=document.createElement("style");Fn.textContent=bt[en],this.shadowRoot.appendChild(Fn)}}nodeOrShadowRoot(X){return X===this.hostEl?this.shadowRoot:X}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(X,q){return super.appendChild(this.nodeOrShadowRoot(X),q)}insertBefore(X,q,Ie){return super.insertBefore(this.nodeOrShadowRoot(X),q,Ie)}removeChild(X,q){return super.removeChild(this.nodeOrShadowRoot(X),q)}parentNode(X){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(X)))}}let Ot=(()=>{class pe extends Ze{constructor(q){super(q)}supports(q){return!0}addEventListener(q,Ie,Ke){return q.addEventListener(Ie,Ke,!1),()=>this.removeEventListener(q,Ie,Ke)}removeEventListener(q,Ie,Ke){return q.removeEventListener(Ie,Ke)}}return pe.\u0275fac=function(q){return new(q||pe)(d.LFG(E.K0))},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const Zt=["alt","control","meta","shift"],Rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pt={alt:pe=>pe.altKey,control:pe=>pe.ctrlKey,meta:pe=>pe.metaKey,shift:pe=>pe.shiftKey};let $t=(()=>{class pe extends Ze{constructor(q){super(q)}supports(q){return null!=pe.parseEventName(q)}addEventListener(q,Ie,Ke){const bt=pe.parseEventName(Ie),en=pe.eventCallback(bt.fullKey,Ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.q)().onAndCancel(q,bt.domEventName,en))}static parseEventName(q){const Ie=q.toLowerCase().split("."),Ke=Ie.shift();if(0===Ie.length||"keydown"!==Ke&&"keyup"!==Ke)return null;const bt=pe._normalizeKey(Ie.pop());let en="";if(Zt.forEach(kt=>{const Xi=Ie.indexOf(kt);Xi>-1&&(Ie.splice(Xi,1),en+=kt+".")}),en+=bt,0!=Ie.length||0===bt.length)return null;const Fn={};return Fn.domEventName=Ke,Fn.fullKey=en,Fn}static getEventFullKey(q){let Ie="",Ke=function Yn(pe){let X=pe.key;if(null==X){if(X=pe.keyIdentifier,null==X)return"Unidentified";X.startsWith("U+")&&(X=String.fromCharCode(parseInt(X.substring(2),16)),3===pe.location&&fn.hasOwnProperty(X)&&(X=fn[X]))}return Rt[X]||X}(q);return Ke=Ke.toLowerCase()," "===Ke?Ke="space":"."===Ke&&(Ke="dot"),Zt.forEach(bt=>{bt!=Ke&&(0,pt[bt])(q)&&(Ie+=bt+".")}),Ie+=Ke,Ie}static eventCallback(q,Ie,Ke){return bt=>{pe.getEventFullKey(bt)===q&&Ke.runGuarded(()=>Ie(bt))}}static _normalizeKey(q){return"esc"===q?"escape":q}}return pe.\u0275fac=function(q){return new(q||pe)(d.LFG(E.K0))},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const ft=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:E.bD},{provide:d.g9A,useValue:function xn(){he.makeCurrent()},multi:!0},{provide:E.K0,useFactory:function ti(){return(0,d.RDi)(document),document},deps:[]}]),Ut=new d.OlP(""),nn=[{provide:d.rWj,useClass:class ie{addToWindow(X){d.dqk.getAngularTestability=(Ie,Ke=!0)=>{const bt=X.findTestabilityInTree(Ie,Ke);if(null==bt)throw new Error("Could not find testability for element.");return bt},d.dqk.getAllAngularTestabilities=()=>X.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>X.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(Ie=>{const Ke=d.dqk.getAllAngularTestabilities();let bt=Ke.length,en=!1;const Fn=function(kt){en=en||kt,bt--,0==bt&&Ie(en)};Ke.forEach(function(kt){kt.whenStable(Fn)})})}findTestabilityInTree(X,q,Ie){return null==q?null:X.getTestability(q)??(Ie?(0,E.q)().isShadowRoot(q)?this.findTestabilityInTree(X,q.host,!0):this.findTestabilityInTree(X,q.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],gn=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function pi(){return new d.qLn},deps:[]},{provide:Ce,useClass:Ot,multi:!0,deps:[E.K0,d.R0b,d.Lbi]},{provide:Ce,useClass:$t,multi:!0,deps:[E.K0]},{provide:Be,useClass:Be,deps:[Fe,Pe,d.AFp]},{provide:d.FYo,useExisting:Be},{provide:Re,useExisting:Pe},{provide:Pe,useClass:Pe,deps:[E.K0]},{provide:Fe,useClass:Fe,deps:[Ce,d.R0b]},{provide:E.JF,useClass:Ne,deps:[]},[]];let ji=(()=>{class pe{constructor(q){}static withServerTransition(q){return{ngModule:pe,providers:[{provide:d.AFp,useValue:q.appId},{provide:Se,useExisting:d.AFp},Y]}}}return pe.\u0275fac=function(q){return new(q||pe)(d.LFG(Ut,12))},pe.\u0275mod=d.oAB({type:pe}),pe.\u0275inj=d.cJS({providers:[...gn,...nn],imports:[E.ez,d.hGG]}),pe})(),Dn=(()=>{class pe{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}}return pe.\u0275fac=function(q){return new(q||pe)(d.LFG(E.K0))},pe.\u0275prov=d.Yz7({token:pe,factory:function(q){let Ie=null;return Ie=q?new q:function ci(){return new Dn((0,d.LFG)(E.K0))}(),Ie},providedIn:"root"}),pe})();typeof window<"u"&&window},2038:(mt,Oe,x)=>{x.d(Oe,{F0:()=>Hn,Bz:()=>al,lC:()=>_o});var E=x(4650),d=x(9751),j=x(8421);function he(D){return new d.y(y=>{(0,j.Xf)(D()).subscribe(y)})}var le=x(576);function me(D,y){const _=(0,le.m)(D)?D:()=>D,T=A=>A.error(_());return new d.y(y?A=>y.schedule(T,0,A):T)}var Te=x(727),re=x(4482),Se=x(5403);function J(){return(0,re.e)((D,y)=>{let _=null;D._refCount++;const T=(0,Se.x)(y,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(_=null);const A=D._connection,L=_;_=null,A&&(!L||A===L)&&A.unsubscribe(),y.unsubscribe()});D.subscribe(T),T.closed||(_=D.connect())})}class Y extends d.y{constructor(y,_){super(),this.source=y,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,re.A)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,y?.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new Te.w0;const _=this.getSubject();y.add(this.source.subscribe((0,Se.x)(_,void 0,()=>{this._teardown(),_.complete()},T=>{this._teardown(),_.error(T)},()=>this._teardown()))),y.closed&&(this._connection=null,y=Te.w0.EMPTY)}return y}refCount(){return J()(this)}}var ie=x(8996),Ne=x(9646),Ce=x(1135),Fe=x(9841),Ze=x(7272),Re=x(9635),Pe=x(6805),st=x(515),ht=x(7579),Ge=x(6895),ke=x(5577);function Ue(D,y){return(0,le.m)(y)?(0,ke.z)(D,y,1):(0,ke.z)(D,1)}function tt(D){return(0,re.e)((y,_)=>{let L,T=null,A=!1;T=y.subscribe((0,Se.x)(_,void 0,void 0,W=>{L=(0,j.Xf)(D(W,tt(D)(y))),T?(T.unsubscribe(),T=null,L.subscribe(_)):A=!0})),A&&(T.unsubscribe(),T=null,L.subscribe(_))})}var rt=x(9300);function ee(D){return D<=0?()=>st.E:(0,re.e)((y,_)=>{let T=[];y.subscribe((0,Se.x)(_,A=>{T.push(A),D<T.length&&T.shift()},()=>{for(const A of T)_.next(A);_.complete()},void 0,()=>{T=null}))})}var $e=x(8068),de=x(6590),ye=x(4671);function be(D,y){const _=arguments.length>=2;return T=>T.pipe(D?(0,rt.h)((A,L)=>D(A,L,T)):ye.y,ee(1),_?(0,de.d)(y):(0,$e.T)(()=>new Pe.K))}var De=x(4004),Qe=x(3900),lt=x(5698),It=x(8675),Dt=x(590),ze=x(8505),Ot=x(5026),Zt=x(9718),Ft=x(8746),Rt=x(8189),fn=x(1481);const pt="primary";class $t{constructor(y){this.params=y||{}}has(y){return Object.prototype.hasOwnProperty.call(this.params,y)}get(y){if(this.has(y)){const _=this.params[y];return Array.isArray(_)?_[0]:_}return null}getAll(y){if(this.has(y)){const _=this.params[y];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function Yn(D){return new $t(D)}function Zn(D,y,_){const T=_.path.split("/");if(T.length>D.length||"full"===_.pathMatch&&(y.hasChildren()||T.length<D.length))return null;const A={};for(let L=0;L<T.length;L++){const W=T[L],ne=D[L];if(W.startsWith(":"))A[W.substring(1)]=ne;else if(W!==ne.path)return null}return{consumed:D.slice(0,T.length),posParams:A}}function An(D,y){const _=D?Object.keys(D):void 0,T=y?Object.keys(y):void 0;if(!_||!T||_.length!=T.length)return!1;let A;for(let L=0;L<_.length;L++)if(A=_[L],!xn(D[A],y[A]))return!1;return!0}function xn(D,y){if(Array.isArray(D)&&Array.isArray(y)){if(D.length!==y.length)return!1;const _=[...D].sort(),T=[...y].sort();return _.every((A,L)=>T[L]===A)}return D===y}function pi(D){return Array.prototype.concat.apply([],D)}function ti(D){return D.length>0?D[D.length-1]:null}function ft(D,y){for(const _ in D)D.hasOwnProperty(_)&&y(D[_],_)}function Ut(D){return(0,E.CqO)(D)?D:(0,E.QGY)(D)?(0,ie.D)(Promise.resolve(D)):(0,Ne.of)(D)}const ji={exact:function ci(D,y,_){if(!kn(D.segments,y.segments)||!Ct(D.segments,y.segments,_)||D.numberOfChildren!==y.numberOfChildren)return!1;for(const T in y.children)if(!D.children[T]||!ci(D.children[T],y.children[T],_))return!1;return!0},subset:Wt},Oi={exact:function ri(D,y){return An(D,y)},subset:function Dn(D,y){return Object.keys(y).length<=Object.keys(D).length&&Object.keys(y).every(_=>xn(D[_],y[_]))},ignored:()=>!0};function Bn(D,y,_){return ji[_.paths](D.root,y.root,_.matrixParams)&&Oi[_.queryParams](D.queryParams,y.queryParams)&&!("exact"===_.fragment&&D.fragment!==y.fragment)}function Wt(D,y,_){return nt(D,y,y.segments,_)}function nt(D,y,_,T){if(D.segments.length>_.length){const A=D.segments.slice(0,_.length);return!(!kn(A,_)||y.hasChildren()||!Ct(A,_,T))}if(D.segments.length===_.length){if(!kn(D.segments,_)||!Ct(D.segments,_,T))return!1;for(const A in y.children)if(!D.children[A]||!Wt(D.children[A],y.children[A],T))return!1;return!0}{const A=_.slice(0,D.segments.length),L=_.slice(D.segments.length);return!!(kn(D.segments,A)&&Ct(D.segments,A,T)&&D.children[pt])&&nt(D.children[pt],y,L,T)}}function Ct(D,y,_){return y.every((T,A)=>Oi[_](D[A].parameters,T.parameters))}class Nn{constructor(y,_,T){this.root=y,this.queryParams=_,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yn(this.queryParams)),this._queryParamMap}toString(){return te.serialize(this)}}class St{constructor(y,_){this.segments=y,this.children=_,this.parent=null,ft(_,(T,A)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ae(this)}}class At{constructor(y,_){this.path=y,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=Yn(this.parameters)),this._parameterMap}toString(){return zt(this)}}function kn(D,y){return D.length===y.length&&D.every((_,T)=>_.path===y[T].path)}class pn{}class Ni{parse(y){const _=new Gt(y);return new Nn(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(y){const _=`/${Q(y.root,!0)}`,T=function qt(D){const y=Object.keys(D).map(_=>{const T=D[_];return Array.isArray(T)?T.map(A=>`${oe(_)}=${oe(A)}`).join("&"):`${oe(_)}=${oe(T)}`}).filter(_=>!!_);return y.length?`?${y.join("&")}`:""}(y.queryParams);return`${_}${T}${"string"==typeof y.fragment?`#${function Xe(D){return encodeURI(D)}(y.fragment)}`:""}`}}const te=new Ni;function ae(D){return D.segments.map(y=>zt(y)).join("/")}function Q(D,y){if(!D.hasChildren())return ae(D);if(y){const _=D.children[pt]?Q(D.children[pt],!1):"",T=[];return ft(D.children,(A,L)=>{L!==pt&&T.push(`${L}:${Q(A,!1)}`)}),T.length>0?`${_}(${T.join("//")})`:_}{const _=function oi(D,y){let _=[];return ft(D.children,(T,A)=>{A===pt&&(_=_.concat(y(T,A)))}),ft(D.children,(T,A)=>{A!==pt&&(_=_.concat(y(T,A)))}),_}(D,(T,A)=>A===pt?[Q(D.children[pt],!1)]:[`${A}:${Q(T,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[pt]?`${ae(D)}/${_[0]}`:`${ae(D)}/(${_.join("//")})`}}function ce(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oe(D){return ce(D).replace(/%3B/gi,";")}function ct(D){return ce(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wt(D){return decodeURIComponent(D)}function hn(D){return wt(D.replace(/\+/g,"%20"))}function zt(D){return`${ct(D.path)}${function ui(D){return Object.keys(D).map(y=>`;${ct(y)}=${ct(D[y])}`).join("")}(D.parameters)}`}const Xt=/^[^\/()?;=#]+/;function Mn(D){const y=D.match(Xt);return y?y[0]:""}const si=/^[^=?&#]+/,Ri=/^[^&#]+/;class Gt{constructor(y){this.url=y,this.remaining=y}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){const y={};if(this.consumeOptional("?"))do{this.parseQueryParam(y)}while(this.consumeOptional("&"));return y}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const y=[];for(this.peekStartsWith("(")||y.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),y.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(y.length>0||Object.keys(_).length>0)&&(T[pt]=new St(y,_)),T}parseSegment(){const y=Mn(this.remaining);if(""===y&&this.peekStartsWith(";"))throw new E.vHH(4009,!1);return this.capture(y),new At(wt(y),this.parseMatrixParams())}parseMatrixParams(){const y={};for(;this.consumeOptional(";");)this.parseParam(y);return y}parseParam(y){const _=Mn(this.remaining);if(!_)return;this.capture(_);let T="";if(this.consumeOptional("=")){const A=Mn(this.remaining);A&&(T=A,this.capture(T))}y[wt(_)]=wt(T)}parseQueryParam(y){const _=function di(D){const y=D.match(si);return y?y[0]:""}(this.remaining);if(!_)return;this.capture(_);let T="";if(this.consumeOptional("=")){const W=function ot(D){const y=D.match(Ri);return y?y[0]:""}(this.remaining);W&&(T=W,this.capture(T))}const A=hn(_),L=hn(T);if(y.hasOwnProperty(A)){let W=y[A];Array.isArray(W)||(W=[W],y[A]=W),W.push(L)}else y[A]=L}parseParens(y){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=Mn(this.remaining),A=this.remaining[T.length];if("/"!==A&&")"!==A&&";"!==A)throw new E.vHH(4010,!1);let L;T.indexOf(":")>-1?(L=T.slice(0,T.indexOf(":")),this.capture(L),this.capture(":")):y&&(L=pt);const W=this.parseChildren();_[L]=1===Object.keys(W).length?W[pt]:new St([],W),this.consumeOptional("//")}return _}peekStartsWith(y){return this.remaining.startsWith(y)}consumeOptional(y){return!!this.peekStartsWith(y)&&(this.remaining=this.remaining.substring(y.length),!0)}capture(y){if(!this.consumeOptional(y))throw new E.vHH(4011,!1)}}function pe(D){return D.segments.length>0?new St([],{[pt]:D}):D}function X(D){const y={};for(const T of Object.keys(D.children)){const L=X(D.children[T]);(L.segments.length>0||L.hasChildren())&&(y[T]=L)}return function q(D){if(1===D.numberOfChildren&&D.children[pt]){const y=D.children[pt];return new St(D.segments.concat(y.segments),y.children)}return D}(new St(D.segments,y))}function Ie(D){return D instanceof Nn}function kt(D,y,_,T,A){if(0===_.length)return Yi(y.root,y.root,y.root,T,A);const L=function _r(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new qn(!0,0,D);let y=0,_=!1;const T=D.reduce((A,L,W)=>{if("object"==typeof L&&null!=L){if(L.outlets){const ne={};return ft(L.outlets,(je,_t)=>{ne[_t]="string"==typeof je?je.split("/"):je}),[...A,{outlets:ne}]}if(L.segmentPath)return[...A,L.segmentPath]}return"string"!=typeof L?[...A,L]:0===W?(L.split("/").forEach((ne,je)=>{0==je&&"."===ne||(0==je&&""===ne?_=!0:".."===ne?y++:""!=ne&&A.push(ne))}),A):[...A,L]},[]);return new qn(_,y,T)}(_);return L.toRoot()?Yi(y.root,y.root,new St([],{}),T,A):function W(je){const _t=function sr(D,y,_,T){if(D.isAbsolute)return new Gi(y.root,!0,0);if(-1===T)return new Gi(_,_===y.root,0);return function _i(D,y,_){let T=D,A=y,L=_;for(;L>A;){if(L-=A,T=T.parent,!T)throw new E.vHH(4005,!1);A=T.segments.length}return new Gi(T,!1,A-L)}(_,T+(Xi(D.commands[0])?0:1),D.numberOfDoubleDots)}(L,y,D.snapshot?._urlSegment,je),ln=_t.processChildren?Ir(_t.segmentGroup,_t.index,L.commands):mo(_t.segmentGroup,_t.index,L.commands);return Yi(y.root,_t.segmentGroup,ln,T,A)}(D.snapshot?._lastPathIndex)}function Xi(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function wn(D){return"object"==typeof D&&null!=D&&D.outlets}function Yi(D,y,_,T,A){let W,L={};T&&ft(T,(je,_t)=>{L[_t]=Array.isArray(je)?je.map(ln=>`${ln}`):`${je}`}),W=D===y?_:er(D,y,_);const ne=pe(X(W));return new Nn(ne,L,A)}function er(D,y,_){const T={};return ft(D.children,(A,L)=>{T[L]=A===y?_:er(A,y,_)}),new St(D.segments,T)}class qn{constructor(y,_,T){if(this.isAbsolute=y,this.numberOfDoubleDots=_,this.commands=T,y&&T.length>0&&Xi(T[0]))throw new E.vHH(4003,!1);const A=T.find(wn);if(A&&A!==ti(T))throw new E.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gi{constructor(y,_,T){this.segmentGroup=y,this.processChildren=_,this.index=T}}function mo(D,y,_){if(D||(D=new St([],{})),0===D.segments.length&&D.hasChildren())return Ir(D,y,_);const T=function vr(D,y,_){let T=0,A=y;const L={match:!1,pathIndex:0,commandIndex:0};for(;A<D.segments.length;){if(T>=_.length)return L;const W=D.segments[A],ne=_[T];if(wn(ne))break;const je=`${ne}`,_t=T<_.length-1?_[T+1]:null;if(A>0&&void 0===je)break;if(je&&_t&&"object"==typeof _t&&void 0===_t.outlets){if(!xi(je,_t,W))return L;T+=2}else{if(!xi(je,{},W))return L;T++}A++}return{match:!0,pathIndex:A,commandIndex:T}}(D,y,_),A=_.slice(T.commandIndex);if(T.match&&T.pathIndex<D.segments.length){const L=new St(D.segments.slice(0,T.pathIndex),{});return L.children[pt]=new St(D.segments.slice(T.pathIndex),D.children),Ir(L,0,A)}return T.match&&0===A.length?new St(D.segments,{}):T.match&&!D.hasChildren()?yr(D,y,_):T.match?Ir(D,0,A):yr(D,y,_)}function Ir(D,y,_){if(0===_.length)return new St(D.segments,{});{const T=function En(D){return wn(D[0])?D[0].outlets:{[pt]:D}}(_),A={};return ft(T,(L,W)=>{"string"==typeof L&&(L=[L]),null!==L&&(A[W]=mo(D.children[W],y,L))}),ft(D.children,(L,W)=>{void 0===T[W]&&(A[W]=L)}),new St(D.segments,A)}}function yr(D,y,_){const T=D.segments.slice(0,y);let A=0;for(;A<_.length;){const L=_[A];if(wn(L)){const je=hr(L.outlets);return new St(T,je)}if(0===A&&Xi(_[0])){T.push(new At(D.segments[y].path,br(_[0]))),A++;continue}const W=wn(L)?L.outlets[pt]:`${L}`,ne=A<_.length-1?_[A+1]:null;W&&ne&&Xi(ne)?(T.push(new At(W,br(ne))),A+=2):(T.push(new At(W,{})),A++)}return new St(T,{})}function hr(D){const y={};return ft(D,(_,T)=>{"string"==typeof _&&(_=[_]),null!==_&&(y[T]=yr(new St([],{}),0,_))}),y}function br(D){const y={};return ft(D,(_,T)=>y[T]=`${_}`),y}function xi(D,y,_){return D==_.path&&An(y,_.parameters)}class yn{constructor(y,_){this.id=y,this.url=_}}class Kr extends yn{constructor(y,_,T="imperative",A=null){super(y,_),this.type=0,this.navigationTrigger=T,this.restoredState=A}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $n extends yn{constructor(y,_,T){super(y,_),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vi extends yn{constructor(y,_,T,A){super(y,_),this.reason=T,this.code=A,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hi extends yn{constructor(y,_,T,A){super(y,_),this.error=T,this.target=A,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tr extends yn{constructor(y,_,T,A){super(y,_),this.urlAfterRedirects=T,this.state=A,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sr extends yn{constructor(y,_,T,A){super(y,_),this.urlAfterRedirects=T,this.state=A,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ar extends yn{constructor(y,_,T,A,L){super(y,_),this.urlAfterRedirects=T,this.state=A,this.shouldActivate=L,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Oo extends yn{constructor(y,_,T,A){super(y,_),this.urlAfterRedirects=T,this.state=A,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class El extends yn{constructor(y,_,T,A){super(y,_),this.urlAfterRedirects=T,this.state=A,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ts{constructor(y){this.route=y,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Cs{constructor(y){this.route=y,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ro{constructor(y){this.snapshot=y,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Po{constructor(y){this.snapshot=y,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nr{constructor(y){this.snapshot=y,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ge{constructor(y){this.snapshot=y,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ve{constructor(y,_,T){this.routerEvent=y,this.position=_,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qe{constructor(y){this._root=y}get root(){return this._root.value}parent(y){const _=this.pathFromRoot(y);return _.length>1?_[_.length-2]:null}children(y){const _=dt(y,this._root);return _?_.children.map(T=>T.value):[]}firstChild(y){const _=dt(y,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(y){const _=Tt(y,this._root);return _.length<2?[]:_[_.length-2].children.map(A=>A.value).filter(A=>A!==y)}pathFromRoot(y){return Tt(y,this._root).map(_=>_.value)}}function dt(D,y){if(D===y.value)return y;for(const _ of y.children){const T=dt(D,_);if(T)return T}return null}function Tt(D,y){if(D===y.value)return[y];for(const _ of y.children){const T=Tt(D,_);if(T.length)return T.unshift(y),T}return[]}class jt{constructor(y,_){this.value=y,this.children=_}toString(){return`TreeNode(${this.value})`}}function yi(D){const y={};return D&&D.children.forEach(_=>y[_.value.outlet]=_),y}class bn extends qe{constructor(y,_){super(y),this.snapshot=_,Zi(this,y)}toString(){return this.snapshot.toString()}}function ar(D,y){const _=function ns(D,y){const W=new Fr([],{},{},"",{},pt,y,null,D.root,-1,{});return new Zr("",new jt(W,[]))}(D,y),T=new Ce.X([new At("",{})]),A=new Ce.X({}),L=new Ce.X({}),W=new Ce.X({}),ne=new Ce.X(""),je=new Dr(T,A,W,ne,L,pt,y,_.root);return je.snapshot=_.root,new bn(new jt(je,[]),_)}class Dr{constructor(y,_,T,A,L,W,ne,je){this.url=y,this.params=_,this.queryParams=T,this.fragment=A,this.data=L,this.outlet=W,this.component=ne,this._futureSnapshot=je}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,De.U)(y=>Yn(y)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,De.U)(y=>Yn(y)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lr(D,y="emptyOnly"){const _=D.pathFromRoot;let T=0;if("always"!==y)for(T=_.length-1;T>=1;){const A=_[T],L=_[T-1];if(A.routeConfig&&""===A.routeConfig.path)T--;else{if(L.component)break;T--}}return function Yr(D){return D.reduce((y,_)=>({params:{...y.params,..._.params},data:{...y.data,..._.data},resolve:{..._.data,...y.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(T))}class Fr{constructor(y,_,T,A,L,W,ne,je,_t,ln,Nt,on){this.url=y,this.params=_,this.queryParams=T,this.fragment=A,this.data=L,this.outlet=W,this.component=ne,this.routeConfig=je,this._urlSegment=_t,this._lastPathIndex=ln,this._correctedLastPathIndex=on??ln,this._resolve=Nt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zr extends qe{constructor(y,_){super(_),this.url=y,Zi(this,_)}toString(){return Lr(this._root)}}function Zi(D,y){y.value._routerState=D,y.children.forEach(_=>Zi(D,_))}function Lr(D){const y=D.children.length>0?` { ${D.children.map(Lr).join(", ")} } `:"";return`${D.value}${y}`}function $i(D){if(D.snapshot){const y=D.snapshot,_=D._futureSnapshot;D.snapshot=_,An(y.queryParams,_.queryParams)||D.queryParams.next(_.queryParams),y.fragment!==_.fragment&&D.fragment.next(_.fragment),An(y.params,_.params)||D.params.next(_.params),function li(D,y){if(D.length!==y.length)return!1;for(let _=0;_<D.length;++_)if(!An(D[_],y[_]))return!1;return!0}(y.url,_.url)||D.url.next(_.url),An(y.data,_.data)||D.data.next(_.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function Er(D,y){const _=An(D.params,y.params)&&function Ai(D,y){return kn(D,y)&&D.every((_,T)=>An(_.parameters,y[T].parameters))}(D.url,y.url);return _&&!(!D.parent!=!y.parent)&&(!D.parent||Er(D.parent,y.parent))}function Qr(D,y,_){if(_&&D.shouldReuseRoute(y.value,_.value.snapshot)){const T=_.value;T._futureSnapshot=y.value;const A=function Jr(D,y,_){return y.children.map(T=>{for(const A of _.children)if(D.shouldReuseRoute(T.value,A.value.snapshot))return Qr(D,T,A);return Qr(D,T)})}(D,y,_);return new jt(T,A)}{if(D.shouldAttach(y.value)){const L=D.retrieve(y.value);if(null!==L){const W=L.route;return W.value._futureSnapshot=y.value,W.children=y.children.map(ne=>Qr(D,ne)),W}}const T=function xo(D){return new Dr(new Ce.X(D.url),new Ce.X(D.params),new Ce.X(D.queryParams),new Ce.X(D.fragment),new Ce.X(D.data),D.outlet,D.component,D)}(y.value),A=y.children.map(L=>Qr(D,L));return new jt(T,A)}}const ws="ngNavigationCancelingError";function Xr(D,y){const{redirectTo:_,navigationBehaviorOptions:T}=Ie(y)?{redirectTo:y,navigationBehaviorOptions:void 0}:y,A=Br(!1,0,y);return A.url=_,A.navigationBehaviorOptions=T,A}function Br(D,y,_){const T=new Error("NavigationCancelingError: "+(D||""));return T[ws]=!0,T.cancellationCode=y,_&&(T.url=_),T}function Qn(D){return Ts(D)&&Ie(D.url)}function Ts(D){return D&&D[ws]}class Is{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new eo,this.attachRef=null}}class eo{constructor(){this.contexts=new Map}onChildOutletCreated(y,_){const T=this.getOrCreateContext(y);T.outlet=_,this.contexts.set(y,T)}onChildOutletDestroyed(y){const _=this.getContext(y);_&&(_.outlet=null,_.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let _=this.getContext(y);return _||(_=new Is,this.contexts.set(y,_)),_}getContext(y){return this.contexts.get(y)||null}}const bi=!1;let _o=(()=>{class D{constructor(_,T,A,L,W){this.parentContexts=_,this.location=T,this.changeDetector=L,this.environmentInjector=W,this.activated=null,this._activatedRoute=null,this.activateEvents=new E.vpe,this.deactivateEvents=new E.vpe,this.attachEvents=new E.vpe,this.detachEvents=new E.vpe,this.name=A||pt,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E.vHH(4012,bi);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E.vHH(4012,bi);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E.vHH(4012,bi);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,T){this.activated=_,this._activatedRoute=T,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,T){if(this.isActivated)throw new E.vHH(4013,bi);this._activatedRoute=_;const A=this.location,W=_._futureSnapshot.component,ne=this.parentContexts.getOrCreateContext(this.name).children,je=new Jn(_,ne,A.injector);if(T&&function is(D){return!!D.resolveComponentFactory}(T)){const _t=T.resolveComponentFactory(W);this.activated=A.createComponent(_t,A.length,je)}else this.activated=A.createComponent(W,{index:A.length,injector:je,environmentInjector:T??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(_){return new(_||D)(E.Y36(eo),E.Y36(E.s_b),E.$8M("name"),E.Y36(E.sBO),E.Y36(E.lqb))},D.\u0275dir=E.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),D})();class Jn{constructor(y,_,T){this.route=y,this.childContexts=_,this.parent=T}get(y,_){return y===Dr?this.route:y===eo?this.childContexts:this.parent.get(y,_)}}let zs=(()=>{class D{}return D.\u0275fac=function(_){return new(_||D)},D.\u0275cmp=E.Xpm({type:D,selectors:[["ng-component"]],decls:1,vars:0,template:function(_,T){1&_&&E._UZ(0,"router-outlet")},dependencies:[_o],encapsulation:2}),D})();function to(D,y){return D.providers&&!D._injector&&(D._injector=(0,E.MMx)(D.providers,y,`Route: ${D.path}`)),D._injector??y}function G(D){const y=D.children&&D.children.map(G),_=y?{...D,children:y}:{...D};return!_.component&&!_.loadComponent&&(y||_.loadChildren)&&_.outlet&&_.outlet!==pt&&(_.component=zs),_}function se(D){return D.outlet||pt}function He(D,y){const _=D.filter(T=>se(T)===y);return _.push(...D.filter(T=>se(T)!==y)),_}function Ae(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let y=D.parent;y;y=y.parent){const _=y.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class Vn{constructor(y,_,T,A){this.routeReuseStrategy=y,this.futureState=_,this.currState=T,this.forwardEvent=A}activate(y){const _=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,T,y),$i(this.futureState.root),this.activateChildRoutes(_,T,y)}deactivateChildRoutes(y,_,T){const A=yi(_);y.children.forEach(L=>{const W=L.value.outlet;this.deactivateRoutes(L,A[W],T),delete A[W]}),ft(A,(L,W)=>{this.deactivateRouteAndItsChildren(L,T)})}deactivateRoutes(y,_,T){const A=y.value,L=_?_.value:null;if(A===L)if(A.component){const W=T.getContext(A.outlet);W&&this.deactivateChildRoutes(y,_,W.children)}else this.deactivateChildRoutes(y,_,T);else L&&this.deactivateRouteAndItsChildren(_,T)}deactivateRouteAndItsChildren(y,_){y.value.component&&this.routeReuseStrategy.shouldDetach(y.value.snapshot)?this.detachAndStoreRouteSubtree(y,_):this.deactivateRouteAndOutlet(y,_)}detachAndStoreRouteSubtree(y,_){const T=_.getContext(y.value.outlet),A=T&&y.value.component?T.children:_,L=yi(y);for(const W of Object.keys(L))this.deactivateRouteAndItsChildren(L[W],A);if(T&&T.outlet){const W=T.outlet.detach(),ne=T.children.onOutletDeactivated();this.routeReuseStrategy.store(y.value.snapshot,{componentRef:W,route:y,contexts:ne})}}deactivateRouteAndOutlet(y,_){const T=_.getContext(y.value.outlet),A=T&&y.value.component?T.children:_,L=yi(y);for(const W of Object.keys(L))this.deactivateRouteAndItsChildren(L[W],A);T&&T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated(),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(y,_,T){const A=yi(_);y.children.forEach(L=>{this.activateRoutes(L,A[L.value.outlet],T),this.forwardEvent(new ge(L.value.snapshot))}),y.children.length&&this.forwardEvent(new Po(y.value.snapshot))}activateRoutes(y,_,T){const A=y.value,L=_?_.value:null;if($i(A),A===L)if(A.component){const W=T.getOrCreateContext(A.outlet);this.activateChildRoutes(y,_,W.children)}else this.activateChildRoutes(y,_,T);else if(A.component){const W=T.getOrCreateContext(A.outlet);if(this.routeReuseStrategy.shouldAttach(A.snapshot)){const ne=this.routeReuseStrategy.retrieve(A.snapshot);this.routeReuseStrategy.store(A.snapshot,null),W.children.onOutletReAttached(ne.contexts),W.attachRef=ne.componentRef,W.route=ne.route.value,W.outlet&&W.outlet.attach(ne.componentRef,ne.route.value),$i(ne.route.value),this.activateChildRoutes(y,null,W.children)}else{const ne=Ae(A.snapshot),je=ne?.get(E._Vd)??null;W.attachRef=null,W.route=A,W.resolver=je,W.injector=ne,W.outlet&&W.outlet.activateWith(A,W.injector),this.activateChildRoutes(y,null,W.children)}}else this.activateChildRoutes(y,null,T)}}class On{constructor(y){this.path=y,this.route=this.path[this.path.length-1]}}class Sn{constructor(y,_){this.component=y,this.route=_}}function _n(D,y,_){const T=D._root;return ni(T,y?y._root:null,_,[T.value])}function vn(D,y,_){return(Ae(y)??_).get(D)}function ni(D,y,_,T,A={canDeactivateChecks:[],canActivateChecks:[]}){const L=yi(y);return D.children.forEach(W=>{(function Ye(D,y,_,T,A={canDeactivateChecks:[],canActivateChecks:[]}){const L=D.value,W=y?y.value:null,ne=_?_.getContext(D.value.outlet):null;if(W&&L.routeConfig===W.routeConfig){const je=function Kt(D,y,_){if("function"==typeof _)return _(D,y);switch(_){case"pathParamsChange":return!kn(D.url,y.url);case"pathParamsOrQueryParamsChange":return!kn(D.url,y.url)||!An(D.queryParams,y.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Er(D,y)||!An(D.queryParams,y.queryParams);default:return!Er(D,y)}}(W,L,L.routeConfig.runGuardsAndResolvers);je?A.canActivateChecks.push(new On(T)):(L.data=W.data,L._resolvedData=W._resolvedData),ni(D,y,L.component?ne?ne.children:null:_,T,A),je&&ne&&ne.outlet&&ne.outlet.isActivated&&A.canDeactivateChecks.push(new Sn(ne.outlet.component,W))}else W&&fr(y,ne,A),A.canActivateChecks.push(new On(T)),ni(D,null,L.component?ne?ne.children:null:_,T,A)})(W,L[W.value.outlet],_,T.concat([W.value]),A),delete L[W.value.outlet]}),ft(L,(W,ne)=>fr(W,_.getContext(ne),A)),A}function fr(D,y,_){const T=yi(D),A=D.value;ft(T,(L,W)=>{fr(L,A.component?y?y.children.getContext(W):null:y,_)}),_.canDeactivateChecks.push(new Sn(A.component&&y&&y.outlet&&y.outlet.isActivated?y.outlet.component:null,A))}function cr(D){return"function"==typeof D}const Zs=Symbol("INITIAL_VALUE");function Mr(){return(0,Qe.w)(D=>(0,Fe.a)(D.map(y=>y.pipe((0,lt.q)(1),(0,It.O)(Zs)))).pipe((0,De.U)(y=>{for(const _ of y)if(!0!==_){if(_===Zs)return Zs;if(!1===_||_ instanceof Nn)return _}return!0}),(0,rt.h)(y=>y!==Zs),(0,lt.q)(1)))}function os(D){return(0,Re.z)((0,ze.b)(y=>{if(Ie(y))throw Xr(0,y)}),(0,De.U)(y=>!0===y))}const ss={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function As(D,y,_,T,A){const L=Ns(D,y,_);return L.matched?function Ss(D,y,_,T){const A=y.canMatch;if(!A||0===A.length)return(0,Ne.of)(!0);const L=A.map(W=>{const ne=D.get(W),je=function Ys(D){return D&&cr(D.canMatch)}(ne)?ne.canMatch(y,_):ne(y,_);return Ut(je)});return(0,Ne.of)(L).pipe(Mr(),os())}(T=to(y,T),y,_).pipe((0,De.U)(W=>!0===W?L:{...ss})):(0,Ne.of)(L)}function Ns(D,y,_){if(""===y.path)return"full"===y.pathMatch&&(D.hasChildren()||_.length>0)?{...ss}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const A=(y.matcher||Zn)(_,D,y);if(!A)return{...ss};const L={};ft(A.posParams,(ne,je)=>{L[je]=ne.path});const W=A.consumed.length>0?{...L,...A.consumed[A.consumed.length-1].parameters}:L;return{matched:!0,consumedSegments:A.consumed,remainingSegments:_.slice(A.consumed.length),parameters:W,positionalParamSegments:A.posParams??{}}}function as(D,y,_,T,A="corrected"){if(_.length>0&&function Ms(D,y,_){return _.some(T=>yo(D,y,T)&&se(T)!==pt)}(D,_,T)){const W=new St(y,function va(D,y,_,T){const A={};A[pt]=T,T._sourceSegment=D,T._segmentIndexShift=y.length;for(const L of _)if(""===L.path&&se(L)!==pt){const W=new St([],{});W._sourceSegment=D,W._segmentIndexShift=y.length,A[se(L)]=W}return A}(D,y,T,new St(_,D.children)));return W._sourceSegment=D,W._segmentIndexShift=y.length,{segmentGroup:W,slicedSegments:[]}}if(0===_.length&&function ya(D,y,_){return _.some(T=>yo(D,y,T))}(D,_,T)){const W=new St(D.segments,function Fo(D,y,_,T,A,L){const W={};for(const ne of T)if(yo(D,_,ne)&&!A[se(ne)]){const je=new St([],{});je._sourceSegment=D,je._segmentIndexShift="legacy"===L?D.segments.length:y.length,W[se(ne)]=je}return{...A,...W}}(D,y,_,T,D.children,A));return W._sourceSegment=D,W._segmentIndexShift=y.length,{segmentGroup:W,slicedSegments:_}}const L=new St(D.segments,D.children);return L._sourceSegment=D,L._segmentIndexShift=y.length,{segmentGroup:L,slicedSegments:_}}function yo(D,y,_){return(!(D.hasChildren()||y.length>0)||"full"!==_.pathMatch)&&""===_.path}function Qs(D,y,_,T){return!!(se(D)===T||T!==pt&&yo(y,_,D))&&("**"===D.path||Ns(y,D,_).matched)}function ba(D,y,_){return 0===y.length&&!D.children[_]}const ls=!1;class Ci{constructor(y){this.segmentGroup=y||null}}class ro{constructor(y){this.urlTree=y}}function Rn(D){return me(new Ci(D))}function Os(D){return me(new ro(D))}class tl{constructor(y,_,T,A,L){this.injector=y,this.configLoader=_,this.urlSerializer=T,this.urlTree=A,this.config=L,this.allowRedirects=!0}apply(){const y=as(this.urlTree.root,[],[],this.config).segmentGroup,_=new St(y.segments,y.children);return this.expandSegmentGroup(this.injector,this.config,_,pt).pipe((0,De.U)(L=>this.createUrlTree(X(L),this.urlTree.queryParams,this.urlTree.fragment))).pipe(tt(L=>{if(L instanceof ro)return this.allowRedirects=!1,this.match(L.urlTree);throw L instanceof Ci?this.noMatchError(L):L}))}match(y){return this.expandSegmentGroup(this.injector,this.config,y.root,pt).pipe((0,De.U)(A=>this.createUrlTree(X(A),y.queryParams,y.fragment))).pipe(tt(A=>{throw A instanceof Ci?this.noMatchError(A):A}))}noMatchError(y){return new E.vHH(4002,ls)}createUrlTree(y,_,T){const A=pe(y);return new Nn(A,_,T)}expandSegmentGroup(y,_,T,A){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(y,_,T).pipe((0,De.U)(L=>new St([],L))):this.expandSegment(y,T,_,T.segments,A,!0)}expandChildren(y,_,T){const A=[];for(const L of Object.keys(T.children))"primary"===L?A.unshift(L):A.push(L);return(0,ie.D)(A).pipe(Ue(L=>{const W=T.children[L],ne=He(_,L);return this.expandSegmentGroup(y,ne,W,L).pipe((0,De.U)(je=>({segment:je,outlet:L})))}),(0,Ot.R)((L,W)=>(L[W.outlet]=W.segment,L),{}),be())}expandSegment(y,_,T,A,L,W){return(0,ie.D)(T).pipe(Ue(ne=>this.expandSegmentAgainstRoute(y,_,T,ne,A,L,W).pipe(tt(_t=>{if(_t instanceof Ci)return(0,Ne.of)(null);throw _t}))),(0,Dt.P)(ne=>!!ne),tt((ne,je)=>{if(ne instanceof Pe.K||"EmptyError"===ne.name)return ba(_,A,L)?(0,Ne.of)(new St([],{})):Rn(_);throw ne}))}expandSegmentAgainstRoute(y,_,T,A,L,W,ne){return Qs(A,_,L,W)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(y,_,A,L,W):ne&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(y,_,T,A,L,W):Rn(_):Rn(_)}expandSegmentAgainstRouteUsingRedirect(y,_,T,A,L,W){return"**"===A.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(y,T,A,W):this.expandRegularSegmentAgainstRouteUsingRedirect(y,_,T,A,L,W)}expandWildCardWithParamsAgainstRouteUsingRedirect(y,_,T,A){const L=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?Os(L):this.lineralizeSegments(T,L).pipe((0,ke.z)(W=>{const ne=new St(W,{});return this.expandSegment(y,ne,_,W,A,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(y,_,T,A,L,W){const{matched:ne,consumedSegments:je,remainingSegments:_t,positionalParamSegments:ln}=Ns(_,A,L);if(!ne)return Rn(_);const Nt=this.applyRedirectCommands(je,A.redirectTo,ln);return A.redirectTo.startsWith("/")?Os(Nt):this.lineralizeSegments(A,Nt).pipe((0,ke.z)(on=>this.expandSegment(y,_,T,on.concat(_t),W,!1)))}matchSegmentAgainstRoute(y,_,T,A,L){return"**"===T.path?(y=to(T,y),T.loadChildren?(T._loadedRoutes?(0,Ne.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):this.configLoader.loadChildren(y,T)).pipe((0,De.U)(ne=>(T._loadedRoutes=ne.routes,T._loadedInjector=ne.injector,new St(A,{})))):(0,Ne.of)(new St(A,{}))):As(_,T,A,y).pipe((0,Qe.w)(({matched:W,consumedSegments:ne,remainingSegments:je})=>W?this.getChildConfig(y=T._injector??y,T,A).pipe((0,ke.z)(ln=>{const Nt=ln.injector??y,on=ln.routes,{segmentGroup:ir,slicedSegments:Ti}=as(_,ne,je,on),co=new St(ir.segments,ir.children);if(0===Ti.length&&co.hasChildren())return this.expandChildren(Nt,on,co).pipe((0,De.U)(Sa=>new St(ne,Sa)));if(0===on.length&&0===Ti.length)return(0,Ne.of)(new St(ne,{}));const Qi=se(T)===L;return this.expandSegment(Nt,co,on,Ti,Qi?pt:L,!0).pipe((0,De.U)(jo=>new St(ne.concat(jo.segments),jo.children)))})):Rn(_)))}getChildConfig(y,_,T){return _.children?(0,Ne.of)({routes:_.children,injector:y}):_.loadChildren?void 0!==_._loadedRoutes?(0,Ne.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function Tl(D,y,_,T){const A=y.canLoad;if(void 0===A||0===A.length)return(0,Ne.of)(!0);const L=A.map(W=>{const ne=D.get(W),je=function io(D){return D&&cr(D.canLoad)}(ne)?ne.canLoad(y,_):ne(y,_);return Ut(je)});return(0,Ne.of)(L).pipe(Mr(),os())}(y,_,T).pipe((0,ke.z)(A=>A?this.configLoader.loadChildren(y,_).pipe((0,ze.b)(L=>{_._loadedRoutes=L.routes,_._loadedInjector=L.injector})):function el(D){return me(Br(ls,3))}())):(0,Ne.of)({routes:[],injector:y})}lineralizeSegments(y,_){let T=[],A=_.root;for(;;){if(T=T.concat(A.segments),0===A.numberOfChildren)return(0,Ne.of)(T);if(A.numberOfChildren>1||!A.children[pt])return me(new E.vHH(4e3,ls));A=A.children[pt]}}applyRedirectCommands(y,_,T){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),y,T)}applyRedirectCreateUrlTree(y,_,T,A){const L=this.createSegmentGroup(y,_.root,T,A);return new Nn(L,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(y,_){const T={};return ft(y,(A,L)=>{if("string"==typeof A&&A.startsWith(":")){const ne=A.substring(1);T[L]=_[ne]}else T[L]=A}),T}createSegmentGroup(y,_,T,A){const L=this.createSegments(y,_.segments,T,A);let W={};return ft(_.children,(ne,je)=>{W[je]=this.createSegmentGroup(y,ne,T,A)}),new St(L,W)}createSegments(y,_,T,A){return _.map(L=>L.path.startsWith(":")?this.findPosParam(y,L,A):this.findOrReturn(L,T))}findPosParam(y,_,T){const A=T[_.path.substring(1)];if(!A)throw new E.vHH(4001,ls);return A}findOrReturn(y,_){let T=0;for(const A of _){if(A.path===y.path)return _.splice(T),A;T++}return y}}class Al{}class Ps{constructor(y,_,T,A,L,W,ne,je){this.injector=y,this.rootComponentType=_,this.config=T,this.urlTree=A,this.url=L,this.paramsInheritanceStrategy=W,this.relativeLinkResolution=ne,this.urlSerializer=je}recognize(){const y=as(this.urlTree.root,[],[],this.config.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,y,pt).pipe((0,De.U)(_=>{if(null===_)return null;const T=new Fr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pt,this.rootComponentType,null,this.urlTree.root,-1,{}),A=new jt(T,_),L=new Zr(this.url,A);return this.inheritParamsAndData(L._root),L}))}inheritParamsAndData(y){const _=y.value,T=lr(_,this.paramsInheritanceStrategy);_.params=Object.freeze(T.params),_.data=Object.freeze(T.data),y.children.forEach(A=>this.inheritParamsAndData(A))}processSegmentGroup(y,_,T,A){return 0===T.segments.length&&T.hasChildren()?this.processChildren(y,_,T):this.processSegment(y,_,T,T.segments,A)}processChildren(y,_,T){return(0,ie.D)(Object.keys(T.children)).pipe(Ue(A=>{const L=T.children[A],W=He(_,A);return this.processSegmentGroup(y,W,L,A)}),(0,Ot.R)((A,L)=>A&&L?(A.push(...L),A):null),function Be(D,y=!1){return(0,re.e)((_,T)=>{let A=0;_.subscribe((0,Se.x)(T,L=>{const W=D(L,A++);(W||y)&&T.next(L),!W&&T.complete()}))})}(A=>null!==A),(0,de.d)(null),be(),(0,De.U)(A=>{if(null===A)return null;const L=Js(A);return function nl(D){D.sort((y,_)=>y.value.outlet===pt?-1:_.value.outlet===pt?1:y.value.outlet.localeCompare(_.value.outlet))}(L),L}))}processSegment(y,_,T,A,L){return(0,ie.D)(_).pipe(Ue(W=>this.processSegmentAgainstRoute(W._injector??y,W,T,A,L)),(0,Dt.P)(W=>!!W),tt(W=>{if(W instanceof Pe.K)return ba(T,A,L)?(0,Ne.of)([]):(0,Ne.of)(null);throw W}))}processSegmentAgainstRoute(y,_,T,A,L){if(_.redirectTo||!Qs(_,T,A,L))return(0,Ne.of)(null);let W;if("**"===_.path){const ne=A.length>0?ti(A).parameters:{},je=gi(T)+A.length,_t=new Fr(A,ne,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ml(_),se(_),_.component??_._loadedComponent??null,_,bo(T),je,Ol(_),je);W=(0,Ne.of)({snapshot:_t,consumedSegments:[],remainingSegments:[]})}else W=As(T,_,A,y).pipe((0,De.U)(({matched:ne,consumedSegments:je,remainingSegments:_t,parameters:ln})=>{if(!ne)return null;const Nt=gi(T)+je.length;return{snapshot:new Fr(je,ln,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ml(_),se(_),_.component??_._loadedComponent??null,_,bo(T),Nt,Ol(_),Nt),consumedSegments:je,remainingSegments:_t}}));return W.pipe((0,Qe.w)(ne=>{if(null===ne)return(0,Ne.of)(null);const{snapshot:je,consumedSegments:_t,remainingSegments:ln}=ne;y=_._injector??y;const Nt=_._loadedInjector??y,on=function Lo(D){return D.children?D.children:D.loadChildren?D._loadedRoutes:[]}(_),{segmentGroup:ir,slicedSegments:Ti}=as(T,_t,ln,on.filter(Qi=>void 0===Qi.redirectTo),this.relativeLinkResolution);if(0===Ti.length&&ir.hasChildren())return this.processChildren(Nt,on,ir).pipe((0,De.U)(Qi=>null===Qi?null:[new jt(je,Qi)]));if(0===on.length&&0===Ti.length)return(0,Ne.of)([new jt(je,[])]);const co=se(_)===L;return this.processSegment(Nt,on,ir,Ti,co?pt:L).pipe((0,De.U)(Qi=>null===Qi?null:[new jt(je,Qi)]))}))}}function Da(D){const y=D.value.routeConfig;return y&&""===y.path&&void 0===y.redirectTo}function Js(D){const y=[],_=new Set;for(const T of D){if(!Da(T)){y.push(T);continue}const A=y.find(L=>T.value.routeConfig===L.value.routeConfig);void 0!==A?(A.children.push(...T.children),_.add(A)):y.push(T)}for(const T of _){const A=Js(T.children);y.push(new jt(T.value,A))}return y.filter(T=>!_.has(T))}function bo(D){let y=D;for(;y._sourceSegment;)y=y._sourceSegment;return y}function gi(D){let y=D,_=y._segmentIndexShift??0;for(;y._sourceSegment;)y=y._sourceSegment,_+=y._segmentIndexShift??0;return _-1}function Ml(D){return D.data||{}}function Ol(D){return D.resolve||{}}const jr=Symbol("RouteTitle");function xs(D){return"string"==typeof D.title||null===D.title}function Cr(D){return(0,Qe.w)(y=>{const _=D(y);return _?(0,ie.D)(_).pipe((0,De.U)(()=>y)):(0,Ne.of)(y)})}class oo extends class xl{shouldDetach(y){return!1}store(y,_){}shouldAttach(y){return!1}retrieve(y){return null}shouldReuseRoute(y,_){return y.routeConfig===_.routeConfig}}{}const rl=new E.OlP("ROUTES");let ds=(()=>{class D{constructor(_,T){this.injector=_,this.compiler=T,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,Ne.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const T=Ut(_.loadComponent()).pipe((0,ze.b)(L=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=L}),(0,Ft.x)(()=>{this.componentLoaders.delete(_)})),A=new Y(T,()=>new ht.x).pipe(J());return this.componentLoaders.set(_,A),A}loadChildren(_,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,Ne.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const L=this.loadModuleFactoryOrRoutes(T.loadChildren).pipe((0,De.U)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(T);let je,_t,ln=!1;Array.isArray(ne)?_t=ne:(je=ne.create(_).injector,_t=pi(je.get(rl,[],E.XFs.Self|E.XFs.Optional)));return{routes:_t.map(G),injector:je}}),(0,Ft.x)(()=>{this.childrenLoaders.delete(T)})),W=new Y(L,()=>new ht.x).pipe(J());return this.childrenLoaders.set(T,W),W}loadModuleFactoryOrRoutes(_){return Ut(_()).pipe((0,ke.z)(T=>T instanceof E.YKP||Array.isArray(T)?(0,Ne.of)(T):(0,ie.D)(this.compiler.compileModuleAsync(T))))}}return D.\u0275fac=function(_){return new(_||D)(E.LFG(E.zs3),E.LFG(E.Sil))},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac}),D})();class Wn{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,_){return y}}function hs(D){throw D}function Ca(D,y,_){return y.parse("/")}const ta={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hn=(()=>{class D{constructor(_,T,A,L,W,ne,je){this.rootComponentType=_,this.urlSerializer=T,this.rootContexts=A,this.location=L,this.config=je,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ht.x,this.errorHandler=hs,this.malformedUriErrorHandler=Ca,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Ne.of)(void 0),this.urlHandlingStrategy=new Wn,this.routeReuseStrategy=new oo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=W.get(ds),this.configLoader.onLoadEndListener=on=>this.triggerEvent(new Cs(on)),this.configLoader.onLoadStartListener=on=>this.triggerEvent(new ts(on)),this.ngModule=W.get(E.h0i),this.console=W.get(E.c2e);const Nt=W.get(E.R0b);this.isNgZoneEnabled=Nt instanceof E.R0b&&E.R0b.isInAngularZone(),this.resetConfig(je),this.currentUrlTree=function gn(){return new Nn(new St([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ar(this.currentUrlTree,this.rootComponentType),this.transitions=new Ce.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(_){const T=this.events;return _.pipe((0,rt.h)(A=>0!==A.id),(0,De.U)(A=>({...A,extractedUrl:this.urlHandlingStrategy.extract(A.rawUrl)})),(0,Qe.w)(A=>{let L=!1,W=!1;return(0,Ne.of)(A).pipe((0,ze.b)(ne=>{this.currentNavigation={id:ne.id,initialUrl:ne.rawUrl,extractedUrl:ne.extractedUrl,trigger:ne.source,extras:ne.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Qe.w)(ne=>{const je=this.browserUrlTree.toString(),_t=!this.navigated||ne.extractedUrl.toString()!==je||je!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_t)&&this.urlHandlingStrategy.shouldProcessUrl(ne.rawUrl))return Ta(ne.source)&&(this.browserUrlTree=ne.extractedUrl),(0,Ne.of)(ne).pipe((0,Qe.w)(Nt=>{const on=this.transitions.getValue();return T.next(new Kr(Nt.id,this.serializeUrl(Nt.extractedUrl),Nt.source,Nt.restoredState)),on!==this.transitions.getValue()?st.E:Promise.resolve(Nt)}),function nu(D,y,_,T){return(0,Qe.w)(A=>function Sl(D,y,_,T,A){return new tl(D,y,_,T,A).apply()}(D,y,_,A.extractedUrl,T).pipe((0,De.U)(L=>({...A,urlAfterRedirects:L}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ze.b)(Nt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Nt.urlAfterRedirects},A.urlAfterRedirects=Nt.urlAfterRedirects}),function Rl(D,y,_,T,A,L){return(0,ke.z)(W=>function Nl(D,y,_,T,A,L,W="emptyOnly",ne="legacy"){return new Ps(D,y,_,T,A,W,ne,L).recognize().pipe((0,Qe.w)(je=>null===je?function Rs(D){return new d.y(y=>y.error(D))}(new Al):(0,Ne.of)(je)))}(D,y,_,W.urlAfterRedirects,T.serialize(W.urlAfterRedirects),T,A,L).pipe((0,De.U)(ne=>({...W,targetSnapshot:ne}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ze.b)(Nt=>{if(A.targetSnapshot=Nt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Nt.extras.skipLocationChange){const ir=this.urlHandlingStrategy.merge(Nt.urlAfterRedirects,Nt.rawUrl);this.setBrowserUrl(ir,Nt)}this.browserUrlTree=Nt.urlAfterRedirects}const on=new tr(Nt.id,this.serializeUrl(Nt.extractedUrl),this.serializeUrl(Nt.urlAfterRedirects),Nt.targetSnapshot);T.next(on)}));if(_t&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:on,extractedUrl:ir,source:Ti,restoredState:co,extras:Qi}=ne,Fs=new Kr(on,this.serializeUrl(ir),Ti,co);T.next(Fs);const jo=ar(ir,this.rootComponentType).snapshot;return A={...ne,targetSnapshot:jo,urlAfterRedirects:ir,extras:{...Qi,skipLocationChange:!1,replaceUrl:!1}},(0,Ne.of)(A)}return this.rawUrlTree=ne.rawUrl,ne.resolve(null),st.E}),(0,ze.b)(ne=>{const je=new Sr(ne.id,this.serializeUrl(ne.extractedUrl),this.serializeUrl(ne.urlAfterRedirects),ne.targetSnapshot);this.triggerEvent(je)}),(0,De.U)(ne=>A={...ne,guards:_n(ne.targetSnapshot,ne.currentSnapshot,this.rootContexts)}),function qi(D,y){return(0,ke.z)(_=>{const{targetSnapshot:T,currentSnapshot:A,guards:{canActivateChecks:L,canDeactivateChecks:W}}=_;return 0===W.length&&0===L.length?(0,Ne.of)({..._,guardsResult:!0}):function Hr(D,y,_,T){return(0,ie.D)(D).pipe((0,ke.z)(A=>function qs(D,y,_,T,A){const L=y&&y.routeConfig?y.routeConfig.canDeactivate:null;if(!L||0===L.length)return(0,Ne.of)(!0);const W=L.map(ne=>{const je=vn(ne,y,A);return Ut(function ma(D){return D&&cr(D.canDeactivate)}(je)?je.canDeactivate(D,y,_,T):je(D,y,_,T)).pipe((0,Dt.P)())});return(0,Ne.of)(W).pipe(Mr())}(A.component,A.route,_,y,T)),(0,Dt.P)(A=>!0!==A,!0))}(W,T,A,D).pipe((0,ke.z)(ne=>ne&&function ai(D){return"boolean"==typeof D}(ne)?function wl(D,y,_,T){return(0,ie.D)(y).pipe(Ue(A=>(0,Ze.z)(function Ur(D,y){return null!==D&&y&&y(new Ro(D)),(0,Ne.of)(!0)}(A.route.parent,T),function rs(D,y){return null!==D&&y&&y(new Nr(D)),(0,Ne.of)(!0)}(A.route,T),function Xa(D,y,_){const T=y[y.length-1],L=y.slice(0,y.length-1).reverse().map(W=>function Ei(D){const y=D.routeConfig?D.routeConfig.canActivateChild:null;return y&&0!==y.length?{node:D,guards:y}:null}(W)).filter(W=>null!==W).map(W=>he(()=>{const ne=W.guards.map(je=>{const _t=vn(je,W.node,_);return Ut(function Vr(D){return D&&cr(D.canActivateChild)}(_t)?_t.canActivateChild(T,D):_t(T,D)).pipe((0,Dt.P)())});return(0,Ne.of)(ne).pipe(Mr())}));return(0,Ne.of)(L).pipe(Mr())}(D,A.path,_),function mc(D,y,_){const T=y.routeConfig?y.routeConfig.canActivate:null;if(!T||0===T.length)return(0,Ne.of)(!0);const A=T.map(L=>he(()=>{const W=vn(L,y,_);return Ut(function vo(D){return D&&cr(D.canActivate)}(W)?W.canActivate(y,D):W(y,D)).pipe((0,Dt.P)())}));return(0,Ne.of)(A).pipe(Mr())}(D,A.route,_))),(0,Dt.P)(A=>!0!==A,!0))}(T,L,D,y):(0,Ne.of)(ne)),(0,De.U)(ne=>({..._,guardsResult:ne})))})}(this.ngModule.injector,ne=>this.triggerEvent(ne)),(0,ze.b)(ne=>{if(A.guardsResult=ne.guardsResult,Ie(ne.guardsResult))throw Xr(0,ne.guardsResult);const je=new Ar(ne.id,this.serializeUrl(ne.extractedUrl),this.serializeUrl(ne.urlAfterRedirects),ne.targetSnapshot,!!ne.guardsResult);this.triggerEvent(je)}),(0,rt.h)(ne=>!!ne.guardsResult||(this.restoreHistory(ne),this.cancelNavigationTransition(ne,"",3),!1)),Cr(ne=>{if(ne.guards.canActivateChecks.length)return(0,Ne.of)(ne).pipe((0,ze.b)(je=>{const _t=new Oo(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot);this.triggerEvent(_t)}),(0,Qe.w)(je=>{let _t=!1;return(0,Ne.of)(je).pipe(function Pl(D,y){return(0,ke.z)(_=>{const{targetSnapshot:T,guards:{canActivateChecks:A}}=_;if(!A.length)return(0,Ne.of)(_);let L=0;return(0,ie.D)(A).pipe(Ue(W=>function Bo(D,y,_,T){const A=D.routeConfig,L=D._resolve;return void 0!==A?.title&&!xs(A)&&(L[jr]=A.title),function Xs(D,y,_,T){const A=function il(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===A.length)return(0,Ne.of)({});const L={};return(0,ie.D)(A).pipe((0,ke.z)(W=>function _c(D,y,_,T){const A=vn(D,y,T);return Ut(A.resolve?A.resolve(y,_):A(y,_))}(D[W],y,_,T).pipe((0,Dt.P)(),(0,ze.b)(ne=>{L[W]=ne}))),ee(1),(0,Zt.h)(L),tt(W=>W instanceof Pe.K?st.E:me(W)))}(L,D,y,T).pipe((0,De.U)(W=>(D._resolvedData=W,D.data=lr(D,_).resolve,A&&xs(A)&&(D.data[jr]=A.title),null)))}(W.route,T,D,y)),(0,ze.b)(()=>L++),ee(1),(0,ke.z)(W=>L===A.length?(0,Ne.of)(_):st.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ze.b)({next:()=>_t=!0,complete:()=>{_t||(this.restoreHistory(je),this.cancelNavigationTransition(je,"",2))}}))}),(0,ze.b)(je=>{const _t=new El(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot);this.triggerEvent(_t)}))}),Cr(ne=>{const je=_t=>{const ln=[];_t.routeConfig?.loadComponent&&!_t.routeConfig._loadedComponent&&ln.push(this.configLoader.loadComponent(_t.routeConfig).pipe((0,ze.b)(Nt=>{_t.component=Nt}),(0,De.U)(()=>{})));for(const Nt of _t.children)ln.push(...je(Nt));return ln};return(0,Fe.a)(je(ne.targetSnapshot.root)).pipe((0,de.d)(),(0,lt.q)(1))}),Cr(()=>this.afterPreactivation()),(0,De.U)(ne=>{const je=function qr(D,y,_){const T=Qr(D,y._root,_?_._root:void 0);return new bn(T,y)}(this.routeReuseStrategy,ne.targetSnapshot,ne.currentRouterState);return A={...ne,targetRouterState:je}}),(0,ze.b)(ne=>{this.currentUrlTree=ne.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ne.urlAfterRedirects,ne.rawUrl),this.routerState=ne.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ne.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ne),this.browserUrlTree=ne.urlAfterRedirects)}),((D,y,_)=>(0,De.U)(T=>(new Vn(y,T.targetRouterState,T.currentRouterState,_).activate(D),T)))(this.rootContexts,this.routeReuseStrategy,ne=>this.triggerEvent(ne)),(0,ze.b)({next(){L=!0},complete(){L=!0}}),(0,Ft.x)(()=>{L||W||this.cancelNavigationTransition(A,"",1),this.currentNavigation?.id===A.id&&(this.currentNavigation=null)}),tt(ne=>{if(W=!0,Ts(ne)){Qn(ne)||(this.navigated=!0,this.restoreHistory(A,!0));const je=new vi(A.id,this.serializeUrl(A.extractedUrl),ne.message,ne.cancellationCode);if(T.next(je),Qn(ne)){const _t=this.urlHandlingStrategy.merge(ne.url,this.rawUrlTree),ln={skipLocationChange:A.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ta(A.source)};this.scheduleNavigation(_t,"imperative",null,ln,{resolve:A.resolve,reject:A.reject,promise:A.promise})}else A.resolve(!1)}else{this.restoreHistory(A,!0);const je=new hi(A.id,this.serializeUrl(A.extractedUrl),ne,A.targetSnapshot??void 0);T.next(je);try{A.resolve(this.errorHandler(ne))}catch(_t){A.reject(_t)}}return st.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next({...this.transitions.value,..._})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const T="popstate"===_.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{const A={replaceUrl:!0},L=_.state?.navigationId?_.state:null;if(L){const ne={...L};delete ne.navigationId,delete ne.\u0275routerPageId,0!==Object.keys(ne).length&&(A.state=ne)}const W=this.parseUrl(_.url);this.scheduleNavigation(W,T,L,A)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){this.config=_.map(G),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,T={}){const{relativeTo:A,queryParams:L,fragment:W,queryParamsHandling:ne,preserveFragment:je}=T,_t=A||this.routerState.root,ln=je?this.currentUrlTree.fragment:W;let Nt=null;switch(ne){case"merge":Nt={...this.currentUrlTree.queryParams,...L};break;case"preserve":Nt=this.currentUrlTree.queryParams;break;default:Nt=L||null}return null!==Nt&&(Nt=this.removeEmptyProps(Nt)),kt(_t,this.currentUrlTree,_,Nt,ln??null)}navigateByUrl(_,T={skipLocationChange:!1}){const A=Ie(_)?_:this.parseUrl(_),L=this.urlHandlingStrategy.merge(A,this.rawUrlTree);return this.scheduleNavigation(L,"imperative",null,T)}navigate(_,T={skipLocationChange:!1}){return function wa(D){for(let y=0;y<D.length;y++){if(null==D[y])throw new E.vHH(4008,false)}}(_),this.navigateByUrl(this.createUrlTree(_,T),T)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let T;try{T=this.urlSerializer.parse(_)}catch(A){T=this.malformedUriErrorHandler(A,this.urlSerializer,_)}return T}isActive(_,T){let A;if(A=!0===T?{...ta}:!1===T?{...fs}:T,Ie(_))return Bn(this.currentUrlTree,_,A);const L=this.parseUrl(_);return Bn(this.currentUrlTree,L,A)}removeEmptyProps(_){return Object.keys(_).reduce((T,A)=>{const L=_[A];return null!=L&&(T[A]=L),T},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new $n(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,T,A,L,W){if(this.disposed)return Promise.resolve(!1);let ne,je,_t;W?(ne=W.resolve,je=W.reject,_t=W.promise):_t=new Promise((on,ir)=>{ne=on,je=ir});const ln=++this.navigationId;let Nt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(A=this.location.getState()),Nt=A&&A.\u0275routerPageId?A.\u0275routerPageId:L.replaceUrl||L.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Nt=0,this.setTransition({id:ln,targetPageId:Nt,source:T,restoredState:A,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:L,resolve:ne,reject:je,promise:_t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_t.catch(on=>Promise.reject(on))}setBrowserUrl(_,T){const A=this.urlSerializer.serialize(_),L={...T.extras.state,...this.generateNgRouterState(T.id,T.targetPageId)};this.location.isCurrentPathEqualTo(A)||T.extras.replaceUrl?this.location.replaceState(A,"",L):this.location.go(A,"",L)}restoreHistory(_,T=!1){if("computed"===this.canceledNavigationResolution){const A=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===A?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===A&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(A)}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,T,A){const L=new vi(_.id,this.serializeUrl(_.extractedUrl),T,A);this.triggerEvent(L),_.resolve(!1)}generateNgRouterState(_,T){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:T}:{navigationId:_}}}return D.\u0275fac=function(_){E.$Z()},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac}),D})();function Ta(D){return"imperative"!==D}let Eo=(()=>{class D{buildTitle(_){let T,A=_.root;for(;void 0!==A;)T=this.getResolvedTitleForRoute(A)??T,A=A.children.find(L=>L.outlet===pt);return T}getResolvedTitleForRoute(_){return _.data[jr]}}return D.\u0275fac=function(_){return new(_||D)},D.\u0275prov=E.Yz7({token:D,factory:function(){return(0,E.f3M)(Gr)},providedIn:"root"}),D})(),Gr=(()=>{class D extends Eo{constructor(_){super(),this.title=_}updateTitle(_){const T=this.buildTitle(_);void 0!==T&&this.title.setTitle(T)}}return D.\u0275fac=function(_){return new(_||D)(E.LFG(fn.Dx))},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();class so{}let Or=(()=>{class D{constructor(_,T,A,L,W){this.router=_,this.injector=A,this.preloadingStrategy=L,this.loader=W}setUpPreloading(){this.subscription=this.router.events.pipe((0,rt.h)(_=>_ instanceof $n),Ue(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,T){const A=[];for(const L of T){L.providers&&!L._injector&&(L._injector=(0,E.MMx)(L.providers,_,`Route: ${L.path}`));const W=L._injector??_,ne=L._loadedInjector??W;L.loadChildren&&!L._loadedRoutes||L.loadComponent&&!L._loadedComponent?A.push(this.preloadConfig(W,L)):(L.children||L._loadedRoutes)&&A.push(this.processRoutes(ne,L.children??L._loadedRoutes))}return(0,ie.D)(A).pipe((0,Rt.J)())}preloadConfig(_,T){return this.preloadingStrategy.preload(T,()=>{let A;A=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(_,T):(0,Ne.of)(null);const L=A.pipe((0,ke.z)(W=>null===W?(0,Ne.of)(void 0):(T._loadedRoutes=W.routes,T._loadedInjector=W.injector,this.processRoutes(W.injector??_,W.routes))));if(T.loadComponent&&!T._loadedComponent){const W=this.loader.loadComponent(T);return(0,ie.D)([L,W]).pipe((0,Rt.J)())}return L})}}return D.\u0275fac=function(_){return new(_||D)(E.LFG(Hn),E.LFG(E.Sil),E.LFG(E.lqb),E.LFG(so),E.LFG(ds))},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac}),D})();const Vo=new E.OlP("");let sl=(()=>{class D{constructor(_,T,A={}){this.router=_,this.viewportScroller=T,this.options=A,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},A.scrollPositionRestoration=A.scrollPositionRestoration||"disabled",A.anchorScrolling=A.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof Kr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof $n&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof ve&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,T){this.router.triggerEvent(new ve(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(_){E.$Z()},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac}),D})();const Co=new E.OlP("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),ks=new E.OlP("ROUTER_FORROOT_GUARD"),gs=new E.OlP(""),pr=[Ge.Ye,{provide:pn,useClass:Ni},{provide:Hn,useFactory:function na(D,y,_,T,A,L,W,ne={},je,_t){const ln=new Hn(null,D,y,_,T,A,pi(L));return je&&(ln.urlHandlingStrategy=je),_t&&(ln.routeReuseStrategy=_t),ln.titleStrategy=W,function $r(D,y){D.errorHandler&&(y.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(y.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(y.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(y.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(y.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(y.urlUpdateStrategy=D.urlUpdateStrategy),D.canceledNavigationResolution&&(y.canceledNavigationResolution=D.canceledNavigationResolution)}(ne,ln),ln},deps:[pn,eo,Ge.Ye,E.zs3,E.Sil,rl,Eo,Co,[class Fl{},new E.FiY],[class Do{},new E.FiY]]},eo,{provide:Dr,useFactory:function Bl(D){return D.routerState.root},deps:[Hn]},ds];function wo(){return new E.PXZ("Router",Hn)}let al=(()=>{class D{constructor(_,T){}static forRoot(_,T){return{ngModule:D,providers:[pr,[],rn(_),{provide:ks,useFactory:To,deps:[[Hn,new E.FiY,new E.tp0]]},{provide:Co,useValue:T||{}},T?.useHash?{provide:Ge.S$,useClass:Ge.Do}:{provide:Ge.S$,useClass:Ge.b0},{provide:Vo,useFactory:()=>{const D=(0,E.f3M)(Hn),y=(0,E.f3M)(Ge.EM),_=(0,E.f3M)(Co);return _.scrollOffset&&y.setOffset(_.scrollOffset),new sl(D,y,_)}},T?.preloadingStrategy?ia(T.preloadingStrategy):[],{provide:E.PXZ,multi:!0,useFactory:wo},T?.initialNavigation?ll(T):[],[{provide:_s,useFactory:Uo},{provide:E.tb,multi:!0,useExisting:_s}]]}}static forChild(_){return{ngModule:D,providers:[rn(_)]}}}return D.\u0275fac=function(_){return new(_||D)(E.LFG(ks,8),E.LFG(Hn,8))},D.\u0275mod=E.oAB({type:D}),D.\u0275inj=E.cJS({}),D})();function To(D){return"guarded"}function rn(D){return[{provide:E.deG,multi:!0,useValue:D},{provide:rl,multi:!0,useValue:D}]}function Uo(){const D=(0,E.f3M)(E.zs3);return y=>{const _=D.get(E.z2F);if(y!==_.components[0])return;const T=D.get(Hn),A=D.get(ao);null===D.get(Ia,null,E.XFs.Optional)&&T.initialNavigation(),D.get(gs,null,E.XFs.Optional)?.setUpPreloading(),D.get(Vo,null,E.XFs.Optional)?.init(),T.resetRootComponentType(_.componentTypes[0]),A.next(),A.complete()}}const _s=new E.OlP("");function ll(D){return["disabled"===D.initialNavigation?[{provide:E.ip1,multi:!0,useFactory:()=>{const D=(0,E.f3M)(Hn);return()=>{D.setUpLocationChangeListener()}}},{provide:Ia,useValue:"disabled"}]:[],"enabledBlocking"===D.initialNavigation?[{provide:Ia,useValue:"enabledBlocking"},{provide:E.ip1,multi:!0,deps:[E.zs3],useFactory:D=>{const y=D.get(Ge.V_,Promise.resolve(null));let _=!1;return()=>y.then(()=>new Promise(A=>{const L=D.get(Hn),W=D.get(ao);(function T(A){D.get(Hn).events.pipe((0,rt.h)(W=>W instanceof $n||W instanceof vi||W instanceof hi),(0,De.U)(W=>W instanceof $n||W instanceof vi&&(0===W.code||1===W.code)&&null),(0,rt.h)(W=>null!==W),(0,lt.q)(1)).subscribe(()=>{A()})})(()=>{A(!0),_=!0}),L.afterPreactivation=()=>(A(!0),_||W.closed?(0,Ne.of)(void 0):W),L.initialNavigation()}))}}]:[]]}const ao=new E.OlP("",{factory:()=>new ht.x}),Ia=new E.OlP("");function ia(D){return[Or,{provide:gs,useExisting:Or},{provide:so,useExisting:D}]}},3942:(mt,Oe,x)=>{x.d(Oe,{Z:()=>Fe});var E=x(2090),d=x(4859),j=x(9681),he=x(1877);class le{constructor(Re,Pe){this._delegate=Re,this.firebase=Pe,(0,j._addComponent)(Re,new d.wA("app-compat",()=>this,"PUBLIC")),this.container=Re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this._delegate.automaticDataCollectionEnabled=Re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Re=>{this._delegate.checkDestroyed(),Re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(Re,Pe=j._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider(Re);return!ht.isInitialized()&&"EXPLICIT"===(null===(st=ht.getComponent())||void 0===st?void 0:st.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:Pe})}_removeServiceInstance(Re,Pe=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Re).clearInstance(Pe)}_addComponent(Re){(0,j._addComponent)(this._delegate,Re)}_addOrOverwriteComponent(Re){(0,j._addOrOverwriteComponent)(this._delegate,Re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new E.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function Se(){const Ze=function re(Ze){const Re={},Pe={__esModule:!0,initializeApp:function Ge(rt,ee={}){const $e=j.initializeApp(rt,ee);if((0,E.r3)(Re,$e.name))return Re[$e.name];const de=new Ze($e,Pe);return Re[$e.name]=de,de},app:ht,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function Ue(rt){const ee=rt.name,$e=ee.replace("-compat","");if(j._registerComponent(rt)&&"PUBLIC"===rt.type){const de=(ye=ht())=>{if("function"!=typeof ye[$e])throw Te.create("invalid-app-argument",{appName:ee});return ye[$e]()};void 0!==rt.serviceProps&&(0,E.ZB)(de,rt.serviceProps),Pe[$e]=de,Ze.prototype[$e]=function(...ye){return this._getService.bind(this,ee).apply(this,rt.multipleInstances?ye:[])}}return"PUBLIC"===rt.type?Pe[$e]:null},removeApp:function st(rt){delete Re[rt]},useAsService:function tt(rt,ee){return"serverAuth"===ee?null:ee},modularAPIs:j}};function ht(rt){if(!(0,E.r3)(Re,rt=rt||j._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:rt});return Re[rt]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function ke(){return Object.keys(Re).map(rt=>Re[rt])}}),ht.App=Ze,Pe}(le);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function Re(Pe){(0,E.ZB)(Ze,Pe)},createSubscribe:E.ne,ErrorFactory:E.LL,deepExtend:E.ZB}),Ze}(),Y=new he.Yd("@firebase/app-compat");if((0,E.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Fe=J;!function Ce(Ze){(0,j.registerVersion)("@firebase/app-compat","0.1.30",Ze)}()},9681:(mt,Oe,x)=>{x.r(Oe),x.d(Oe,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>xn,_DEFAULT_ENTRY_NAME:()=>Dt,_addComponent:()=>Ft,_addOrOverwriteComponent:()=>Rt,_apps:()=>Ot,_clearComponents:()=>Yn,_components:()=>Zt,_getProvider:()=>pt,_registerComponent:()=>fn,_removeServiceInstance:()=>$t,deleteApp:()=>ft,getApp:()=>ti,getApps:()=>Gn,initializeApp:()=>pi,onLog:()=>gn,registerVersion:()=>nn,setLogLevel:()=>ji});var E=x(5861),d=x(4859),j=x(1877),he=x(2090),le=x(8766);class me{constructor(ce){this.container=ce}getPlatformInfoString(){return this.container.getProviders().map(oe=>{if(function Te(Q){return"VERSION"===Q.getComponent()?.type}(oe)){const Xe=oe.getImmediate();return`${Xe.library}/${Xe.version}`}return null}).filter(oe=>oe).join(" ")}}const re="@firebase/app",J=new j.Yd("@firebase/app"),Dt="[DEFAULT]",ze={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ot=new Map,Zt=new Map;function Ft(Q,ce){try{Q.container.addComponent(ce)}catch(oe){J.debug(`Component ${ce.name} failed to register with FirebaseApp ${Q.name}`,oe)}}function Rt(Q,ce){Q.container.addOrOverwriteComponent(ce)}function fn(Q){const ce=Q.name;if(Zt.has(ce))return J.debug(`There were multiple attempts to register component ${ce}.`),!1;Zt.set(ce,Q);for(const oe of Ot.values())Ft(oe,Q);return!0}function pt(Q,ce){const oe=Q.container.getProvider("heartbeat").getImmediate({optional:!0});return oe&&oe.triggerHeartbeat(),Q.container.getProvider(ce)}function $t(Q,ce,oe=Dt){pt(Q,ce).clearInstance(oe)}function Yn(){Zt.clear()}const li=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class An{constructor(ce,oe,Xe){this._isDeleted=!1,this._options=Object.assign({},ce),this._config=Object.assign({},oe),this._name=oe.name,this._automaticDataCollectionEnabled=oe.automaticDataCollectionEnabled,this._container=Xe,this.container.addComponent(new d.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ce){this._isDeleted=ce}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}const xn="9.9.1";function pi(Q,ce={}){"object"!=typeof ce&&(ce={name:ce});const oe=Object.assign({name:Dt,automaticDataCollectionEnabled:!1},ce),Xe=oe.name;if("string"!=typeof Xe||!Xe)throw li.create("bad-app-name",{appName:String(Xe)});const ct=Ot.get(Xe);if(ct){if((0,he.vZ)(Q,ct.options)&&(0,he.vZ)(oe,ct.config))return ct;throw li.create("duplicate-app",{appName:Xe})}const wt=new d.H0(Xe);for(const zt of Zt.values())wt.addComponent(zt);const hn=new An(Q,oe,wt);return Ot.set(Xe,hn),hn}function ti(Q=Dt){const ce=Ot.get(Q);if(!ce)throw li.create("no-app",{appName:Q});return ce}function Gn(){return Array.from(Ot.values())}function ft(Q){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,E.Z)(function*(Q){const ce=Q.name;Ot.has(ce)&&(Ot.delete(ce),yield Promise.all(Q.container.getProviders().map(oe=>oe.delete())),Q.isDeleted=!0)})).apply(this,arguments)}function nn(Q,ce,oe){var Xe;let ct=null!==(Xe=ze[Q])&&void 0!==Xe?Xe:Q;oe&&(ct+=`-${oe}`);const wt=ct.match(/\s|\//),hn=ce.match(/\s|\//);if(wt||hn){const zt=[`Unable to register library "${ct}" with version "${ce}":`];return wt&&zt.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),wt&&hn&&zt.push("and"),hn&&zt.push(`version name "${ce}" contains illegal characters (whitespace or "/")`),void J.warn(zt.join(" "))}fn(new d.wA(`${ct}-version`,()=>({library:ct,version:ce}),"VERSION"))}function gn(Q,ce){if(null!==Q&&"function"!=typeof Q)throw li.create("invalid-log-argument");(0,j.Am)(Q,ce)}function ji(Q){(0,j.Ub)(Q)}const ri="firebase-heartbeat-store";let ci=null;function Dn(){return ci||(ci=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:(Q,ce)=>{0===ce&&Q.createObjectStore(ri)}}).catch(Q=>{throw li.create("storage-open",{originalErrorMessage:Q.message})})),ci}function nt(){return(nt=(0,E.Z)(function*(Q){var ce;try{return(yield Dn()).transaction(ri).objectStore(ri).get(St(Q))}catch(oe){throw li.create("storage-get",{originalErrorMessage:null===(ce=oe)||void 0===ce?void 0:ce.message})}})).apply(this,arguments)}function Ct(Q,ce){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,E.Z)(function*(Q,ce){var oe;try{const ct=(yield Dn()).transaction(ri,"readwrite");return yield ct.objectStore(ri).put(ce,St(Q)),ct.done}catch(Xe){throw li.create("storage-set",{originalErrorMessage:null===(oe=Xe)||void 0===oe?void 0:oe.message})}})).apply(this,arguments)}function St(Q){return`${Q.name}!${Q.options.appId}`}class kn{constructor(ce){this.container=ce,this._heartbeatsCache=null;const oe=this.container.getProvider("app").getImmediate();this._storage=new Ni(oe),this._heartbeatsCachePromise=this._storage.read().then(Xe=>(this._heartbeatsCache=Xe,Xe))}triggerHeartbeat(){var ce=this;return(0,E.Z)(function*(){const Xe=ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ct=oi();if(null===ce._heartbeatsCache&&(ce._heartbeatsCache=yield ce._heartbeatsCachePromise),ce._heartbeatsCache.lastSentHeartbeatDate!==ct&&!ce._heartbeatsCache.heartbeats.some(wt=>wt.date===ct))return ce._heartbeatsCache.heartbeats.push({date:ct,agent:Xe}),ce._heartbeatsCache.heartbeats=ce._heartbeatsCache.heartbeats.filter(wt=>{const hn=new Date(wt.date).valueOf();return Date.now()-hn<=2592e6}),ce._storage.overwrite(ce._heartbeatsCache)})()}getHeartbeatsHeader(){var ce=this;return(0,E.Z)(function*(){if(null===ce._heartbeatsCache&&(yield ce._heartbeatsCachePromise),null===ce._heartbeatsCache||0===ce._heartbeatsCache.heartbeats.length)return"";const oe=oi(),{heartbeatsToSend:Xe,unsentEntries:ct}=function pn(Q,ce=1024){const oe=[];let Xe=Q.slice();for(const ct of Q){const wt=oe.find(hn=>hn.agent===ct.agent);if(wt){if(wt.dates.push(ct.date),te(oe)>ce){wt.dates.pop();break}}else if(oe.push({agent:ct.agent,dates:[ct.date]}),te(oe)>ce){oe.pop();break}Xe=Xe.slice(1)}return{heartbeatsToSend:oe,unsentEntries:Xe}}(ce._heartbeatsCache.heartbeats),wt=(0,he.L)(JSON.stringify({version:2,heartbeats:Xe}));return ce._heartbeatsCache.lastSentHeartbeatDate=oe,ct.length>0?(ce._heartbeatsCache.heartbeats=ct,yield ce._storage.overwrite(ce._heartbeatsCache)):(ce._heartbeatsCache.heartbeats=[],ce._storage.overwrite(ce._heartbeatsCache)),wt})()}}function oi(){return(new Date).toISOString().substring(0,10)}class Ni{constructor(ce){this.app=ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ce=this;return(0,E.Z)(function*(){return(yield ce._canUseIndexedDBPromise)&&(yield function Wt(Q){return nt.apply(this,arguments)}(ce.app))||{heartbeats:[]}})()}overwrite(ce){var oe=this;return(0,E.Z)(function*(){var Xe;if(yield oe._canUseIndexedDBPromise){const wt=yield oe.read();return Ct(oe.app,{lastSentHeartbeatDate:null!==(Xe=ce.lastSentHeartbeatDate)&&void 0!==Xe?Xe:wt.lastSentHeartbeatDate,heartbeats:ce.heartbeats})}})()}add(ce){var oe=this;return(0,E.Z)(function*(){var Xe;if(yield oe._canUseIndexedDBPromise){const wt=yield oe.read();return Ct(oe.app,{lastSentHeartbeatDate:null!==(Xe=ce.lastSentHeartbeatDate)&&void 0!==Xe?Xe:wt.lastSentHeartbeatDate,heartbeats:[...wt.heartbeats,...ce.heartbeats]})}})()}}function te(Q){return(0,he.L)(JSON.stringify({version:2,heartbeats:Q})).length}!function ae(Q){fn(new d.wA("platform-logger",ce=>new me(ce),"PRIVATE")),fn(new d.wA("heartbeat",ce=>new kn(ce),"PRIVATE")),nn(re,"0.7.29",Q),nn(re,"0.7.29","esm2017"),nn("fire-js","")}("")},4859:(mt,Oe,x)=>{x.d(Oe,{H0:()=>re,wA:()=>j,zt:()=>le});var E=x(5861),d=x(2090);class j{constructor(J,Y,ie){this.name=J,this.instanceFactory=Y,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const he="[DEFAULT]";class le{constructor(J,Y){this.name=J,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const Y=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(Y)){const ie=new d.BH;if(this.instancesDeferred.set(Y,ie),this.isInitialized(Y)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:Y});Ne&&ie.resolve(Ne)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(J){var Y;const ie=this.normalizeInstanceIdentifier(J?.identifier),Ne=null!==(Y=J?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(Ce){if(Ne)return null;throw Ce}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function Te(Se){return"EAGER"===Se.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:he})}catch{}for(const[Y,ie]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(Y);try{const Ce=this.getOrInitializeService({instanceIdentifier:Ne});ie.resolve(Ce)}catch{}}}}clearInstance(J=he){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,E.Z)(function*(){const Y=Array.from(J.instances.values());yield Promise.all([...Y.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...Y.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=he){return this.instances.has(J)}getOptions(J=he){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:Y={}}=J,ie=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:ie,options:Y});for(const[Ce,Fe]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(Ce)&&Fe.resolve(Ne);return Ne}onInit(J,Y){var ie;const Ne=this.normalizeInstanceIdentifier(Y),Ce=null!==(ie=this.onInitCallbacks.get(Ne))&&void 0!==ie?ie:new Set;Ce.add(J),this.onInitCallbacks.set(Ne,Ce);const Fe=this.instances.get(Ne);return Fe&&J(Fe,Ne),()=>{Ce.delete(J)}}invokeOnInitCallbacks(J,Y){const ie=this.onInitCallbacks.get(Y);if(ie)for(const Ne of ie)try{Ne(J,Y)}catch{}}getOrInitializeService({instanceIdentifier:J,options:Y={}}){let ie=this.instances.get(J);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=J,Se===he?void 0:Se),options:Y}),this.instances.set(J,ie),this.instancesOptions.set(J,Y),this.invokeOnInitCallbacks(ie,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,ie)}catch{}var Se;return ie||null}normalizeInstanceIdentifier(J=he){return this.component?this.component.multipleInstances?J:he:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class re{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const Y=this.getProvider(J.name);if(Y.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);Y.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const Y=new le(J,this);return this.providers.set(J,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,Oe,x)=>{x.d(Oe,{Am:()=>Se,Ub:()=>re,Yd:()=>Te,in:()=>d});const E=[];var d=(()=>{return(J=d||(d={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",d;var J})();const j={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},he=d.INFO,le={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},me=(J,Y,...ie)=>{if(Y<J.logLevel)return;const Ne=(new Date).toISOString(),Ce=le[Y];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Ce](`[${Ne}]  ${J.name}:`,...ie)};class Te{constructor(Y){this.name=Y,this._logLevel=he,this._logHandler=me,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in d))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?j[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...Y),this._logHandler(this,d.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...Y),this._logHandler(this,d.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,d.INFO,...Y),this._logHandler(this,d.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,d.WARN,...Y),this._logHandler(this,d.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...Y),this._logHandler(this,d.ERROR,...Y)}}function re(J){E.forEach(Y=>{Y.setLogLevel(J)})}function Se(J,Y){for(const ie of E){let Ne=null;Y&&Y.level&&(Ne=j[Y.level]),ie.userLogHandler=null===J?null:(Ce,Fe,...Ze)=>{const Re=Ze.map(Pe=>{if(null==Pe)return null;if("string"==typeof Pe)return Pe;if("number"==typeof Pe||"boolean"==typeof Pe)return Pe.toString();if(Pe instanceof Error)return Pe.message;try{return JSON.stringify(Pe)}catch{return null}}).filter(Pe=>Pe).join(" ");Fe>=(Ne??Ce.logLevel)&&J({level:d[Fe].toLowerCase(),message:Re,args:Ze,type:Ce.name})}}}},8766:(mt,Oe,x)=>{x.d(Oe,{Lj:()=>Ge,X3:()=>ht});var E=x(5861);let j,he;const Te=new WeakMap,re=new WeakMap,Se=new WeakMap,J=new WeakMap,Y=new WeakMap;let Ce={get(ee,$e,de){if(ee instanceof IDBTransaction){if("done"===$e)return re.get(ee);if("objectStoreNames"===$e)return ee.objectStoreNames||Se.get(ee);if("store"===$e)return de.objectStoreNames[1]?void 0:de.objectStore(de.objectStoreNames[0])}return Pe(ee[$e])},set:(ee,$e,de)=>(ee[$e]=de,!0),has:(ee,$e)=>ee instanceof IDBTransaction&&("done"===$e||"store"===$e)||$e in ee};function Re(ee){return"function"==typeof ee?function Ze(ee){return ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ee)?function(...$e){return ee.apply(st(this),$e),Pe(Te.get(this))}:function(...$e){return Pe(ee.apply(st(this),$e))}:function($e,...de){const ye=ee.call(st(this),$e,...de);return Se.set(ye,$e.sort?$e.sort():[$e]),Pe(ye)}}(ee):(ee instanceof IDBTransaction&&function Ne(ee){if(re.has(ee))return;const $e=new Promise((de,ye)=>{const be=()=>{ee.removeEventListener("complete",Be),ee.removeEventListener("error",De),ee.removeEventListener("abort",De)},Be=()=>{de(),be()},De=()=>{ye(ee.error||new DOMException("AbortError","AbortError")),be()};ee.addEventListener("complete",Be),ee.addEventListener("error",De),ee.addEventListener("abort",De)});re.set(ee,$e)}(ee),((ee,$e)=>$e.some(de=>ee instanceof de))(ee,function le(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ee,Ce):ee)}function Pe(ee){if(ee instanceof IDBRequest)return function ie(ee){const $e=new Promise((de,ye)=>{const be=()=>{ee.removeEventListener("success",Be),ee.removeEventListener("error",De)},Be=()=>{de(Pe(ee.result)),be()},De=()=>{ye(ee.error),be()};ee.addEventListener("success",Be),ee.addEventListener("error",De)});return $e.then(de=>{de instanceof IDBCursor&&Te.set(de,ee)}).catch(()=>{}),Y.set($e,ee),$e}(ee);if(J.has(ee))return J.get(ee);const $e=Re(ee);return $e!==ee&&(J.set(ee,$e),Y.set($e,ee)),$e}const st=ee=>Y.get(ee);function ht(ee,$e,{blocked:de,upgrade:ye,blocking:be,terminated:Be}={}){const De=indexedDB.open(ee,$e),Qe=Pe(De);return ye&&De.addEventListener("upgradeneeded",lt=>{ye(Pe(De.result),lt.oldVersion,lt.newVersion,Pe(De.transaction))}),de&&De.addEventListener("blocked",()=>de()),Qe.then(lt=>{Be&&lt.addEventListener("close",()=>Be()),be&&lt.addEventListener("versionchange",()=>be())}).catch(()=>{}),Qe}function Ge(ee,{blocked:$e}={}){const de=indexedDB.deleteDatabase(ee);return $e&&de.addEventListener("blocked",()=>$e()),Pe(de).then(()=>{})}const ke=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],tt=new Map;function rt(ee,$e){if(!(ee instanceof IDBDatabase)||$e in ee||"string"!=typeof $e)return;if(tt.get($e))return tt.get($e);const de=$e.replace(/FromIndex$/,""),ye=$e!==de,be=Ue.includes(de);if(!(de in(ye?IDBIndex:IDBObjectStore).prototype)||!be&&!ke.includes(de))return;const Be=function(){var De=(0,E.Z)(function*(Qe,...lt){const It=this.transaction(Qe,be?"readwrite":"readonly");let Dt=It.store;return ye&&(Dt=Dt.index(lt.shift())),(yield Promise.all([Dt[de](...lt),be&&It.done]))[0]});return function(lt){return De.apply(this,arguments)}}();return tt.set($e,Be),Be}!function Fe(ee){Ce=ee(Ce)}(ee=>({...ee,get:($e,de,ye)=>rt($e,de)||ee.get($e,de,ye),has:($e,de)=>!!rt($e,de)||ee.has($e,de)}))},5861:(mt,Oe,x)=>{function E(j,he,le,me,Te,re,Se){try{var J=j[re](Se),Y=J.value}catch(ie){return void le(ie)}J.done?he(Y):Promise.resolve(Y).then(me,Te)}function d(j){return function(){var he=this,le=arguments;return new Promise(function(me,Te){var re=j.apply(he,le);function Se(Y){E(re,me,Te,Se,J,"next",Y)}function J(Y){E(re,me,Te,Se,J,"throw",Y)}Se(void 0)})}}x.d(Oe,{Z:()=>d})}},mt=>{mt(mt.s=2128)}]);