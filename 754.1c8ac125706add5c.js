"use strict";(self.webpackChunkaetherAI_home_challenge=self.webpackChunkaetherAI_home_challenge||[]).push([[754],{754:(q,m,s)=>{s.r(m),s.d(m,{TodoListModule:()=>Q});var d=s(6895),h=s(2038),C=s(6418),a=(()=>{return(o=a||(a={}))[o.FetchTodoList=0]="FetchTodoList",o[o.SubmitTodo=1]="SubmitTodo",a;var o})(),p=(()=>{return(o=p||(p={})).AscendingByCreateTime="\u5efa\u7acb\u6642\u9593\u7531\u820a\u81f3\u65b0",o.DescendingByCreateTime="\u5efa\u7acb\u6642\u9593\u7531\u65b0\u81f3\u820a",p;var o})();class b{constructor(i){Object.assign(this,i)}getTodoInput(){return{id:this.id,title:this.title,completed:this.completed||!1,createDate:this.createDate||C.k.currentDateTime,description:this.description||""}}}var f=s(8249),l=s(4006),g=s(7596);class T extends f.H{constructor(i,e){super(),this.$overlay=i,this.dialog=e}get id(){return this.dialog.id}get params(){return this.dialog.params}get callbacks(){return this.params.callbacks}get config(){return this.params.config}get options(){return this.params.options}get size(){return g.vQ}cancel(i){this.params?.callbacks?.cancel&&this.params?.callbacks?.cancel(i),this.$overlay.closeDialog(this.dialog)}confirm(i){this.params?.callbacks?.confirm&&this.params?.callbacks?.confirm(i),this.$overlay.closeDialog(this.dialog)}close(){this.$overlay.closeDialog(this.dialog)}}var t=s(4650),_=s(8832),y=s(6630),w=s(5043),v=s(7031);let O=(()=>{class o extends class P{constructor(i){this.$logger=i}fireEvent(i){return this.$logger.debugMessage(`${this.featureName} event ${i.action} has been triggered.`),this.resolveAction(i).then(e=>e)}}{constructor(e,n){super(e),this.$userCenter=n,this.featureName="TodoList"}resolveAction({action:e,input:n,user:r}){return new Promise(c=>{switch(e){case a.FetchTodoList:this.$userCenter.fetchUser(r.uid).then(({todoList:Y})=>c(Y));break;case a.SubmitTodo:const u=r.getUserData();u.todoList.push(n),c(this.$userCenter.updateUserProfile(u,u.uid))}})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(w.m),t.LFG(v.q))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const k=["*"];let M=(()=>{class o{constructor(){this.OnClick=new t.vpe,this.size=g.vQ.Middle,this.type="button"}onClick(e){e.stopPropagation(),this.OnClick.emit()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-button"]],inputs:{size:"size",white:"white",gray:"gray",disabled:"disabled",fullWidth:"fullWidth",type:"type"},outputs:{OnClick:"OnClick"},ngContentSelectors:k,decls:2,vars:11,consts:[[3,"type","disabled","click"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"button",0),t.NdJ("click",function(c){return n.onClick(c)}),t.Hsn(1),t.qZA()),2&e&&(t.Gre("Button Button--",n.size,""),t.ekj("w-100",void 0!==n.fullWidth)("Button--white",void 0!==n.white)("Button--gray",void 0!==n.gray),t.Q6J("type",n.type)("disabled",void 0!==n.disabled&&!1!==n.disabled))},styles:['[upload][_nghost-%COMP%]   button[_ngcontent-%COMP%]:before{content:"\\e929";font-family:icomoon!important;display:inline-block;color:#fff}[download][_nghost-%COMP%]   button[_ngcontent-%COMP%]:before{content:"\\e937";font-family:icomoon!important;display:inline-block;color:#fff}[import][_nghost-%COMP%]   button[_ngcontent-%COMP%]:before{content:"\\e955";font-family:icomoon!important;display:inline-block;color:#fff}[add][_nghost-%COMP%]   button[_ngcontent-%COMP%]:before{content:"\\e906";font-family:icomoon!important;display:inline-block;color:#fff}[sent][_nghost-%COMP%]   button[_ngcontent-%COMP%]:before{content:"\\e904";font-family:icomoon!important;display:inline-block;color:#fff}[agree][_nghost-%COMP%]   button[_ngcontent-%COMP%]:before{content:"\\e94c";font-family:icomoon!important;display:inline-block;color:#fff}[reject][_nghost-%COMP%]   button[_ngcontent-%COMP%]:before{content:"\\e94b";font-family:icomoon!important;display:inline-block;color:#fff}[reload][_nghost-%COMP%]   button[_ngcontent-%COMP%]:before{content:"\\e901";font-family:icomoon!important;display:inline-block;color:#fff}[copy][_nghost-%COMP%]   button[_ngcontent-%COMP%]:before{content:"\\e936";font-family:icomoon!important;display:inline-block;color:#fff}[buyback][_nghost-%COMP%]   button[_ngcontent-%COMP%]:before{content:"\\e843";font-family:icomoon!important;display:inline-block;color:#fff}[file][_nghost-%COMP%]   button[_ngcontent-%COMP%]:before{content:"\\e95e";font-family:icomoon!important;display:inline-block;color:#fff}[delete_cut][_nghost-%COMP%]   button[_ngcontent-%COMP%]:before{content:"\\e921";font-family:icomoon!important;display:inline-block;color:#fff}[edit][_nghost-%COMP%]   button[_ngcontent-%COMP%]:before{content:"\\e935";font-family:icomoon!important;display:inline-block;color:#fff}[_nghost-%COMP%]{display:inline-block}.Button[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#00a3b4;color:#fff;border:none;border-radius:3px;white-space:nowrap}.Button[_ngcontent-%COMP%]:empty{display:none}.Button[_ngcontent-%COMP%]:hover{background-color:#037f8c}.Button[_ngcontent-%COMP%]:focus{outline:none}.Button[_ngcontent-%COMP%]:disabled{background-color:#c4cdd5;cursor:not-allowed}.Button[_ngcontent-%COMP%]:before{margin-right:.5rem}.Button--lg[_ngcontent-%COMP%]{padding:0 3.5rem;font-size:1rem;height:3rem}.Button--md[_ngcontent-%COMP%]{font-size:.875rem;height:2.5rem;padding:0 1rem}.Button--sm[_ngcontent-%COMP%]{font-size:.875rem;height:2rem;padding:0 1rem}.Button--white[_ngcontent-%COMP%]{border:1px solid #00a3b4;color:#00a3b4;background-color:#fff}.Button--white[_ngcontent-%COMP%]:hover{background-color:#fff;border-color:#037f8c;color:#037f8c}.Button--white[_ngcontent-%COMP%]:disabled{background-color:#fff;border-color:#c4cdd5;color:#c4cdd5;cursor:not-allowed}.Button--white[_ngcontent-%COMP%]:before{color:#00a3b4!important}.Button--gray[_ngcontent-%COMP%]{border:1px solid #c4cdd5;background-color:#fff;color:#637381}.Button--gray[_ngcontent-%COMP%]:hover{background-color:#fff;border-color:#c4cdd5;color:#637381}.Button--gray[_ngcontent-%COMP%]:disabled{background-color:#fff;border-color:#c4cdd5;color:#c4cdd5;cursor:not-allowed}.Button--gray[_ngcontent-%COMP%]:before{color:#637381!important}']}),o})(),x=(()=>{class o extends T{constructor(e,n,r,c){super(e,n),this.fb=r,this.$feature=c,this.form=this.fb.group({id:`${this.uid}${C.k.currentDateTime}`,title:[null,l.kI.required],description:[null]})}get uid(){return this.params.config.user.uid}submit(){this.$feature.fireEvent({action:a.SubmitTodo,input:new b(this.form.getRawValue()).getTodoInput(),user:this.params.config.user}).then(()=>this.confirm())}autoResized(e){const n=e;n.style.height="80px",n.style.height=`${n.scrollHeight>140?140:n.scrollHeight}px`,n.scrollHeight>80&&n.classList.add("scroll-bar")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(_.F),t.Y36(y.a),t.Y36(l.qu),t.Y36(O))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-todo-dialog"]],features:[t.qOj],decls:13,vars:3,consts:[[3,"close"],["title",""],[3,"formGroup"],["formControlName","title","type","text",1,"form-control"],[1,"mt-4"],["formControlName","description",1,"form-control",3,"input"],["footer","",1,"d-flex","flex-row-reverse","align-items-center","px-4","bg-light"],[3,"disabled","size","OnClick"]],template:function(e,n){1&e&&(t.TgZ(0,"app-dialog",0),t.NdJ("close",function(){return n.close()}),t.TgZ(1,"h2",1),t._uU(2,"\u65b0\u589e\u4ee3\u8fa6\u4e8b\u9805"),t.qZA(),t.TgZ(3,"form",2)(4,"h3"),t._uU(5,"\u6a19\u984c"),t.qZA(),t._UZ(6,"input",3),t.TgZ(7,"h3",4),t._uU(8,"\u6558\u8ff0"),t.qZA(),t.TgZ(9,"textarea",5),t.NdJ("input",function(c){return n.autoResized(c.target)}),t.qZA()(),t.TgZ(10,"footer",6)(11,"app-button",7),t.NdJ("OnClick",function(){return n.submit()}),t._uU(12,"\u9001\u51fa"),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("formGroup",n.form),t.xp6(8),t.Q6J("disabled",n.form.invalid)("size",n.sizes.Small))},dependencies:[y.a,M,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:["textarea[_ngcontent-%COMP%]{display:block;width:100%;min-height:80px;max-height:140px;font-size:.75rem}textarea[_ngcontent-%COMP%]::placeholder{color:#0003;font-size:.75rem}footer[_ngcontent-%COMP%]{height:4rem}"]}),o})();var D=s(5575);class B extends f.H{constructor(i){super(i),this.isOpen=!1,this.e=this.detectBlurEvent.bind(this)}detectBlurEvent(i){this.menu.contains(i.target)||this.collapse()}expand(i,e){e&&e.stopPropagation(),this.menu=i,this.isOpen=!0,addEventListener("click",this.e),this.onExpand()}collapse(i){removeEventListener("click",this.e),i&&i.blur(),this.isOpen=!1,this.menu&&this.onClose()}onClose(){}onExpand(){}}const A=["tmenu"],Z=function(o){return{right:o}};function F(o,i){if(1&o&&(t.TgZ(0,"div",3,4),t.Hsn(2,1),t.qZA()),2&o){const e=t.oxw();t.Q6J("ngStyle",t.VKq(1,Z,e.isRight?"0px":""))}}const L=[[["","placeholder",""]],[["","menu",""]]],E=["[placeholder]","[menu]"];let z=(()=>{class o extends B{constructor(){super(),this.OnClose=new t.vpe,this.size=g.vQ.Middle,this.isRight=!1}close(e){e.blur(),this.collapse()}onClose(){this.OnClose.emit()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dropdown"]],viewQuery:function(e,n){if(1&e&&t.Gf(A,5),2&e){let r;t.iGM(r=t.CRH())&&(n.tmenu=r.first)}},inputs:{fullWidth:"fullWidth",disabled:"disabled",autoHeight:"autoHeight",alert:"alert",size:"size"},outputs:{OnClose:"OnClose"},features:[t.qOj],ngContentSelectors:E,decls:5,vars:11,consts:[[3,"disabled","click"],["tDropdown",""],["class","Dropdown__Menu scroll-bar",3,"ngStyle",4,"ngIf"],[1,"Dropdown__Menu","scroll-bar",3,"ngStyle"],["tmenu",""]],template:function(e,n){if(1&e){const r=t.EpF();t.F$t(L),t.TgZ(0,"div")(1,"button",0,1),t.NdJ("click",function(){t.CHM(r);const u=t.MAs(2);return t.KtG(n.isOpen?n.close(u):n.expand(u))}),t.Hsn(3),t.qZA(),t.YNc(4,F,3,3,"div",2),t.qZA()}2&e&&(t.Gre("Dropdown ",n.size,""),t.ekj("w-100",void 0!==n.fullWidth)("Dropdown--alert",n.alert),t.xp6(1),t.ekj("h-auto",void 0!==n.autoHeight),t.Q6J("disabled",void 0!==n.disabled&&!1!==n.disabled),t.xp6(3),t.Q6J("ngIf",n.isOpen))},dependencies:[d.O5,d.PC],styles:['.Dropdown[_ngcontent-%COMP%]{display:inline-flex;position:relative;flex-direction:column}.Dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{height:2.5rem;display:flex;justify-content:center;align-items:center;justify-content:space-between;outline:none;border:0;background-color:inherit;font-size:.875rem;border:1px solid #c4cdd5;border-radius:3px;color:#212b36;background-color:#fff;padding:.5rem 1rem;width:100%}.Dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:after{line-height:100%;content:"\\e917";font-family:icomoon!important;display:inline-block;color:#212b36;margin-left:.25rem;transition:.25s;font-size:.875rem}.Dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:focus:after{transform:rotate(-180deg);transition:.25s}.Dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:focus{border-color:#00a3b4}.Dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:disabled{color:#637381;border:1px solid #dfe3e8;border-radius:3px;background-color:#f4f6f8;cursor:not-allowed}.Dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]  p{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:1;-webkit-box-orient:vertical}.Dropdown[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:after{margin-left:.5rem}.Dropdown--alert[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border-color:#d80238}.Dropdown__Menu[_ngcontent-%COMP%]{box-shadow:0 2px 5px #63738133,0 6px 14px #6373811a,0 24px 24px #6373810a;border:1px solid rgba(99,115,129,.1);z-index:5;position:absolute;top:calc(100% + .25rem);min-width:100%;max-height:220px;width:auto;background-color:#fff;padding:.25rem 0}.Dropdown__Menu[_ngcontent-%COMP%] >button{display:flex;flex-direction:row;align-items:center;padding:0 1rem;height:2.5rem;text-align:left;width:100%;outline:none;border:none;background-color:inherit}.Dropdown__Menu[_ngcontent-%COMP%] >button:hover{background-color:#f4f6f8}.Dropdown__Menu[_ngcontent-%COMP%] >button:disabled{color:#637381;border:1px solid #dfe3e8;border-radius:3px;background-color:#f4f6f8}.sm[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:0 1rem;height:2rem}.lg[_ngcontent-%COMP%] > .Dropdown__Menu[_ngcontent-%COMP%]{padding:0}.lg[_ngcontent-%COMP%] > .Dropdown__Menu[_ngcontent-%COMP%] >button{height:auto;padding:1rem 1.5rem}']}),o})(),J=(()=>{class o{constructor(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-empty"]],decls:4,vars:0,consts:[[1,"Empty"],["src","assets/images/empty.png","alt",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"p"),t._uU(3,"\u67e5\u7121\u8cc7\u6599"),t.qZA()())},styles:[".Empty[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3rem}.Empty[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:8.54rem;width:8.54rem}"]}),o})(),$=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-todo-card"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"todo-card works!"),t.qZA())}}),o})();function j(o,i){1&o&&(t.TgZ(0,"li"),t._UZ(1,"app-todo-card"),t.qZA())}function U(o,i){if(1&o&&(t.TgZ(0,"ul",10),t._uU(1),t.ALo(2,"json"),t.YNc(3,j,2,0,"li",11),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,2,e.datas)," "),t.xp6(2),t.Q6J("ngForOf",e.datas)}}function S(o,i){1&o&&t._UZ(0,"app-empty")}const N=[{path:"",component:(()=>{class o extends f.H{constructor(e,n,r){super(e),this.$overlay=n,this.$feature=r,this.datas=[]}get sortingType(){return p}onInit(){this.refetch()}toggleAddTodoDialog(){this.$overlay.toggleDialog(x,{config:{user:this.user},size:this.sizes.Large,callbacks:{confirm:()=>this.refetch()}})}refetch(){this.$feature.fireEvent({action:a.FetchTodoList,user:this.user}).then(e=>this.datas=(this.sorting?e.sort((n,r)=>this.sorting===p.AscendingByCreateTime?n.createDate>r.createDate?1:-1:n.createDate>r.createDate?-1:1):e).map(n=>new b(n)))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(D.K),t.Y36(_.F),t.Y36(O))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-todo-list-page"]],features:[t.qOj],decls:17,vars:6,consts:[["page-title",""],["page-container",""],[1,"p-4"],[1,"d-flex","flex-row","align-items-","justify-content-between"],[3,"size"],["placeholder",""],["menu","",1,"text-nowrap",3,"click"],["add","",3,"OnClick"],["class","mt-3",4,"ngIf","ngIfElse"],["tEmpty",""],[1,"mt-3"],[4,"ngFor","ngForOf"]],template:function(e,n){if(1&e&&(t.TgZ(0,"header",0),t._uU(1,"\u4ee3\u8fa6\u4e8b\u9805"),t.qZA(),t.TgZ(2,"section",1)(3,"div",2)(4,"nav",3)(5,"app-dropdown",4)(6,"p",5),t._uU(7),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){return n.sorting=n.sortingType.DescendingByCreateTime}),t._uU(9),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return n.sorting=n.sortingType.AscendingByCreateTime}),t._uU(11),t.qZA()(),t.TgZ(12,"app-button",7),t.NdJ("OnClick",function(){return n.toggleAddTodoDialog()}),t._uU(13,"\u65b0\u589e"),t.qZA()(),t.YNc(14,U,4,4,"ul",8),t.qZA()(),t.YNc(15,S,1,0,"ng-template",null,9,t.W1O)),2&e){const r=t.MAs(16);t.xp6(5),t.Q6J("size",n.sizes.Small),t.xp6(2),t.hij(" ",n.sorting||"\u6392\u5e8f\u65b9\u5f0f"," "),t.xp6(2),t.hij(" ",n.sortingType.DescendingByCreateTime," "),t.xp6(2),t.hij(" ",n.sortingType.AscendingByCreateTime," "),t.xp6(3),t.Q6J("ngIf",n.datas.length>0)("ngIfElse",r)}},dependencies:[d.sg,d.O5,z,M,J,$,d.Ts],styles:["section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-shadow:0 1px 2px #eceef199;border:1px solid #eceef1;border-radius:3px;background-color:#fff}"]}),o})()}];let I=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[h.Bz.forChild(N),h.Bz]}),o})();var H=s(5818);let Q=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.ez,I,H.m]}),o})()}}]);