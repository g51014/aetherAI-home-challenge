<section #tMenu>
  <app-menu *ngIf="this.user"></app-menu>
</section>
<main [style.width]="'calc(100vw - ' + tMenu.clientWidth + 'px)'">
  <header #tHeader class="bg-white d-flex flex-row-reverse align-items-center px-4 py-3">
    <nav class="d-flex flex-row align-items-center">
      <ng-template [ngTemplateOutlet]="this.user ? tUser : tLogin"></ng-template>
    </nav>
  </header>
  <div class="scroll-bar pb-4_2" [style.height]="'calc(100vh - ' + tHeader.clientHeight + 'px)'">
    <ng-content></ng-content>
  </div>
  <footer></footer>
</main>


<ng-template #tLogin>
  <a (click)="this.$auth.signWithGoogle()" href="javascript:void(0)">登入</a>
</ng-template>

<ng-template #tUser>
  <p class="d-flex flex-row align-items-center me-2">
    <em class="icon-man ms-0 me-1 cg-font-darkest"></em>
    {{this.user!.name}}
  </p>
  <a (click)="this.$auth.logout()" href="javascript:void(0)">登出</a>
</ng-template>
